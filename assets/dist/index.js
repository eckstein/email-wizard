(()=>{function e(e){return e&&e.__esModule?e.default:e}function t(e,r,o,n=!1){if("document"===e){document.addEventListener(r,o,{passive:n});return}document.querySelectorAll(e).forEach(e=>e.addEventListener(r,o,{passive:n}))}function r(e,t=1e3,o="#f4f0dc"){let n=document.querySelector(e);n&&(n.classList.add("highlight-fade"),n.style.backgroundColor=o,setTimeout(()=>{n.style.backgroundColor=""},t),setTimeout(()=>{n.classList.remove("highlight-fade")},t+1e3))}var o={};function n(t){if(!t.text&&!t.html)throw Error("Message text is required for wizToast");return t.toast=!0,t.customClass={popup:"wiz-toast"},t.position=t.position||"bottom-end",t.showConfirmButton=!1,t.animation=!1,t.timer=t.timer||3e3,t.timerProgressBar=!0,t.icon=t.icon||"success",t.didOpen=t=>{t.onmouseenter=/*@__PURE__*/e(o).stopTimer,t.onmouseleave=/*@__PURE__*/e(o).resumeTimer},/*@__PURE__*/e(o).fire(t)}function a(){let e=new URLSearchParams(window.location.search);["team_switched"].forEach(t=>{if(e.has(t)){"team_switched"===t&&i(`Switched to team "${wizard.active_team_name}" successfully`);let e=function(e,t){let r=e.split("?");if(r.length<2)return e;let o=encodeURIComponent(t)+"=",n=r[1].split(/[&;]/g);for(let e=n.length;e-- >0;)-1!==n[e].lastIndexOf(o,0)&&n.splice(e,1);return r[0]+(n.length>0?"?"+n.join("&"):"")}(window.location.href,t);window.history.replaceState({},"",e)}})}function l({text:e,icon:t="info",timer:r=1e4,asHtml:o=!1}){n({timer:r,icon:t,...o?{html:e}:{text:e}})}function i(e="Success!",t=1e4,r=!1){l({text:e,icon:"success",timer:t,asHtml:r})}function s(e="Error!",t=1e4,r=!1){l({text:e,icon:"error",timer:t,asHtml:r})}function d(e){if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);return e.json()}function c(e){console.error("Error:",e),s(e.message)}function m(e){if(e.target.closest(".dropdown-action")||(e.stopPropagation(),this.classList.contains("disabled")))return;let t=this.querySelector(".wizard-dropdown-panel"),r="true"===t.getAttribute("data-open");document.querySelectorAll(".wizard-dropdown-panel").forEach(e=>{e!==t&&u(e)}),r?u(t):(t.style.display="block",t.setAttribute("data-open","true")),function(e){let t=window.innerWidth-(e.parentElement.offsetLeft+e.parentElement.offsetWidth);e.style.left="",e.style.right="",t<300&&(e.style.left="auto",e.style.right="0")}(t)}function u(e){e.style.display="none",e.setAttribute("data-open","false")}function h(e){(!e.target.closest(".wizard-dropdown")||e.target.closest(".dropdown-action"))&&document.querySelectorAll(".wizard-dropdown-panel").forEach(e=>{u(e)})}async function f(e,t={}){let r={updateUrl:!0,triggerEvents:!0,...t};e&&e.preventDefault();let o=this instanceof Element?this:document.querySelector(`.wizard-tabs-list li[data-tab='${this}']`);if(!o)return;let n=o.getAttribute("data-tab"),a=document.querySelector(".wizard-tabs-list li.active"),l=a?.getAttribute("data-tab");if(r.triggerEvents){let e=new CustomEvent("wizard-tab-before-switch",{detail:{fromTab:l,toTab:n,preventDefault:()=>r.updateUrl=!1},cancelable:!0});if(!o.dispatchEvent(e))return}if(r.updateUrl){let e=new URL(window.location.href);e.searchParams.set("tab",n),window.history.replaceState({},"",e)}document.querySelectorAll(".wizard-tabs-list li").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".wizard-tab-content").forEach(e=>e.classList.remove("active")),o.classList.add("active");let i=document.querySelector(`.wizard-tab-content[data-content='${n}']`);if(i){if(i.dataset.dynamicLoad&&!i.dataset.loaded){i.classList.add("loading");try{let e=await fetch("/api/wiz-ajax/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_tab_content",tab:n,nonce:window.wizard?.nonce})}),t=await e.json();t.success&&(i.innerHTML=t.data.content,i.dataset.loaded="true",window.wizard?.initTabContent&&window.wizard.initTabContent(i))}catch(e){console.error("Failed to load tab content:",e)}finally{i.classList.remove("loading")}}i.classList.add("active")}if(r.triggerEvents){let e=new CustomEvent("wizard-tab-switched",{detail:{tab:n}});o.dispatchEvent(e)}}function g(e){let t=e?`#${e}`:".wizard-tabs";document.querySelectorAll(t).forEach(e=>{let t;let r=new URLSearchParams(window.location.search).get("tab");r&&(t=e.querySelector(`li[data-tab='${r}']`)),t||(t=e.querySelector(".wizard-tabs-list li")),t&&f.call(t,null,{triggerEvents:!1}),e.querySelectorAll(".wizard-tabs-list li").forEach(e=>{e.addEventListener("click",f)})})}void 0!==(o=function(){let e;function t(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")}let r={},o=()=>{r.previousActiveElement instanceof HTMLElement?(r.previousActiveElement.focus(),r.previousActiveElement=null):document.body&&document.body.focus()},n=e=>new Promise(t=>{if(!e)return t();let n=window.scrollX,a=window.scrollY;r.restoreFocusTimeout=setTimeout(()=>{o(),t()},100),window.scrollTo(n,a)}),a="swal2-",l=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((e,t)=>(e[t]=a+t,e),{}),i=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=a+t,e),{}),s="SweetAlert2:",d=e=>e.charAt(0).toUpperCase()+e.slice(1),c=e=>{console.warn(`${s} ${"object"==typeof e?e.join(" "):e}`)},m=e=>{console.error(`${s} ${e}`)},u=[],h=e=>{u.includes(e)||(u.push(e),c(e))},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;h(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},g=e=>"function"==typeof e?e():e,p=e=>e&&"function"==typeof e.toPromise,v=e=>p(e)?e.toPromise():Promise.resolve(e),b=e=>e&&Promise.resolve(e)===e,w=()=>document.body.querySelector(`.${l.container}`),y=e=>{let t=w();return t?t.querySelector(e):null},C=e=>y(`.${e}`),x=()=>C(l.popup),E=()=>C(l.icon),S=()=>C(l.title),k=()=>C(l["html-container"]),_=()=>C(l.image),T=()=>C(l["progress-steps"]),A=()=>C(l["validation-message"]),N=()=>y(`.${l.actions} .${l.confirm}`),R=()=>y(`.${l.actions} .${l.cancel}`),D=()=>y(`.${l.actions} .${l.deny}`),M=()=>y(`.${l.loader}`),O=()=>C(l.actions),L=()=>C(l.footer),B=()=>C(l["timer-progress-bar"]),H=()=>C(l.close),P=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,z=()=>{let e=x();if(!e)return[];let t=Array.from(e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((e,t)=>{let r=parseInt(e.getAttribute("tabindex")||"0"),o=parseInt(t.getAttribute("tabindex")||"0");return r>o?1:r<o?-1:0}),r=Array.from(e.querySelectorAll(P)).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(t.concat(r))].filter(e=>eo(e))},Z=()=>V(document.body,l.shown)&&!V(document.body,l["toast-shown"])&&!V(document.body,l["no-backdrop"]),I=()=>{let e=x();return!!e&&V(e,l.toast)},F=(e,t)=>{if(e.textContent="",t){let r=new DOMParser().parseFromString(t,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(t=>{e.appendChild(t)});let n=r.querySelector("body");n&&Array.from(n.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},V=(e,t)=>{if(!t)return!1;let r=t.split(/\s+/);for(let t=0;t<r.length;t++)if(!e.classList.contains(r[t]))return!1;return!0},$=(e,t)=>{Array.from(e.classList).forEach(r=>{Object.values(l).includes(r)||Object.values(i).includes(r)||Object.values(t.showClass||{}).includes(r)||e.classList.remove(r)})},j=(e,t,r)=>{if($(e,t),!t.customClass)return;let o=t.customClass[r];if(o){if("string"!=typeof o&&!o.forEach){c(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof o}"`);return}K(e,o)}},U=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${l.popup} > .${l[t]}`);case"checkbox":return e.querySelector(`.${l.popup} > .${l.checkbox} input`);case"radio":return e.querySelector(`.${l.popup} > .${l.radio} input:checked`)||e.querySelector(`.${l.popup} > .${l.radio} input:first-child`);case"range":return e.querySelector(`.${l.popup} > .${l.range} input`);default:return e.querySelector(`.${l.popup} > .${l.input}`)}},q=e=>{if(e.focus(),"file"!==e.type){let t=e.value;e.value="",e.value=t}},W=(e,t,r)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{r?e.classList.add(t):e.classList.remove(t)}):r?e.classList.add(t):e.classList.remove(t)}))},K=(e,t)=>{W(e,t,!0)},Y=(e,t)=>{W(e,t,!1)},G=(e,t)=>{let r=Array.from(e.children);for(let e=0;e<r.length;e++){let o=r[e];if(o instanceof HTMLElement&&V(o,t))return o}},X=(e,t,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||0===parseInt(r)?e.style.setProperty(t,"number"==typeof r?`${r}px`:r):e.style.removeProperty(t)},J=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},Q=e=>{e&&(e.style.display="none")},ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver(()=>{er(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},et=(e,t,r,o)=>{let n=e.querySelector(t);n&&n.style.setProperty(r,o)},er=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex";t?J(e,r):Q(e)},eo=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),en=()=>!eo(N())&&!eo(D())&&!eo(R()),ea=e=>e.scrollHeight>e.clientHeight,el=e=>{let t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||o>0},ei=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=B();r&&eo(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},es=()=>{let e=B();if(!e)return;let t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";let r=parseInt(window.getComputedStyle(e).width);e.style.width=`${t/r*100}%`},ed=()=>"undefined"==typeof window||"undefined"==typeof document,ec=`
 <div aria-labelledby="${l.title}" aria-describedby="${l["html-container"]}" class="${l.popup}" tabindex="-1">
   <button type="button" class="${l.close}"></button>
   <ul class="${l["progress-steps"]}"></ul>
   <div class="${l.icon}"></div>
   <img class="${l.image}" />
   <h2 class="${l.title}" id="${l.title}"></h2>
   <div class="${l["html-container"]}" id="${l["html-container"]}"></div>
   <input class="${l.input}" id="${l.input}" />
   <input type="file" class="${l.file}" />
   <div class="${l.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${l.select}" id="${l.select}"></select>
   <div class="${l.radio}"></div>
   <label class="${l.checkbox}">
     <input type="checkbox" id="${l.checkbox}" />
     <span class="${l.label}"></span>
   </label>
   <textarea class="${l.textarea}" id="${l.textarea}"></textarea>
   <div class="${l["validation-message"]}" id="${l["validation-message"]}"></div>
   <div class="${l.actions}">
     <div class="${l.loader}"></div>
     <button type="button" class="${l.confirm}"></button>
     <button type="button" class="${l.deny}"></button>
     <button type="button" class="${l.cancel}"></button>
   </div>
   <div class="${l.footer}"></div>
   <div class="${l["timer-progress-bar-container"]}">
     <div class="${l["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),em=()=>{let e=w();return!!e&&(e.remove(),Y([document.documentElement,document.body],[l["no-backdrop"],l["toast-shown"],l["has-column"]]),!0)},eu=()=>{r.currentInstance.resetValidationMessage()},eh=()=>{let e=x(),t=G(e,l.input),r=G(e,l.file),o=e.querySelector(`.${l.range} input`),n=e.querySelector(`.${l.range} output`),a=G(e,l.select),i=e.querySelector(`.${l.checkbox} input`),s=G(e,l.textarea);t.oninput=eu,r.onchange=eu,a.onchange=eu,i.onchange=eu,s.oninput=eu,o.oninput=()=>{eu(),n.value=o.value},o.onchange=()=>{eu(),n.value=o.value}},ef=e=>"string"==typeof e?document.querySelector(e):e,eg=e=>{let t=x();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},ep=e=>{"rtl"===window.getComputedStyle(e).direction&&K(w(),l.rtl)},ev=e=>{let t=em();if(ed()){m("SweetAlert2 requires document to initialize");return}let r=document.createElement("div");r.className=l.container,t&&K(r,l["no-transition"]),F(r,ec);let o=ef(e.target);o.appendChild(r),eg(e),ep(o),eh()},eb=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?ew(e,t):e&&F(t,e)},ew=(e,t)=>{e.jquery?ey(t,e):F(t,e.toString())},ey=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},eC=(e,t)=>{let r=O(),o=M();r&&o&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?J(r):Q(r),j(r,t,"actions"),function(e,t,r){let o=N(),n=D(),a=R();o&&n&&a&&(ex(o,"confirm",r),ex(n,"deny",r),ex(a,"cancel",r),function(e,t,r,o){if(!o.buttonsStyling){Y([e,t,r],l.styled);return}K([e,t,r],l.styled),o.confirmButtonColor&&(e.style.backgroundColor=o.confirmButtonColor,K(e,l["default-outline"])),o.denyButtonColor&&(t.style.backgroundColor=o.denyButtonColor,K(t,l["default-outline"])),o.cancelButtonColor&&(r.style.backgroundColor=o.cancelButtonColor,K(r,l["default-outline"]))}(o,n,a,r),r.reverseButtons&&(r.toast?(e.insertBefore(a,o),e.insertBefore(n,o)):(e.insertBefore(a,t),e.insertBefore(n,t),e.insertBefore(o,t))))}(r,o,t),F(o,t.loaderHtml||""),j(o,t,"loader"))};function ex(e,t,r){let o=d(t);er(e,r[`show${o}Button`],"inline-block"),F(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=l[t],j(e,r,`${t}Button`)}let eE=(e,t)=>{let r=H();r&&(F(r,t.closeButtonHtml||""),j(r,t,"closeButton"),er(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},eS=(e,t)=>{var r,o,n;let a=w();a&&("string"==typeof(r=t.backdrop)?a.style.background=r:r||K([document.documentElement,document.body],l["no-backdrop"]),(o=t.position)&&(o in l?K(a,l[o]):(c('The "position" parameter is not valid, defaulting to "center"'),K(a,l.center))),(n=t.grow)&&K(a,l[`grow-${n}`]),j(a,t,"container"))};var ek={innerParams:new WeakMap,domCache:new WeakMap};let e_=["input","file","range","select","radio","checkbox","textarea"],eT=(e,t)=>{let r=x();if(!r)return;let o=ek.innerParams.get(e),n=!o||t.input!==o.input;e_.forEach(e=>{let o=G(r,l[e]);o&&(eR(e,t.inputAttributes),o.className=l[e],n&&Q(o))}),t.input&&(n&&eA(t),eD(t))},eA=e=>{if(!e.input)return;if(!eH[e.input]){m(`Unexpected type of input! Expected ${Object.keys(eH).join(" | ")}, got "${e.input}"`);return}let t=eL(e.input);if(!t)return;let r=eH[e.input](t,e);J(t),e.inputAutoFocus&&setTimeout(()=>{q(r)})},eN=e=>{for(let t=0;t<e.attributes.length;t++){let r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},eR=(e,t)=>{let r=x();if(!r)return;let o=U(r,e);if(o)for(let e in eN(o),t)o.setAttribute(e,t[e])},eD=e=>{if(!e.input)return;let t=eL(e.input);t&&j(t,e,"input")},eM=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},eO=(e,t,r)=>{if(r.inputLabel){let o=document.createElement("label"),n=l["input-label"];o.setAttribute("for",e.id),o.className=n,"object"==typeof r.customClass&&K(o,r.customClass.inputLabel),o.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",o)}},eL=e=>{let t=x();if(t)return G(t,l[e]||l.input)},eB=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:b(t)||c(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},eH={};eH.text=eH.email=eH.password=eH.number=eH.tel=eH.url=eH.search=eH.date=eH["datetime-local"]=eH.time=eH.week=eH.month=(e,t)=>(eB(e,t.inputValue),eO(e,e,t),eM(e,t),e.type=t.input,e),eH.file=(e,t)=>(eO(e,e,t),eM(e,t),e),eH.range=(e,t)=>{let r=e.querySelector("input"),o=e.querySelector("output");return eB(r,t.inputValue),r.type=t.input,eB(o,t.inputValue),eO(r,e,t),e},eH.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){let r=document.createElement("option");F(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return eO(e,e,t),e},eH.radio=e=>(e.textContent="",e),eH.checkbox=(e,t)=>{let r=U(x(),"checkbox");return r.value="1",r.checked=!!t.inputValue,F(e.querySelector("span"),t.inputPlaceholder||t.inputLabel),r},eH.textarea=(e,t)=>{eB(e,t.inputValue),eM(e,t),eO(e,e,t);let r=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let o=parseInt(window.getComputedStyle(x()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;let n=e.offsetWidth+r(e);n>o?x().style.width=`${n}px`:X(x(),"width",t.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};let eP=(e,t)=>{let r=k();r&&(ee(r),j(r,t,"htmlContainer"),t.html?(eb(t.html,r),J(r,"block")):t.text?(r.textContent=t.text,J(r,"block")):Q(r),eT(e,t))},ez=(e,t)=>{let r=L();r&&(ee(r),er(r,t.footer,"block"),t.footer&&eb(t.footer,r),j(r,t,"footer"))},eZ=(e,t)=>{let r=ek.innerParams.get(e),o=E();if(o){if(r&&t.icon===r.icon){ej(o,t),eI(o,t);return}if(!t.icon&&!t.iconHtml){Q(o);return}if(t.icon&&-1===Object.keys(i).indexOf(t.icon)){m(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Q(o);return}J(o),ej(o,t),eI(o,t),K(o,t.showClass&&t.showClass.icon)}},eI=(e,t)=>{for(let[r,o]of Object.entries(i))t.icon!==r&&Y(e,o);K(e,t.icon&&i[t.icon]),eU(e,t),eF(),j(e,t,"icon")},eF=()=>{let e=x();if(!e)return;let t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<r.length;e++)r[e].style.backgroundColor=t},eV=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,e$=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ej=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,o="";t.iconHtml?o=eq(t.iconHtml):"success"===t.icon?(o=eV,r=r.replace(/ style=".*?"/g,"")):"error"===t.icon?o=e$:t.icon&&(o=eq({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==o.trim()&&F(e,o)},eU=(e,t)=>{if(t.iconColor){for(let r of(e.style.color=t.iconColor,e.style.borderColor=t.iconColor,[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"]))et(e,r,"background-color",t.iconColor);et(e,".swal2-success-ring","border-color",t.iconColor)}},eq=e=>`<div class="${l["icon-content"]}">${e}</div>`,eW=(e,t)=>{let r=_();if(r){if(!t.imageUrl){Q(r);return}J(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),X(r,"width",t.imageWidth),X(r,"height",t.imageHeight),r.className=l.image,j(r,t,"image")}},eK=(e,t)=>{let r=w(),o=x();if(r&&o){if(t.toast){X(r,"width",t.width),o.style.width="100%";let e=M();e&&o.insertBefore(e,E())}else X(o,"width",t.width);X(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),Q(A()),eY(o,t)}},eY=(e,t)=>{let r=t.showClass||{};e.className=`${l.popup} ${eo(e)?r.popup:""}`,t.toast?(K([document.documentElement,document.body],l["toast-shown"]),K(e,l.toast)):K(e,l.modal),j(e,t,"popup"),"string"==typeof t.customClass&&K(e,t.customClass),t.icon&&K(e,l[`icon-${t.icon}`])},eG=(e,t)=>{let r=T();if(!r)return;let{progressSteps:o,currentProgressStep:n}=t;if(!o||0===o.length||void 0===n){Q(r);return}J(r),r.textContent="",n>=o.length&&c("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((e,a)=>{let i=eX(e);if(r.appendChild(i),a===n&&K(i,l["active-progress-step"]),a!==o.length-1){let e=eJ(t);r.appendChild(e)}})},eX=e=>{let t=document.createElement("li");return K(t,l["progress-step"]),F(t,e),t},eJ=e=>{let t=document.createElement("li");return K(t,l["progress-step-line"]),e.progressStepsDistance&&X(t,"width",e.progressStepsDistance),t},eQ=(e,t)=>{let r=S();r&&(ee(r),er(r,t.title||t.titleText,"block"),t.title&&eb(t.title,r),t.titleText&&(r.innerText=t.titleText),j(r,t,"title"))},e1=(e,t)=>{eK(e,t),eS(e,t),eG(e,t),eZ(e,t),eW(e,t),eQ(e,t),eE(e,t),eP(e,t),eC(e,t),ez(e,t);let o=x();"function"==typeof t.didRender&&o&&t.didRender(o),r.eventEmitter.emit("didRender",o)},e0=()=>{var e;return null===(e=N())||void 0===e?void 0:e.click()},e2=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e4=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},e3=(e,t,r)=>{e4(e),t.toast||(e.keydownHandler=e=>e8(t,e,r),e.keydownTarget=t.keydownListenerCapture?window:x(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},e5=(e,t)=>{var r;let o=z();if(o.length){(e+=t)===o.length?e=0:-1===e&&(e=o.length-1),o[e].focus();return}null===(r=x())||void 0===r||r.focus()},e7=["ArrowRight","ArrowDown"],e6=["ArrowLeft","ArrowUp"],e8=(e,t,r)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?e9(t,e):"Tab"===t.key?te(t):[...e7,...e6].includes(t.key)?tt(t.key):"Escape"===t.key&&tr(t,e,r)))},e9=(e,t)=>{if(!g(t.allowEnterKey))return;let r=U(x(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;e0(),e.preventDefault()}},te=e=>{let t=e.target,r=z(),o=-1;for(let e=0;e<r.length;e++)if(t===r[e]){o=e;break}e.shiftKey?e5(o,-1):e5(o,1),e.stopPropagation(),e.preventDefault()},tt=e=>{let t=O(),r=N(),o=D(),n=R();if(!t||!r||!o||!n||document.activeElement instanceof HTMLElement&&![r,o,n].includes(document.activeElement))return;let a=e7.includes(e)?"nextElementSibling":"previousElementSibling",l=document.activeElement;if(l){for(let e=0;e<t.children.length;e++){if(!(l=l[a]))return;if(l instanceof HTMLButtonElement&&eo(l))break}l instanceof HTMLButtonElement&&l.focus()}},tr=(e,t,r)=>{g(t.allowEscapeKey)&&(e.preventDefault(),r(e2.esc))};var to={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let tn=()=>{let e=w();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},ta=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},tl="undefined"!=typeof window&&!!window.GestureEvent,ti=()=>{if(tl&&!V(document.body,l.iosfix)){let e=document.body.scrollTop;document.body.style.top=`${-1*e}px`,K(document.body,l.iosfix),ts()}},ts=()=>{let e;let t=w();t&&(t.ontouchstart=t=>{e=td(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())})},td=e=>{let t=e.target,r=w(),o=k();return!(!r||!o||tc(e)||tm(e))&&!!(t===r||!ea(r)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!(ea(o)&&o.contains(t)))},tc=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,tm=e=>e.touches&&e.touches.length>1,tu=()=>{if(V(document.body,l.iosfix)){let e=parseInt(document.body.style.top,10);Y(document.body,l.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},th=()=>{let e=document.createElement("div");e.className=l["scrollbar-measure"],document.body.appendChild(e);let t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},tf=null,tg=e=>{null===tf&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(tf=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${tf+th()}px`)},tp=()=>{null!==tf&&(document.body.style.paddingRight=`${tf}px`,tf=null)};function tv(e,t,o,a){I()?tk(e,a):(n(o).then(()=>tk(e,a)),e4(r)),tl?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),Z()&&(tp(),tu(),ta()),Y([document.documentElement,document.body],[l.shown,l["height-auto"],l["no-backdrop"],l["toast-shown"]])}function tb(e){e=tx(e);let t=to.swalPromiseResolve.get(this),r=tw(this);this.isAwaitingPromise?e.isDismissed||(tC(this),t(e)):r&&t(e)}let tw=e=>{let t=x();if(!t)return!1;let r=ek.innerParams.get(e);if(!r||V(t,r.hideClass.popup))return!1;Y(t,r.showClass.popup),K(t,r.hideClass.popup);let o=w();return Y(o,r.showClass.backdrop),K(o,r.hideClass.backdrop),tE(e,t,r),!0};function ty(e){let t=to.swalPromiseReject.get(this);tC(this),t&&t(e)}let tC=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,ek.innerParams.get(e)||e._destroy())},tx=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),tE=(e,t,o)=>{var n;let a=w(),l=el(t);"function"==typeof o.willClose&&o.willClose(t),null===(n=r.eventEmitter)||void 0===n||n.emit("willClose",t),l?tS(e,t,a,o.returnFocus,o.didClose):tv(e,a,o.returnFocus,o.didClose)},tS=(e,t,o,n,a)=>{r.swalCloseEventFinishedCallback=tv.bind(null,e,o,n,a);let l=function(e){if(e.target===t){var o;null===(o=r.swalCloseEventFinishedCallback)||void 0===o||o.call(r),delete r.swalCloseEventFinishedCallback,t.removeEventListener("animationend",l),t.removeEventListener("transitionend",l)}};t.addEventListener("animationend",l),t.addEventListener("transitionend",l)},tk=(e,t)=>{setTimeout(()=>{var o;"function"==typeof t&&t.bind(e.params)(),null===(o=r.eventEmitter)||void 0===o||o.emit("didClose"),e._destroy&&e._destroy()})},t_=e=>{let t=x();if(t||new r1,!(t=x()))return;let r=M();I()?Q(E()):tT(t,e),J(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},tT=(e,t)=>{let r=O(),o=M();r&&o&&(!t&&eo(N())&&(t=N()),J(r),t&&(Q(t),o.setAttribute("data-button-to-replace",t.className),r.insertBefore(o,t)),K([e,r],l.loading))},tA=(e,t)=>{"select"===t.input||"radio"===t.input?tO(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(p(t.inputValue)||b(t.inputValue))&&(t_(N()),tL(e,t))},tN=(e,t)=>{let r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return tR(r);case"radio":return tD(r);case"file":return tM(r);default:return t.inputAutoTrim?r.value.trim():r.value}},tR=e=>e.checked?1:0,tD=e=>e.checked?e.value:null,tM=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,tO=(e,t)=>{let r=x();if(!r)return;let o=e=>{"select"===t.input?function(e,t,r){let o=G(e,l.select);if(!o)return;let n=(e,t,o)=>{let n=document.createElement("option");n.value=o,F(n,t),n.selected=tH(o,r.inputValue),e.appendChild(n)};t.forEach(e=>{let t=e[0],r=e[1];if(Array.isArray(r)){let e=document.createElement("optgroup");e.label=t,e.disabled=!1,o.appendChild(e),r.forEach(t=>n(e,t[1],t[0]))}else n(o,r,t)}),o.focus()}(r,tB(e),t):"radio"===t.input&&function(e,t,r){let o=G(e,l.radio);if(!o)return;t.forEach(e=>{let t=e[0],n=e[1],a=document.createElement("input"),i=document.createElement("label");a.type="radio",a.name=l.radio,a.value=t,tH(t,r.inputValue)&&(a.checked=!0);let s=document.createElement("span");F(s,n),s.className=l.label,i.appendChild(a),i.appendChild(s),o.appendChild(i)});let n=o.querySelectorAll("input");n.length&&n[0].focus()}(r,tB(e),t)};p(t.inputOptions)||b(t.inputOptions)?(t_(N()),v(t.inputOptions).then(t=>{e.hideLoading(),o(t)})):"object"==typeof t.inputOptions?o(t.inputOptions):m(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},tL=(e,t)=>{let r=e.getInput();r&&(Q(r),v(t.inputValue).then(o=>{r.value="number"===t.input?`${parseFloat(o)||0}`:`${o}`,J(r),r.focus(),e.hideLoading()}).catch(t=>{m(`Error in inputValue promise: ${t}`),r.value="",J(r),r.focus(),e.hideLoading()}))},tB=e=>{let t=[];return e instanceof Map?e.forEach((e,r)=>{let o=e;"object"==typeof o&&(o=tB(o)),t.push([r,o])}):Object.keys(e).forEach(r=>{let o=e[r];"object"==typeof o&&(o=tB(o)),t.push([r,o])}),t},tH=(e,t)=>!!t&&t.toString()===e.toString(),tP=e=>{let t=ek.innerParams.get(e);e.disableButtons(),t.input?tI(e,"confirm"):tU(e,!0)},tz=e=>{let t=ek.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?tI(e,"deny"):tV(e,!1)},tZ=(e,t)=>{e.disableButtons(),t(e2.cancel)},tI=(e,t)=>{let r=ek.innerParams.get(e);if(!r.input){m(`The "input" parameter is needed to be set when using returnInputValueOn${d(t)}`);return}let o=e.getInput(),n=tN(e,r);r.inputValidator?tF(e,n,t):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||o.validationMessage)):"deny"===t?tV(e,n):tU(e,n)},tF=(e,t,r)=>{let o=ek.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>v(o.inputValidator(t,o.validationMessage))).then(o=>{e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):"deny"===r?tV(e,t):tU(e,t)})},tV=(e,t)=>{let r=ek.innerParams.get(e||void 0);r.showLoaderOnDeny&&t_(D()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>v(r.preDeny(t,r.validationMessage))).then(r=>{!1===r?(e.hideLoading(),tC(e)):e.close({isDenied:!0,value:void 0===r?t:r})}).catch(t=>tj(e||void 0,t))):e.close({isDenied:!0,value:t})},t$=(e,t)=>{e.close({isConfirmed:!0,value:t})},tj=(e,t)=>{e.rejectPromise(t)},tU=(e,t)=>{let r=ek.innerParams.get(e||void 0);r.showLoaderOnConfirm&&t_(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>v(r.preConfirm(t,r.validationMessage))).then(r=>{eo(A())||!1===r?(e.hideLoading(),tC(e)):t$(e,void 0===r?t:r)}).catch(t=>tj(e||void 0,t))):t$(e,t)};function tq(){let e=ek.innerParams.get(this);if(!e)return;let t=ek.domCache.get(this);Q(t.loader),I()?e.icon&&J(E()):tW(t),Y([t.popup,t.actions],l.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}let tW=e=>{let t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?J(t[0],"inline-block"):en()&&Q(e.actions)};function tK(){let e=ek.innerParams.get(this),t=ek.domCache.get(this);return t?U(t.popup,e.input):null}function tY(e,t,r){let o=ek.domCache.get(e);t.forEach(e=>{o[e].disabled=r})}function tG(e,t){let r=x();if(r&&e){if("radio"===e.type){let e=r.querySelectorAll(`[name="${l.radio}"]`);for(let r=0;r<e.length;r++)e[r].disabled=t}else e.disabled=t}}function tX(){tY(this,["confirmButton","denyButton","cancelButton"],!1)}function tJ(){tY(this,["confirmButton","denyButton","cancelButton"],!0)}function tQ(){tG(this.getInput(),!1)}function t1(){tG(this.getInput(),!0)}function t0(e){let t=ek.domCache.get(this),r=ek.innerParams.get(this);F(t.validationMessage,e),t.validationMessage.className=l["validation-message"],r.customClass&&r.customClass.validationMessage&&K(t.validationMessage,r.customClass.validationMessage),J(t.validationMessage);let o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",l["validation-message"]),q(o),K(o,l.inputerror))}function t2(){let e=ek.domCache.get(this);e.validationMessage&&Q(e.validationMessage);let t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Y(t,l.inputerror))}let t4={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},t3=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],t5={allowEnterKey:void 0},t7=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],t6=e=>Object.prototype.hasOwnProperty.call(t4,e),t8=e=>-1!==t3.indexOf(e),t9=e=>t5[e],re=e=>{t6(e)||c(`Unknown parameter "${e}"`)},rt=e=>{t7.includes(e)&&c(`The parameter "${e}" is incompatible with toasts`)},rr=e=>{let t=t9(e);t&&f(e,t)},ro=e=>{for(let t in!1===e.backdrop&&e.allowOutsideClick&&c('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)re(t),e.toast&&rt(t),rr(t)};function rn(e){let t=x(),r=ek.innerParams.get(this);if(!t||V(t,r.hideClass.popup)){c("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let o=Object.assign({},r,ra(e));e1(this,o),ek.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}let ra=e=>{let t={};return Object.keys(e).forEach(r=>{t8(r)?t[r]=e[r]:c(`Invalid parameter to update: ${r}`)}),t};function rl(){let e=ek.domCache.get(this),t=ek.innerParams.get(this);if(!t){rs(this);return}e.popup&&r.swalCloseEventFinishedCallback&&(r.swalCloseEventFinishedCallback(),delete r.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),r.eventEmitter.emit("didDestroy"),ri(this)}let ri=e=>{rs(e),delete e.params,delete r.keydownHandler,delete r.keydownTarget,delete r.currentInstance},rs=e=>{e.isAwaitingPromise?(rd(ek,e),e.isAwaitingPromise=!0):(rd(to,e),rd(ek,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},rd=(e,t)=>{for(let r in e)e[r].delete(t)};var rc=/*#__PURE__*/Object.freeze({__proto__:null,_destroy:rl,close:tb,closeModal:tb,closePopup:tb,closeToast:tb,disableButtons:tJ,disableInput:t1,disableLoading:tq,enableButtons:tX,enableInput:tQ,getInput:tK,handleAwaitingPromise:tC,hideLoading:tq,rejectPromise:ty,resetValidationMessage:t2,showValidationMessage:t0,update:rn});let rm=(e,t,r)=>{e.toast?ru(e,t,r):(rg(t),rp(t),rv(e,t,r))},ru=(e,t,r)=>{t.popup.onclick=()=>{e&&(rh(e)||e.timer||e.input)||r(e2.close)}},rh=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton),rf=!1,rg=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(rf=!0)}}},rp=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(rf=!0)}}},rv=(e,t,r)=>{t.container.onclick=o=>{if(rf){rf=!1;return}o.target===t.container&&g(e.allowOutsideClick)&&r(e2.backdrop)}},rb=e=>"object"==typeof e&&e.jquery,rw=e=>e instanceof Element||rb(e),ry=()=>{if(r.timeout)return es(),r.timeout.stop()},rC=()=>{if(r.timeout){let e=r.timeout.start();return ei(e),e}},rx=!1,rE={},rS=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(let e in rE){let r=t.getAttribute(e);if(r){rE[e].fire({template:r});return}}};r.eventEmitter=new class{constructor(){this.events={}}_getHandlersByEventName(e){return void 0===this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){let r=this._getHandlersByEventName(e);r.includes(t)||r.push(t)}once(e,t){var r=this;let o=function(){r.removeListener(e,o);for(var n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];t.apply(r,a)};this.on(e,o)}emit(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,r)}catch(e){console.error(e)}})}removeListener(e,t){let r=this._getHandlersByEventName(e),o=r.indexOf(t);o>-1&&r.splice(o,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}};var rk=/*#__PURE__*/Object.freeze({__proto__:null,argsToParams:e=>{let t={};return"object"!=typeof e[0]||rw(e[0])?["title","html","icon"].forEach((r,o)=>{let n=e[o];"string"==typeof n||rw(n)?t[r]=n:void 0!==n&&m(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof n}`)}):Object.assign(t,e[0]),t},bindClickHandler:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";rE[e]=this,rx||(document.body.addEventListener("click",rS),rx=!0)},clickCancel:()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},clickConfirm:e0,clickDeny:()=>{var e;return null===(e=D())||void 0===e?void 0:e.click()},enableLoading:t_,fire:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new this(...t)},getActions:O,getCancelButton:R,getCloseButton:H,getConfirmButton:N,getContainer:w,getDenyButton:D,getFocusableElements:z,getFooter:L,getHtmlContainer:k,getIcon:E,getIconContent:()=>C(l["icon-content"]),getImage:_,getInputLabel:()=>C(l["input-label"]),getLoader:M,getPopup:x,getProgressSteps:T,getTimerLeft:()=>r.timeout&&r.timeout.getTimerLeft(),getTimerProgressBar:B,getTitle:S,getValidationMessage:A,increaseTimer:e=>{if(r.timeout){let t=r.timeout.increase(e);return ei(t,!0),t}},isDeprecatedParameter:t9,isLoading:()=>{let e=x();return!!e&&e.hasAttribute("data-loading")},isTimerRunning:()=>!!(r.timeout&&r.timeout.isRunning()),isUpdatableParameter:t8,isValidParameter:t6,isVisible:()=>eo(x()),mixin:function(e){return class extends this{_main(t,r){return super._main(t,Object.assign({},e,r))}}},off:(e,t)=>{if(!e){r.eventEmitter.reset();return}t?r.eventEmitter.removeListener(e,t):r.eventEmitter.removeAllListeners(e)},on:(e,t)=>{r.eventEmitter.on(e,t)},once:(e,t)=>{r.eventEmitter.once(e,t)},resumeTimer:rC,showLoading:t_,stopTimer:ry,toggleTimer:()=>{let e=r.timeout;return e&&(e.running?ry():rC())}});class r_{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){let t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let rT=["swal-title","swal-html","swal-footer"],rA=e=>{let t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};let r=t.content;return rH(r),Object.assign(rN(r),rR(r),rD(r),rM(r),rO(r),rL(r),rB(r,rT))},rN=e=>{let t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{rP(e,["name","value"]);let r=e.getAttribute("name"),o=e.getAttribute("value");r&&o&&("boolean"==typeof t4[r]?t[r]="false"!==o:"object"==typeof t4[r]?t[r]=JSON.parse(o):t[r]=o)}),t},rR=e=>{let t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{let r=e.getAttribute("name"),o=e.getAttribute("value");r&&o&&(t[r]=Function(`return ${o}`)())}),t},rD=e=>{let t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{rP(e,["type","color","aria-label"]);let r=e.getAttribute("type");r&&["confirm","cancel","deny"].includes(r)&&(t[`${r}ButtonText`]=e.innerHTML,t[`show${d(r)}Button`]=!0,e.hasAttribute("color")&&(t[`${r}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${r}ButtonAriaLabel`]=e.getAttribute("aria-label")))}),t},rM=e=>{let t={},r=e.querySelector("swal-image");return r&&(rP(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},rO=e=>{let t={},r=e.querySelector("swal-icon");return r&&(rP(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},rL=e=>{let t={},r=e.querySelector("swal-input");r&&(rP(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));let o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(t.inputOptions={},o.forEach(e=>{rP(e,["value"]);let r=e.getAttribute("value");if(!r)return;let o=e.innerHTML;t.inputOptions[r]=o})),t},rB=(e,t)=>{let r={};for(let o in t){let n=t[o],a=e.querySelector(n);a&&(rP(a,[]),r[n.replace(/^swal-/,"")]=a.innerHTML.trim())}return r},rH=e=>{let t=rT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{let r=e.tagName.toLowerCase();t.includes(r)||c(`Unrecognized element <${r}>`)})},rP=(e,t)=>{Array.from(e.attributes).forEach(r=>{-1===t.indexOf(r.name)&&c([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},rz=e=>{let t=w(),o=x();"function"==typeof e.willOpen&&e.willOpen(o),r.eventEmitter.emit("willOpen",o);let n=window.getComputedStyle(document.body).overflowY;rV(t,o,e),setTimeout(()=>{rI(t,o)},10),Z()&&(rF(t,e.scrollbarPadding,n),tn()),I()||r.previousActiveElement||(r.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout(()=>e.didOpen(o)),r.eventEmitter.emit("didOpen",o),Y(t,l["no-transition"])},rZ=e=>{let t=x();if(e.target!==t)return;let r=w();t.removeEventListener("animationend",rZ),t.removeEventListener("transitionend",rZ),r.style.overflowY="auto"},rI=(e,t)=>{el(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",rZ),t.addEventListener("transitionend",rZ)):e.style.overflowY="auto"},rF=(e,t,r)=>{ti(),t&&"hidden"!==r&&tg(r),setTimeout(()=>{e.scrollTop=0})},rV=(e,t,r)=>{K(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),J(t,"grid"),setTimeout(()=>{K(t,r.showClass.popup),t.style.removeProperty("opacity")},10)):J(t,"grid"),K([document.documentElement,document.body],l.shown),r.heightAuto&&r.backdrop&&!r.toast&&K([document.documentElement,document.body],l["height-auto"])};var r$={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")},rj=/*#__PURE__*/new WeakMap;class rU{constructor(){if(r=void 0,function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(this,rj),rj.set(this,r),"undefined"==typeof window)return;e=this;for(var r,o,n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];let i=Object.freeze(this.constructor.argsToParams(a));this.params=i,this.isAwaitingPromise=!1,o=this._main(e.params),rj.set(t(rj,this),o)}_main(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ro(Object.assign({},o,t)),r.currentInstance){let e=to.swalPromiseResolve.get(r.currentInstance),{isAwaitingPromise:t}=r.currentInstance;r.currentInstance._destroy(),t||e({isDismissed:!0}),Z()&&ta()}r.currentInstance=e;let n=rW(t,o);n.inputValidator||("email"===n.input&&(n.inputValidator=r$.email),"url"!==n.input||(n.inputValidator=r$.url)),n.showLoaderOnConfirm&&!n.preConfirm&&c("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),n.target&&("string"!=typeof n.target||document.querySelector(n.target))&&("string"==typeof n.target||n.target.appendChild)||(c('Target parameter is not valid, defaulting to "body"'),n.target="body"),"string"==typeof n.title&&(n.title=n.title.split("\n").join("<br />")),ev(n),Object.freeze(n),r.timeout&&(r.timeout.stop(),delete r.timeout),clearTimeout(r.restoreFocusTimeout);let a=rK(e);return e1(e,n),ek.innerParams.set(e,n),rq(e,a,n)}then(e){return rj.get(t(rj,this)).then(e)}finally(e){return rj.get(t(rj,this)).finally(e)}}let rq=(e,t,o)=>new Promise((n,a)=>{let l=t=>{e.close({isDismissed:!0,dismiss:t})};to.swalPromiseResolve.set(e,n),to.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>{tP(e)},t.denyButton.onclick=()=>{tz(e)},t.cancelButton.onclick=()=>{tZ(e,l)},t.closeButton.onclick=()=>{l(e2.close)},rm(o,t,l),e3(r,o,l),tA(e,o),rz(o),rY(r,o,l),rG(t,o),setTimeout(()=>{t.container.scrollTop=0})}),rW=(e,t)=>{let r=Object.assign({},t4,t,rA(e),e);return r.showClass=Object.assign({},t4.showClass,r.showClass),r.hideClass=Object.assign({},t4.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},rK=e=>{let t={popup:x(),container:w(),actions:O(),confirmButton:N(),denyButton:D(),cancelButton:R(),loader:M(),closeButton:H(),validationMessage:A(),progressSteps:T()};return ek.domCache.set(e,t),t},rY=(e,t,r)=>{let o=B();Q(o),t.timer&&(e.timeout=new r_(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(J(o),j(o,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&ei(t.timer)})))},rG=(e,t)=>{if(!t.toast){if(!g(t.allowEnterKey)){f("allowEnterKey"),rQ();return}!rX(e)&&(rJ(e,t)||e5(-1,1))}},rX=e=>{for(let t of Array.from(e.popup.querySelectorAll("[autofocus]")))if(t instanceof HTMLElement&&eo(t))return t.focus(),!0;return!1},rJ=(e,t)=>t.focusDeny&&eo(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&eo(e.cancelButton)?(e.cancelButton.focus(),!0):!!(t.focusConfirm&&eo(e.confirmButton))&&(e.confirmButton.focus(),!0),rQ=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}rU.prototype.disableButtons=tJ,rU.prototype.enableButtons=tX,rU.prototype.getInput=tK,rU.prototype.disableInput=t1,rU.prototype.enableInput=tQ,rU.prototype.hideLoading=tq,rU.prototype.disableLoading=tq,rU.prototype.showValidationMessage=t0,rU.prototype.resetValidationMessage=t2,rU.prototype.close=tb,rU.prototype.closePopup=tb,rU.prototype.closeModal=tb,rU.prototype.closeToast=tb,rU.prototype.rejectPromise=ty,rU.prototype.update=rn,rU.prototype._destroy=rl,Object.assign(rU,rk),Object.keys(rc).forEach(t=>{rU[t]=function(){return e&&e[t]?e[t](...arguments):null}}),rU.DismissReason=e2,rU.version="11.14.5";let r1=rU;return r1.default=r1,r1}())&&o.Sweetalert2&&(o.swal=o.sweetAlert=o.Swal=o.SweetAlert=o.Sweetalert2),"undefined"!=typeof document&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch(e){r.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}'),document.addEventListener("DOMContentLoaded",a),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wizard-dropdown").forEach(e=>{e.addEventListener("click",m)}),document.addEventListener("click",h),document.querySelectorAll(".wizard-dropdown-panel").forEach(e=>{e.style.display="none",e.setAttribute("data-open","false")})}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>g()):g(),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".wizard-slideover-trigger"),t=document.querySelector(".wizard-slideover");e.forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation(),document.querySelector("body").classList.toggle("overflow-hidden"),t.classList.toggle("show")})}),document.addEventListener("click",e=>{e.target.closest(".wizard-slideover")||e.target.closest(".wizard-slideover-trigger")||(document.querySelector("body").classList.remove("overflow-hidden"),t.classList.remove("show"))}),document.querySelector(".slideover-close").addEventListener("click",()=>{document.querySelector("body").classList.remove("overflow-hidden"),t.classList.remove("show")})});var p={};async function v(e,t){try{let r=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"add_wizard_user_folder",nonce:wizard.nonce,folder_name:e,parent_id:t})});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let o=await r.json();if(!o.success)throw Error(o.data||"Failed to create folder");return i("Folder created successfully"),o.data}catch(e){throw c(e),e}}async function b(e,t){try{let r=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"rename_wizard_folder",nonce:wizard.nonce,folder_id:e,new_name:t})});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let o=await r.json();if(!o.success)throw Error(o.data||"Failed to rename folder");return i("Folder renamed successfully"),o.data}catch(e){throw c(e),e}}async function w(e=[]){return d(await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_wizard_user_folders",exclude:JSON.stringify(e),nonce:wizard.nonce})}))}async function y(e,t){let r=new URLSearchParams(window.location.search),o={orderby:r.get("orderby"),order:r.get("order")};return d(await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"generate_template_table_part",nonce:wizard.nonce,part:"folder_row",current_folder:e,user_id:wizard.current_user_id,item_id:t,args:JSON.stringify(o)})}))}function C(e){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}function x(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),e.dispatchEvent(t)}function E(e){var t=document.createEvent("FocusEvent");t.initEvent("focusin",!0,!1),e.dispatchEvent(t)}function S(e){var t=document.createEvent("FocusEvent");t.initEvent("focusout",!0,!1),e.dispatchEvent(t)}function k(e){var t=document.createEvent("UIEvent");t.initEvent("modalclose",!0,!1),e.dispatchEvent(t)}function _(e,t){"invalid"==t?(N(this.dropdown,"invalid"),R(this.dropdown,"valid")):(N(this.dropdown,"valid"),R(this.dropdown,"invalid"))}function T(e,t){return void 0!=e[t]?e[t]:e.getAttribute(t)}function A(e,t){return!!e&&e.classList.contains(t)}function N(e,t){if(e)return e.classList.add(t)}function R(e,t){if(e)return e.classList.remove(t)}!function(){let e,t,r,o,n,a,l,i;var s,d,c,m,u,h,f,g,v,b,w,y,C=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},x=function(e){return{eq:e}},E=x(function(e,t){return e===t}),S=function(e){return x(function(t,r){if(t.length!==r.length)return!1;for(var o=t.length,n=0;n<o;n++)if(!e.eq(t[n],r[n]))return!1;return!0})},k=function(e,t){var r,o;return r=S(e),o=function(e){return Array.prototype.slice.call(e).sort(t)},x(function(e,t){return r.eq(o(e),o(t))})},_=function(e){return x(function(t,r){var o=Object.keys(t),n=Object.keys(r);if(!k(E).eq(o,n))return!1;for(var a=o.length,l=0;l<a;l++){var i=o[l];if(!e.eq(t[i],r[i]))return!1}return!0})},T=x(function(e,t){if(e===t)return!0;var r=C(e);return r===C(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(r)?e===t:"array"===r?S(T).eq(e,t):"object"===r&&_(T).eq(e,t))});let A=Object.getPrototypeOf,N=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},R=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&N(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},D=e=>t=>R(t)===e,M=e=>t=>typeof t===e,O=e=>t=>e===t,L=(e,t)=>H(e)&&N(e,t,(e,t)=>A(e)===t),B=D("string"),H=D("object"),P=e=>L(e,Object),z=D("array"),Z=O(null),I=M("boolean"),F=O(void 0),V=e=>null==e,$=e=>!V(e),j=M("function"),U=M("number"),q=(e,t)=>{if(z(e)){for(let r=0,o=e.length;r<o;++r)if(!t(e[r]))return!1;return!0}return!1},W=()=>{},K=(e,t)=>(...r)=>e(t.apply(null,r)),Y=(e,t)=>r=>e(t(r)),G=e=>()=>e,X=e=>e,J=(e,t)=>e===t;function Q(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}let ee=e=>t=>!e(t),et=e=>()=>{throw Error(e)},er=e=>e(),eo=e=>{e()},en=G(!1),ea=G(!0);class el{constructor(e,t){this.tag=e,this.value=t}static some(e){return new el(!0,e)}static none(){return el.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?el.some(e(this.value)):el.none()}bind(e){return this.tag?e(this.value):el.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:el.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return $(e)?el.some(e):el.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}el.singletonNone=new el(!1);let ei=Array.prototype.slice,es=Array.prototype.indexOf,ed=Array.prototype.push,ec=(e,t)=>es.call(e,t),em=(e,t)=>{let r=ec(e,t);return -1===r?el.none():el.some(r)},eu=(e,t)=>ec(e,t)>-1,eh=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},ef=(e,t)=>{let r=e.length,o=Array(r);for(let n=0;n<r;n++){let r=e[n];o[n]=t(r,n)}return o},eg=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},ep=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},ev=(e,t)=>{let r=[],o=[];for(let n=0,a=e.length;n<a;n++){let a=e[n];(t(a,n)?r:o).push(a)}return{pass:r,fail:o}},eb=(e,t)=>{let r=[];for(let o=0,n=e.length;o<n;o++){let n=e[o];t(n,o)&&r.push(n)}return r},ew=(e,t,r)=>(ep(e,(e,o)=>{r=t(r,e,o)}),r),ey=(e,t,r)=>(eg(e,(e,o)=>{r=t(r,e,o)}),r),eC=(e,t,r)=>{for(let o=0,n=e.length;o<n;o++){let n=e[o];if(t(n,o))return el.some(n);if(r(n,o))break}return el.none()},ex=(e,t)=>eC(e,t,en),eE=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return el.some(r);return el.none()},eS=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!z(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);ed.apply(t,e[r])}return t},ek=(e,t)=>eS(ef(e,t)),e_=(e,t)=>{for(let r=0,o=e.length;r<o;++r)if(!0!==t(e[r],r))return!1;return!0},eT=e=>{let t=ei.call(e,0);return t.reverse(),t},eA=(e,t)=>eb(e,e=>!eu(t,e)),eN=(e,t)=>{let r={};for(let o=0,n=e.length;o<n;o++){let n=e[o];r[String(n)]=t(n,o)}return r},eR=(e,t)=>{let r=ei.call(e,0);return r.sort(t),r},eD=(e,t)=>t>=0&&t<e.length?el.some(e[t]):el.none(),eM=e=>eD(e,0),eO=e=>eD(e,e.length-1),eL=j(Array.from)?Array.from:e=>ei.call(e),eB=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return el.none()},eH=(e,t)=>{let r=[],o=j(t)?e=>eh(r,r=>t(r,e)):e=>eu(r,e);for(let t=0,n=e.length;t<n;t++){let n=e[t];o(n)||r.push(n)}return r},eP=Object.keys,ez=Object.hasOwnProperty,eZ=(e,t)=>{let r=eP(e);for(let o=0,n=r.length;o<n;o++){let n=r[o];t(e[n],n)}},eI=(e,t)=>eF(e,(e,r)=>({k:r,v:t(e,r)})),eF=(e,t)=>{let r={};return eZ(e,(e,o)=>{let n=t(e,o);r[n.k]=n.v}),r},eV=e=>(t,r)=>{e[r]=t},e$=(e,t,r,o)=>{eZ(e,(e,n)=>{(t(e,n)?r:o)(e,n)})},ej=(e,t)=>{let r={},o={};return e$(e,t,eV(r),eV(o)),{t:r,f:o}},eU=(e,t)=>{let r={};return e$(e,t,eV(r),W),r},eq=(e,t)=>{let r=[];return eZ(e,(e,o)=>{r.push(t(e,o))}),r},eW=e=>eq(e,X),eK=(e,t)=>eY(e,t)?el.from(e[t]):el.none(),eY=(e,t)=>ez.call(e,t),eG=(e,t)=>eY(e,t)&&void 0!==e[t]&&null!==e[t],eX=(e,t,r=T)=>_(r).eq(e,t),eJ=e=>{let t={};return eg(e,e=>{t[e]={}}),eP(t)},eQ=e=>void 0!==e.length,e1=Array.isArray,e0=(e,t,r)=>{if(!e)return!1;if(r=r||e,eQ(e)){for(let o=0,n=e.length;o<n;o++)if(!1===t.call(r,e[o],o,e))return!1}else for(let o in e)if(eY(e,o)&&!1===t.call(r,e[o],o,e))return!1;return!0},e2=(e,t)=>{let r=[];return e0(e,(o,n)=>{r.push(t(o,n,e))}),r},e4=(e,t)=>{let r=[];return e0(e,(o,n)=>{(!t||t(o,n,e))&&r.push(o)}),r},e3=(e,t,r,o)=>{let n=F(r)?e[0]:r;for(let r=0;r<e.length;r++)n=t.call(o,n,e[r],r);return n},e5=(e,t,r)=>{for(let o=0,n=e.length;o<n;o++)if(t.call(r,e[o],o,e))return o;return -1},e7=e=>e[e.length-1],e6=e=>{let t,r=!1;return(...o)=>(r||(r=!0,t=e.apply(null,o)),t)},e8=(e,t,r,o)=>{let n=e.isiOS()&&!0===/ipad/i.test(r),a=e.isiOS()&&!n,l=e.isiOS()||e.isAndroid(),i=l||o("(pointer:coarse)"),s=n||!a&&l&&o("(min-device-width:768px)"),d=a||l&&!s,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r);return{isiPad:G(n),isiPhone:G(a),isTablet:G(s),isPhone:G(d),isTouch:G(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:G(c),isDesktop:G(!d&&!s&&!c)}},e9=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r];if(o.test(t))return o}},te=(e,t)=>{let r=e9(e,t);if(!r)return{major:0,minor:0};let o=e=>Number(t.replace(r,"$"+e));return tr(o(1),o(2))},tt=()=>tr(0,0),tr=(e,t)=>({major:e,minor:t}),to=(e,t)=>{let r=String(t).toLowerCase();return 0===e.length?tt():te(e,r)},tn=(e,t)=>eB(t.brands,t=>{let r=t.brand.toLowerCase();return ex(e,e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:tr(parseInt(t.version,10),0)}))}),ta=(e,t)=>{let r=String(t).toLowerCase();return ex(e,e=>e.search(r))},tl=(e,t)=>ta(e,t).map(e=>{let r=to(e.versionRegexes,t);return{current:e.name,version:r}}),ti=(e,t)=>ta(e,t).map(e=>{let r=to(e.versionRegexes,t);return{current:e.name,version:r}}),ts=(e,t)=>e.substring(t),td=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,tc=(e,t)=>tu(e,t)?ts(e,t.length):e,tm=(e,t,r=0,o)=>{let n=e.indexOf(t,r);return -1!==n&&(!!F(o)||n+t.length<=o)},tu=(e,t)=>td(e,t,0),th=(e,t)=>td(e,t,e.length-t.length),tf=e=>t=>t.replace(e,""),tg=tf(/^\s+|\s+$/g),tp=tf(/^\s+/g),tv=tf(/\s+$/g),tb=e=>e.length>0,tw=e=>!tb(e),ty=(e,t)=>t<=0?"":Array(t+1).join(e),tC=(e,t=10)=>{let r=parseInt(e,t);return isNaN(r)?el.none():el.some(r)},tx=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,tE=e=>t=>tm(t,e),tS=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>tm(e,"edge/")&&tm(e,"chrome")&&tm(e,"safari")&&tm(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,tx],search:e=>tm(e,"chrome")&&!tm(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>tm(e,"msie")||tm(e,"trident")},{name:"Opera",versionRegexes:[tx,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tE("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tE("firefox")},{name:"Safari",versionRegexes:[tx,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(tm(e,"safari")||tm(e,"mobile/"))&&tm(e,"applewebkit")}],tk=[{name:"Windows",search:tE("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>tm(e,"iphone")||tm(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tE("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:tE("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tE("linux"),versionRegexes:[]},{name:"Solaris",search:tE("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tE("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:tE("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],t_={browsers:G(tS),oses:G(tk)},tT="Edge",tA="Chromium",tN="Opera",tR="Firefox",tD="Safari",tM=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isEdge:o(tT),isChromium:o(tA),isIE:o("IE"),isOpera:o(tN),isFirefox:o(tR),isSafari:o(tD)}},tO={unknown:()=>tM({current:void 0,version:tt()}),nu:tM,edge:G(tT),chromium:G(tA),ie:G("IE"),opera:G(tN),firefox:G(tR),safari:G(tD)},tL="Windows",tB="Android",tH="Linux",tP="macOS",tz="Solaris",tZ="FreeBSD",tI="ChromeOS",tF=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isWindows:o(tL),isiOS:o("iOS"),isAndroid:o(tB),isMacOS:o(tP),isLinux:o(tH),isSolaris:o(tz),isFreeBSD:o(tZ),isChromeOS:o(tI)}},tV={unknown:()=>tF({current:void 0,version:tt()}),nu:tF,windows:G(tL),ios:G("iOS"),android:G(tB),linux:G(tH),macos:G(tP),solaris:G(tz),freebsd:G(tZ),chromeos:G(tI)},t$=(e,t,r)=>{let o=t_.browsers(),n=t_.oses(),a=t.bind(e=>tn(o,e)).orThunk(()=>tl(o,e)).fold(tO.unknown,tO.nu),l=ti(n,e).fold(tV.unknown,tV.nu),i=e8(l,a,e,r);return{browser:a,os:l,deviceType:i}},tj=e=>window.matchMedia(e).matches,tU=e6(()=>t$(window.navigator.userAgent,el.from(window.navigator.userAgentData),tj)),tq=()=>tU(),tW=window.navigator.userAgent,tK=tq(),tY=tK.browser,tG=tK.os,tX=tK.deviceType,tJ=-1!==tW.indexOf("Windows Phone"),tQ={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:tY.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!tY.isIE(),windowsPhone:tJ,browser:{current:tY.current,version:tY.version,isChromium:tY.isChromium,isEdge:tY.isEdge,isFirefox:tY.isFirefox,isIE:tY.isIE,isOpera:tY.isOpera,isSafari:tY.isSafari},os:{current:tG.current,version:tG.version,isAndroid:tG.isAndroid,isChromeOS:tG.isChromeOS,isFreeBSD:tG.isFreeBSD,isiOS:tG.isiOS,isLinux:tG.isLinux,isMacOS:tG.isMacOS,isSolaris:tG.isSolaris,isWindows:tG.isWindows},deviceType:{isDesktop:tX.isDesktop,isiPad:tX.isiPad,isiPhone:tX.isiPhone,isPhone:tX.isPhone,isTablet:tX.isTablet,isTouch:tX.isTouch,isWebView:tX.isWebView}},t1=/^\s*|\s*$/g,t0=e=>V(e)?"":(""+e).replace(t1,""),t2=function(e,t,r,o){o=o||this,e&&(r&&(e=e[r]),e0(e,(e,n)=>!1!==t.call(o,e,n,r)&&(t2(e,t,r,o),!0)))},t4={trim:t0,isArray:e1,is:(e,t)=>t?!!("array"===t&&e1(e))||typeof e===t:void 0!==e,toArray:e=>{if(e1(e))return e;{let t=[];for(let r=0,o=e.length;r<o;r++)t[r]=e[r];return t}},makeMap:(e,t,r={})=>{let o=B(e)?e.split(t||","):e||[],n=o.length;for(;n--;)r[o[n]]={};return r},each:e0,map:e2,grep:e4,inArray:(e,t)=>{if(e){for(let r=0,o=e.length;r<o;r++)if(e[r]===t)return r}return -1},hasOwn:eY,extend:(e,...t)=>{for(let r=0;r<t.length;r++){let o=t[r];for(let t in o)if(eY(o,t)){let r=o[t];void 0!==r&&(e[t]=r)}}return e},walk:t2,resolve:(e,t=window)=>{let r=e.split(".");for(let e=0,o=r.length;e<o&&(t=t[r[e]]);e++);return t},explode:(e,t)=>z(e)?e:""===e?[]:e2(e.split(t||","),t0),_addCacheSuffix:e=>{let t=tQ.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},t3=(e,t,r=J)=>e.exists(e=>r(e,t)),t5=(e,t,r=J)=>t6(e,t,r).getOr(e.isNone()&&t.isNone()),t7=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},t6=(e,t,r)=>e.isSome()&&t.isSome()?el.some(r(e.getOrDie(),t.getOrDie())):el.none(),t8=(e,t,r,o)=>e.isSome()&&t.isSome()&&r.isSome()?el.some(o(e.getOrDie(),t.getOrDie(),r.getOrDie())):el.none(),t9=(e,t)=>e?el.some(t):el.none(),re="undefined"!=typeof window?window:Function("return this;")(),rt=(e,t)=>{let r=null!=t?t:re;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},rr=(e,t)=>rt(e.split("."),t),ro=(e,t)=>rr(e,t),rn=(e,t)=>{let r=ro(e,t);if(null==r)throw Error(e+" not available on this browser");return r},ra=Object.getPrototypeOf,rl=e=>rn("HTMLElement",e),ri=e=>{let t=rr("ownerDocument.defaultView",e);return H(e)&&(rl(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ra(e).constructor.name))},rs=e=>e.dom.nodeName.toLowerCase(),rd=e=>e.dom.nodeType,rc=e=>t=>rd(t)===e,rm=e=>8===rd(e)||"#comment"===rs(e),ru=e=>rh(e)&&ri(e.dom),rh=rc(1),rf=rc(3),rg=rc(9),rp=rc(11),rv=e=>t=>rh(t)&&rs(t)===e,rb=(e,t,r)=>{if(B(r)||I(r)||U(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},rw=(e,t,r)=>{rb(e.dom,t,r)},ry=(e,t)=>{let r=e.dom;eZ(t,(e,t)=>{rb(r,t,e)})},rC=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},rx=(e,t)=>el.from(rC(e,t)),rE=(e,t)=>{let r=e.dom;return!!r&&!!r.hasAttribute&&r.hasAttribute(t)},rS=(e,t)=>{e.dom.removeAttribute(t)},rk=e=>{let t=e.dom.attributes;return null==t||0===t.length},r_=e=>ey(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),rT=(e,t)=>{let r=rC(e,t);return void 0===r||""===r?[]:r.split(" ")},rA=(e,t,r)=>{let o=rT(e,t).concat([r]);return rw(e,t,o.join(" ")),!0},rN=(e,t,r)=>{let o=eb(rT(e,t),e=>e!==r);return o.length>0?rw(e,t,o.join(" ")):rS(e,t),!1},rR=e=>void 0!==e.dom.classList,rD=e=>rT(e,"class"),rM=(e,t)=>rA(e,"class",t),rO=(e,t)=>rN(e,"class",t),rL=(e,t)=>eu(rD(e),t)?rO(e,t):rM(e,t),rB=(e,t)=>{rR(e)?e.dom.classList.add(t):rM(e,t)},rH=e=>{0===(rR(e)?e.dom.classList:rD(e)).length&&rS(e,"class")},rP=(e,t)=>{rR(e)?e.dom.classList.remove(t):rO(e,t),rH(e)},rz=(e,t)=>{let r=rR(e)?e.dom.classList.toggle(t):rL(e,t);return rH(e),r},rZ=(e,t)=>rR(e)&&e.dom.classList.contains(t),rI=e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}},rF={fromHtml:(e,t)=>{let r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){let t="HTML does not have a single root node";throw console.error(t,e),Error(t)}return rI(r.childNodes[0])},fromTag:(e,t)=>rI((t||document).createElement(e)),fromText:(e,t)=>rI((t||document).createTextNode(e)),fromDom:rI,fromPoint:(e,t,r)=>el.from(e.dom.elementFromPoint(t,r)).map(rI)},rV=(e,t)=>{let r=[],o=e=>(r.push(e),t(e)),n=t(e);do n=n.bind(o);while(n.isSome())return r},r$=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw Error("Browser lacks native selectors")},rj=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,rU=(e,t)=>{let r=void 0===t?document:t.dom;return rj(r)?[]:ef(r.querySelectorAll(e),rF.fromDom)},rq=(e,t)=>{let r=void 0===t?document:t.dom;return rj(r)?el.none():el.from(r.querySelector(e)).map(rF.fromDom)},rW=(e,t)=>e.dom===t.dom,rK=(e,t)=>{let r=e.dom,o=t.dom;return r!==o&&r.contains(o)},rY=e=>rF.fromDom(e.dom.ownerDocument),rG=e=>rg(e)?e:rY(e),rX=e=>rF.fromDom(rG(e).dom.documentElement),rJ=e=>rF.fromDom(rG(e).dom.defaultView),rQ=e=>el.from(e.dom.parentNode).map(rF.fromDom),r1=e=>el.from(e.dom.parentElement).map(rF.fromDom),r0=(e,t)=>{let r=j(t)?t:en,o=e.dom,n=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){let e=o.parentNode,t=rF.fromDom(e);if(n.push(t),!0===r(t))break;o=e}return n},r2=e=>rQ(e).map(r6).map(t=>eb(t,t=>!rW(e,t))).getOr([]),r4=e=>el.from(e.dom.previousSibling).map(rF.fromDom),r3=e=>el.from(e.dom.nextSibling).map(rF.fromDom),r5=e=>eT(rV(e,r4)),r7=e=>rV(e,r3),r6=e=>ef(e.dom.childNodes,rF.fromDom),r8=(e,t)=>{let r=e.dom.childNodes;return el.from(r[t]).map(rF.fromDom)},r9=e=>r8(e,0),oe=e=>r8(e,e.dom.childNodes.length-1),ot=e=>e.dom.childNodes.length,or=e=>{let t=e.dom.head;if(null==t)throw Error("Head is not available yet");return rF.fromDom(t)},oo=e=>rp(e)&&$(e.dom.host),on=e=>rF.fromDom(e.dom.getRootNode()),oa=e=>oo(e)?e:or(rG(e)),ol=e=>oo(e)?e:rF.fromDom(rG(e).dom.body),oi=e=>{let t=on(e);return oo(t)?el.some(t):el.none()},os=e=>rF.fromDom(e.dom.host),od=e=>{if($(e.target)){let t=rF.fromDom(e.target);if(rh(t)&&oc(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return eM(t)}}return el.from(e.target)},oc=e=>$(e.dom.shadowRoot),om=e=>{let t=rf(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return oi(rF.fromDom(t)).fold(()=>r.body.contains(t),Y(om,os))};var ou=(e,t,r,o,n)=>e(r,o)?el.some(r):j(n)&&n(r)?el.none():t(r,o,n);let oh=(e,t,r)=>{let o=e.dom,n=j(r)?r:en;for(;o.parentNode;){o=o.parentNode;let e=rF.fromDom(o);if(t(e))return el.some(e);if(n(e))break}return el.none()},of=(e,t,r)=>ou((e,t)=>t(e),oh,e,t,r),og=(e,t)=>{let r=e.dom;return r.parentNode?op(rF.fromDom(r.parentNode),r=>!rW(e,r)&&t(r)):el.none()},op=(e,t)=>ex(e.dom.childNodes,e=>t(rF.fromDom(e))).map(rF.fromDom),ov=(e,t)=>{let r=e=>{for(let o=0;o<e.childNodes.length;o++){let n=rF.fromDom(e.childNodes[o]);if(t(n))return el.some(n);let a=r(e.childNodes[o]);if(a.isSome())return a}return el.none()};return r(e.dom)},ob=(e,t,r)=>oh(e,e=>r$(e,t),r),ow=(e,t)=>rq(t,e),oy=(e,t,r)=>ou((e,t)=>r$(e,t),ob,e,t,r),oC=e=>oy(e,"[contenteditable]"),ox=(e,t=!1)=>om(e)?e.dom.isContentEditable:oC(e).fold(G(t),e=>"true"===oE(e)),oE=e=>e.dom.contentEditable,oS=e=>void 0!==e.style&&j(e.style.getPropertyValue),ok=(e,t,r)=>{if(!B(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);oS(e)&&e.style.setProperty(t,r)},o_=(e,t)=>{oS(e)&&e.style.removeProperty(t)},oT=(e,t,r)=>{ok(e.dom,t,r)},oA=(e,t)=>{let r=e.dom;eZ(t,(e,t)=>{ok(r,t,e)})},oN=(e,t)=>{let r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||om(e)?o:oR(r,t)},oR=(e,t)=>oS(e)?e.style.getPropertyValue(t):"",oD=(e,t)=>{let r=oR(e.dom,t);return el.from(r).filter(e=>e.length>0)},oM=e=>{let t={},r=e.dom;if(oS(r))for(let e=0;e<r.style.length;e++){let o=r.style.item(e);t[o]=r.style[o]}return t},oO=(e,t)=>{o_(e.dom,t),t3(rx(e,"style").map(tg),"")&&rS(e,"style")},oL=e=>e.dom.offsetWidth,oB=(e,t)=>{rQ(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},oH=(e,t)=>{r3(e).fold(()=>{rQ(e).each(e=>{oz(e,t)})},e=>{oB(e,t)})},oP=(e,t)=>{r9(e).fold(()=>{oz(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},oz=(e,t)=>{e.dom.appendChild(t.dom)},oZ=(e,t)=>{oB(e,t),oz(t,e)},oI=(e,t)=>{eg(t,(r,o)=>{oH(0===o?e:t[o-1],r)})},oF=(e,t)=>{eg(t,t=>{oz(e,t)})},oV=e=>{e.dom.textContent="",eg(r6(e),e=>{o$(e)})},o$=e=>{let t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},oj=e=>{let t=r6(e);t.length>0&&oI(e,t),o$(e)},oU=(e,t)=>{let r=(t||document).createElement("div");return r.innerHTML=e,r6(rF.fromDom(r))},oq=e=>ef(e,rF.fromDom),oW=e=>e.dom.innerHTML,oK=(e,t)=>{let r=rY(e).dom,o=rF.fromDom(r.createDocumentFragment());oF(o,oU(t,r)),oV(e),oz(e,o)},oY=e=>{let t=rF.fromTag("div");return oz(t,rF.fromDom(e.dom.cloneNode(!0))),oW(t)},oG=(e,t,r,o,n,a,l)=>({target:e,x:t,y:r,stop:o,prevent:n,kill:a,raw:l}),oX=e=>{let t=rF.fromDom(od(e).getOr(e.target)),r=()=>e.stopPropagation(),o=()=>e.preventDefault(),n=K(o,r);return oG(t,e.clientX,e.clientY,r,o,n,e)},oJ=(e,t)=>r=>{e(r)&&t(oX(r))},oQ=(e,t,r,o,n)=>{let a=oJ(r,o);return e.dom.addEventListener(t,a,n),{unbind:Q(o0,e,t,a,n)}},o1=(e,t,r,o)=>oQ(e,t,r,o,!1),o0=(e,t,r,o)=>{e.dom.removeEventListener(t,r,o)},o2=(e,t)=>({left:e,top:t,translate:(r,o)=>o2(e+r,t+o)}),o4=e=>{let t=e.getBoundingClientRect();return o2(t.left,t.top)},o3=(e,t)=>void 0!==e?e:void 0!==t?t:0,o5=e=>{let t=e.dom.ownerDocument,r=t.body,o=t.defaultView,n=t.documentElement;if(r===e.dom)return o2(r.offsetLeft,r.offsetTop);let a=o3(null==o?void 0:o.pageYOffset,n.scrollTop),l=o3(null==o?void 0:o.pageXOffset,n.scrollLeft),i=o3(n.clientTop,r.clientTop),s=o3(n.clientLeft,r.clientLeft);return o7(e).translate(l-s,a-i)},o7=e=>{let t=e.dom,r=t.ownerDocument.body;return r===t?o2(r.offsetLeft,r.offsetTop):om(e)?o4(t):o2(0,0)},o6=e=>{let t=void 0!==e?e.dom:document;return o2(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},o8=(e,t,r)=>{let o=(void 0!==r?r.dom:document).defaultView;o&&o.scrollTo(e,t)},o9=(e,t)=>{tq().browser.isSafari()&&j(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},ne=e=>{let t=void 0===e?window:e;return tq().browser.isFirefox()?el.none():el.from(t.visualViewport)},nt=(e,t,r,o)=>({x:e,y:t,width:r,height:o,right:e+r,bottom:t+o}),nr=e=>{let t=void 0===e?window:e,r=t.document,o=o6(rF.fromDom(r));return ne(t).fold(()=>{let e=t.document.documentElement,r=e.clientWidth,n=e.clientHeight;return nt(o.left,o.top,r,n)},e=>nt(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},no=(e,t)=>eb(r6(e),t),nn=(e,t)=>{let r=[];return eg(r6(e),e=>{t(e)&&(r=r.concat([e])),r=r.concat(nn(e,t))}),r},na=(e,t)=>rU(t,e),nl=(e,t,r)=>oh(e,t,r).isSome(),ni=(e,t)=>og(e,t).isSome(),ns=(e,t)=>ov(e,t).isSome();class nd{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,r,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[r];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[r])return t}}}findPreviousNode(e,t){if(e){let r=e.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!t){for(let e=r.lastChild;e;e=e.lastChild)if(!e.lastChild)return e}return r}let o=e.parentNode;if(o&&o!==this.rootNode)return o}}}let nc=e=>"\uFEFF"===e,nm=/^[ \t\r\n]*$/,nu=e=>nm.test(e),nh=e=>{for(let t of e)if(!nc(t))return!1;return!0},nf=e=>-1!==" \f	\v".indexOf(e),ng=e=>"\n"===e||"\r"===e,np=(e,t)=>t<e.length&&t>=0&&ng(e[t]),nv=(e,t=4,r=!0,o=!0)=>{let n=ty(" ",t),a=e.replace(/\t/g,n);return ey(a,(e,t)=>nf(t)||""===t?e.pcIsSpace||""===e.str&&r||e.str.length===a.length-1&&o||np(a,e.str.length+1)?{pcIsSpace:!1,str:e.str+""}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ng(t),str:e.str+t},{pcIsSpace:!1,str:""}).str},nb=e=>t=>!!t&&t.nodeType===e,nw=e=>!!e&&!Object.getPrototypeOf(e),ny=nb(1),nC=e=>ny(e)&&ru(rF.fromDom(e)),nx=e=>ny(e)&&"http://www.w3.org/2000/svg"===e.namespaceURI,nE=e=>{let t=e.toLowerCase();return e=>$(e)&&e.nodeName.toLowerCase()===t},nS=e=>{let t=e.map(e=>e.toLowerCase());return e=>!!e&&!!e.nodeName&&eu(t,e.nodeName.toLowerCase())},nk=(e,t)=>{let r=t.toLowerCase().split(" ");return t=>{if(ny(t)){let o=t.ownerDocument.defaultView;if(o)for(let n=0;n<r.length;n++){let a=o.getComputedStyle(t,null);if((a?a.getPropertyValue(e):null)===r[n])return!0}}return!1}},n_=e=>ny(e)&&e.hasAttribute("data-mce-bogus"),nT=e=>ny(e)&&"all"===e.getAttribute("data-mce-bogus"),nA=e=>ny(e)&&"TABLE"===e.tagName,nN=e=>t=>!!nC(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e),nR=nS(["textarea","input"]),nD=nb(3),nM=nb(4),nO=nb(7),nL=nb(8),nB=nb(9),nH=nb(11),nP=nE("br"),nz=nE("img"),nZ=nN("true"),nI=nN("false"),nF=nS(["td","th"]),nV=nS(["td","th","caption"]),n$=nS(["video","audio","object","embed"]),nj=nE("li"),nU=nE("details"),nq=nE("summary"),nW={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},nK=(e,t,r)=>{let o=rF.fromDom(t),n=rF.fromDom(e),a=r.getWhitespaceElements();return nl(n,e=>eY(a,rs(e)),Q(rW,o))},nY=e=>ny(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),nG=(e,t)=>ny(e)&&eY(t.getNonEmptyElements(),e.nodeName),nX=(n="data-mce-bookmark",e=>ny(e)&&e.hasAttribute(n)),nJ=e=>r1(rF.fromDom(e)).exists(e=>!ox(e)),nQ=(e,t,r)=>nu(e.data)&&!nK(e,t,r),n1=(e,t,r,o)=>nD(e)&&!nQ(e,t,r)&&(!o.includeZwsp||!nh(e.data)),n0=(e,t,r,o)=>j(o.isContent)&&o.isContent(t)||nG(t,e)||nX(t)||nY(t)||n1(t,r,e,o)||nI(t)||nZ(t)&&nJ(t),n2=(e,t,r)=>{let o={...nW,...r};if(o.checkRootAsContent&&n0(e,t,t,o))return!1;let n=t.firstChild,a=0;if(!n)return!0;let l=new nd(n,t);do{if(o.skipBogus&&ny(n)){let e=n.getAttribute("data-mce-bogus");if(e){n=l.next("all"===e);continue}}if(nL(n)){n=l.next(!0);continue}if(nP(n)){a++,n=l.next();continue}if(n0(e,n,t,o))return!1;n=l.next()}while(n)return a<=1},n4=(e,t,r)=>n2(e,t.dom,{checkRootAsContent:!0,...r}),n3=(e,t,r)=>n0(e,t,t,{includeZwsp:nW.includeZwsp,...r}),n5=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},n7=e=>{let t=n5(el.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(el.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(el.some(e))}}},n6=e=>{let t=n5(el.none()),r=()=>t.get().each(e=>clearInterval(e));return{clear:()=>{r(),t.set(el.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:o=>{r(),t.set(el.some(setInterval(o,e)))}}},n8=()=>{let e=n7(W);return{...e,on:t=>e.get().each(t)}},n9=e=>{let t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":"html"},ae=e=>"html"!==n9(e),at=e=>ae(e.nodeName),ar=e=>n9(e.nodeName),ao=["svg","math"],an=()=>{let e=n8(),t=()=>e.get().map(ar).getOr("html");return{track:r=>(at(r)?e.set(r):e.get().exists(e=>!e.contains(r))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},aa="data-mce-block",al=e=>eb(eP(e),e=>!/[A-Z]/.test(e)),ai=e=>ef(al(e),e=>{let t=CSS.escape(e);return`${t}:`+ef(ao,e=>`not(${e} ${t})`).join(":")}).join(","),as=(e,t)=>$(t.querySelector(e))?(t.setAttribute(aa,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(aa),!1),ad=(e,t)=>{let r=ai(e.getTransparentElements()),o=ai(e.getBlockElements());return eb(t.querySelectorAll(r),e=>as(o,e))},ac=(e,t,r)=>{var o;let n=r?"lastChild":"firstChild";for(let r=t[n];r;r=r[n])if(n2(e,r,{checkRootAsContent:!0})){null===(o=r.parentNode)||void 0===o||o.removeChild(r);return}},am=(e,t,r)=>{let o=document.createRange(),n=t.parentNode;if(n){o.setStartBefore(t),o.setEndBefore(r);let a=o.extractContents();ac(e,a,!0),o.setStartAfter(r),o.setEndAfter(t);let l=o.extractContents();ac(e,l,!1),n2(e,a,{checkRootAsContent:!0})||n.insertBefore(a,t),n2(e,r,{checkRootAsContent:!0})||n.insertBefore(r,t),n2(e,l,{checkRootAsContent:!0})||n.insertBefore(l,t),n.removeChild(t)}},au=(e,t,r)=>{let o=e.getBlockElements(),n=rF.fromDom(t),a=e=>rs(e)in o,l=e=>rW(e,n);eg(oq(r),t=>{oh(t,a,l).each(r=>{let o=no(t,t=>a(t)&&!e.isValidChild(rs(r),rs(t)));if(o.length>0){let t=r1(r);eg(o,t=>{oh(t,a,l).each(r=>{am(e,r.dom,t.dom)})}),t.each(t=>ad(e,t.dom))}})})},ah=(e,t,r)=>{eg([...r,...ay(e,t)?[t]:[]],t=>eg(na(rF.fromDom(t),t.nodeName.toLowerCase()),t=>{aC(e,t.dom)&&oj(t)}))},af=(e,t)=>{let r=ad(e,t);au(e,t,r),ah(e,t,r)},ag=(e,t)=>{aw(e,t)&&as(ai(e.getBlockElements()),t)},ap=(e,t,r)=>{let o=r0(rF.fromDom(r),e=>rW(e,rF.fromDom(t)));eD(o,o.length-2).filter(rh).fold(()=>af(e,t),t=>af(e,t.dom))},av=e=>e.hasAttribute(aa),ab=(e,t)=>eY(e.getTransparentElements(),t),aw=(e,t)=>ny(t)&&ab(e,t.nodeName),ay=(e,t)=>aw(e,t)&&av(t),aC=(e,t)=>aw(e,t)&&!av(t),ax=(e,t)=>1===t.type&&ab(e,t.name)&&B(t.attr(aa)),aE=tq().browser,aS=e=>ex(e,rh),ak=e=>aE.isFirefox()&&"table"===rs(e)?aS(r6(e)).filter(e=>"caption"===rs(e)).bind(e=>aS(r7(e)).map(t=>{let r=t.dom.offsetTop,o=e.dom.offsetTop,n=e.dom.offsetHeight;return r<=o?-n:0})).getOr(0):0,a_=(e,t)=>e.children&&eu(e.children,t),aT=(e,t,r)=>{let o=0,n=0,a=e.ownerDocument;if(r=r||e,t){if(r===e&&t.getBoundingClientRect&&"static"===oN(rF.fromDom(e),"position")){let r=t.getBoundingClientRect();return{x:o=r.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,y:n=r.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop}}let l=t;for(;l&&l!==r&&l.nodeType&&!a_(l,r);){let e=l;o+=e.offsetLeft||0,n+=e.offsetTop||0,l=e.offsetParent}for(l=t.parentNode;l&&l!==r&&l.nodeType&&!a_(l,r);)o-=l.scrollLeft||0,n-=l.scrollTop||0,l=l.parentNode;n+=ak(rF.fromDom(t))}return{x:o,y:n}},aA=(e,t={})=>{let r=0,o={},n=rF.fromDom(e),a=rG(n),l=e=>{oz(oa(n),e)},i=e=>{ow(oa(n),"#"+e).each(o$)},s=e=>eK(o,e).getOrThunk(()=>({id:"mce-u"+r++,passed:[],failed:[],count:0})),d=e=>new Promise((r,n)=>{let i;let d=t4._addCacheSuffix(e),c=s(d);o[d]=c,c.count++;let m=(e,t)=>{eg(e,eo),c.status=t,c.passed=[],c.failed=[],i&&(i.onload=null,i.onerror=null,i=null)},u=()=>m(c.passed,2),h=()=>m(c.failed,3);if(r&&c.passed.push(r),n&&c.failed.push(n),1===c.status)return;if(2===c.status){u();return}if(3===c.status){h();return}c.status=1;let f=rF.fromTag("link",a.dom);ry(f,{rel:"stylesheet",type:"text/css",id:c.id}),t.contentCssCors&&rw(f,"crossOrigin","anonymous"),t.referrerPolicy&&rw(f,"referrerpolicy",t.referrerPolicy),(i=f.dom).onload=u,i.onerror=h,l(f),rw(f,"href",d)}),c=e=>{let t=t4._addCacheSuffix(e);eK(o,t).each(e=>{0==--e.count&&(delete o[t],i(e.id))})};return{load:d,loadRawCss:(e,t)=>{let r=s(e);o[e]=r,r.count++;let n=rF.fromTag("style",a.dom);ry(n,{rel:"stylesheet",type:"text/css",id:r.id}),n.dom.innerHTML=t,l(n)},loadAll:e=>Promise.allSettled(ef(e,e=>d(e).then(G(e)))).then(e=>{let t=ev(e,e=>"fulfilled"===e.status);return t.fail.length>0?Promise.reject(ef(t.fail,e=>e.reason)):ef(t.pass,e=>e.value)}),unload:c,unloadRawCss:e=>{eK(o,e).each(t=>{0==--t.count&&(delete o[e],i(t.id))})},unloadAll:e=>{eg(e,e=>{c(e)})},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},aN=(()=>{let e=new WeakMap;return{forElement:(t,r)=>{let o=on(t).dom;return el.from(e.get(o)).getOrThunk(()=>{let t=aA(o,r);return e.set(o,t),t})}}})(),aR=e=>"span"===e.nodeName.toLowerCase(),aD=(e,t)=>$(e)&&(n3(t,e)||t.isInline(e.nodeName.toLowerCase())),aM=(e,t,r)=>{let o=new nd(e,t).prev(!1),n=new nd(e,t).next(!1),a=F(o)||aD(o,r),l=F(n)||aD(n,r);return a&&l},aO=e=>aR(e)&&"bookmark"===e.getAttribute("data-mce-type"),aL=(e,t,r)=>nD(e)&&e.data.length>0&&aM(e,t,r),aB=e=>!!ny(e)&&e.childNodes.length>0,aH=e=>nH(e)||nB(e),aP=(e,t,r,o)=>{var n;let a=o||t;if(ny(t)&&aO(t))return t;let l=t.childNodes;for(let t=l.length-1;t>=0;t--)aP(e,l[t],r,a);if(ny(t)){let e=t.childNodes;1===e.length&&aO(e[0])&&(null===(n=t.parentNode)||void 0===n||n.insertBefore(e[0],t))}return aH(t)||n3(r,t)||aB(t)||aL(t,a,r)||e.remove(t),t},az=t4.makeMap,aZ=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aI=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aF=/[<>&\"\']/g,aV=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,a$={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},aj={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},aU={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},aq=e=>{let t=rF.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},aW=(e,t)=>{let r={};if(e){let o=e.split(",");t=t||10;for(let e=0;e<o.length;e+=2){let n=String.fromCharCode(parseInt(o[e],t));if(!aj[n]){let t="&"+o[e+1]+";";r[n]=t,r[t]=n}}return r}},aK=aW("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),aY=(e,t)=>e.replace(t?aZ:aI,e=>aj[e]||e),aG=(e,t)=>e.replace(t?aZ:aI,e=>e.length>1?"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";":aj[e]||"&#"+e.charCodeAt(0)+";"),aX=(e,t,r)=>{let o=r||aK;return e.replace(t?aZ:aI,e=>aj[e]||o[e]||e)},aJ={encodeRaw:aY,encodeAllRaw:e=>(""+e).replace(aF,e=>aj[e]||e),encodeNumeric:aG,encodeNamed:aX,getEncodeFunc:(e,t)=>{let r=aW(t)||aK,o=az(e.replace(/\+/g,","));return o.named&&o.numeric?(e,t)=>e.replace(t?aZ:aI,e=>void 0!==aj[e]?aj[e]:void 0!==r[e]?r[e]:e.length>1?"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"):o.named?t?(e,t)=>aX(e,t,r):aX:o.numeric?aG:aY},decode:e=>e.replace(aV,(e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t)):a$[t]||String.fromCharCode(t):aU[e]||aK[e]||aq(e))},aQ=(e,t)=>(e=t4.trim(e))?e.split(t||" "):[],a1=e=>RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),a0=e=>H(e)&&e.source&&"[object RegExp]"===Object.prototype.toString.call(e),a2=e=>{let t=e=>z(e)?ef(e,t):a0(e)?new RegExp(e.source,e.flags):H(e)?eI(e,t):e;return t(e)},a4=e=>{let t=/^(~)?(.+)$/;return ek(aQ(e,","),e=>{let r=t.exec(e);return r?[{cloneName:"~"===r[1]?"span":"div",name:r[2]}]:[]})},a3=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",..."html4"!==e?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],..."html5-strict"!==e?["xml:lang"]:[]]),a5=e=>{let t,r;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==e&&(r=[r,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));let o=[t,r].join(" ");return{blockContent:t,phrasingContent:r,flowContent:o}},a7=e=>{let{blockContent:t,phrasingContent:r,flowContent:o}=a5(e),n=e=>Object.freeze(e.split(" "));return Object.freeze({blockContent:n(t),phrasingContent:n(r),flowContent:n(o)})},a6={html4:e6(()=>a7("html4")),html5:e6(()=>a7("html5")),"html5-strict":e6(()=>a7("html5-strict"))},a8=(e,t)=>{let{blockContent:r,phrasingContent:o,flowContent:n}=a6[e]();return"blocks"===t?el.some(r):"phrasing"===t?el.some(o):"flow"===t?el.some(n):el.none()},a9=e=>{let t=a3(e),{phrasingContent:r,flowContent:o}=a5(e),n={},a=(e,t,r)=>{n[e]={attributes:eN(t,G({})),attributesOrder:t,children:eN(r,G({}))}},l=(e,r="",o="")=>{let n=aQ(o),l=aQ(e),i=l.length,s=[...t,...aQ(r)];for(;i--;)a(l[i],s.slice(),n)},i=(e,t)=>{let r=aQ(e),o=aQ(t),a=r.length;for(;a--;){let e=n[r[a]];for(let t=0,r=o.length;t<r;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};return"html5-strict"!==e&&(eg(aQ("acronym applet basefont big font strike tt"),e=>{l(e,"",r)}),eg(aQ("center dir isindex noframes"),e=>{l(e,"",o)})),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),l("dd div","",o),l("address dt caption","","html4"===e?r:o),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),l("blockquote","cite",o),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",o),l("dl","","dt dd"),l("a","href target rel media hreflang type","html4"===e?r:o),l("q","cite",r),l("ins del","cite datetime",o),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",o),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),l("param","name value"),l("map","name",[o,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",o),l("th","colspan rowspan headers scope abbr",o),l("form","accept-charset action autocomplete enctype method name novalidate target",o),l("fieldset","disabled form name",[o,"legend"].join(" ")),l("label","form for",r),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[o,"li"].join(" ")),l("noscript","",o),"html4"!==e&&(l("wbr"),l("ruby","",[r,"rt rp"].join(" ")),l("figcaption","",o),l("mark rt rp bdi","",r),l("summary","",[r,"h1 h2 h3 h4 h5 h6"].join(" ")),l("canvas","width height",o),l("data","value",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[r,"option"].join(" ")),l("article section nav aside main header footer","",o),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[o,"figcaption"].join(" ")),l("time","datetime",r),l("dialog","open",o),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",r),l("progress","value max",r),l("meter","value min max low high optimum",r),l("details","open",[o,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name"),a("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==e&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!==e&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("img","loading"),i("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),"html4"!==e&&eg([n.video,n.audio],e=>{delete e.children.audio,delete e.children.video}),eg(aQ("a form meter progress dfn"),e=>{n[e]&&delete n[e].children[e]}),delete n.caption.children.table,delete n.script,n},le=e=>"-"===e?"remove":"add",lt=e=>el.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(e)).map(e=>({preset:"@"===e[1],name:e[2]})),lr=e=>{let t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ek(aQ(e,","),e=>{let r=t.exec(e);if(!r)return[];{let e=r[1];return[{operation:e?le(e):"replace",name:r[2],validChildren:ek(aQ(r[3],"|"),e=>lt(e).toArray())}]}})},lo=(e,t)=>{let r=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,o=/[*?+]/,{attributes:n,attributesOrder:a}=t;return eg(aQ(e,"|"),e=>{let l=r.exec(e);if(l){let e={},r=l[1],i=l[2].replace(/[\\:]:/g,":"),s=l[3],d=l[4];if("!"===r&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(i),e.required=!0),"-"===r){delete n[i],a.splice(t4.inArray(a,i),1);return}s&&("="===s?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:i,value:d}),e.defaultValue=d):"~"===s?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:i,value:d}),e.forcedValue=d):"<"===s&&(e.validValues=t4.makeMap(d,"?"))),o.test(i)?(t.attributePatterns=t.attributePatterns||[],e.pattern=a1(i),t.attributePatterns.push(e)):(n[i]||a.push(i),n[i]=e)}})},ln=(e,t)=>{eZ(e.attributes,(e,r)=>{t.attributes[r]=e}),t.attributesOrder.push(...e.attributesOrder)},la=(e,t)=>{let r=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ek(aQ(t,","),t=>{let o=r.exec(t);if(!o)return[];{let t=o[1],r=o[2],n=o[3],a=o[4],l=o[5],i={attributes:{},attributesOrder:[]};if(e.each(e=>ln(e,i)),"#"===t?i.paddEmpty=!0:"-"===t&&(i.removeEmpty=!0),"!"===a&&(i.removeEmptyAttrs=!0),l&&lo(l,i),n&&(i.outputName=r),"@"===r){if(!e.isNone())return[];e=el.some(i)}return[n?{name:r,element:i,aliasName:n}:{name:r,element:i}]}})},ll={},li=t4.makeMap,ls=t4.each,ld=t4.extend,lc=t4.explode,lm=(e,t={})=>ld(li(e," ",li(e.toUpperCase()," ")),t),lu=e=>lm("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),lh=(e,t)=>{if(e){let r={};return B(e)&&(e={"*":e}),ls(e,(e,o)=>{r[o]=r[o.toUpperCase()]="map"===t?li(e,/[, ]/):lc(e,/[, ]/)}),r}},lf=(e={})=>{var t;let r={},o={},n=[],a={},l={},i=(t,r,o)=>{let n=e[t];if(n)return li(n,/[, ]/,li(n.toUpperCase(),/[, ]/));{let e=ll[t];return e||(e=lm(r,o),ll[t]=e),e}},s=null!==(t=e.schema)&&void 0!==t?t:"html5",d=a9(s);!1===e.verify_html&&(e.valid_elements="*[*]");let c=lh(e.valid_styles),m=lh(e.invalid_styles,"map"),u=lh(e.valid_classes,"map"),h=i("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=i("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",b=i("non_empty_elements",v+" pre svg textarea summary",g),w=i("move_caret_before_on_enter_elements",v+" table",g),y="h1 h2 h3 h4 h5 h6",C=i("text_block_elements",y+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),x=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",C),E=i("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),S=i("transparent_elements","a ins del canvas map"),k=i("wrap_block_elements","pre "+y);ls("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),e=>{l[e]=RegExp("</"+e+"[^>]*>","gi")});let _=e=>{let t=el.from(r["@"]),o=/[*?+]/;eg(la(t,null!=e?e:""),({name:e,element:t,aliasName:a})=>{a&&(r[a]=t),o.test(e)?(t.pattern=a1(e),n.push(t)):r[e]=t})},T=e=>{n=[],eg(eP(r),e=>{delete r[e]}),_(e)},A=(e,t)=>{var n,l;delete ll.text_block_elements,delete ll.block_elements;let i=!!t.extends&&!ee(t.extends),d=t.extends;if(o[e]=d?o[d]:{},a[e]=null!=d?d:e,b[e.toUpperCase()]={},b[e]={},i||(x[e.toUpperCase()]={},x[e]={}),d&&!r[e]&&r[d]){let t=a2(r[d]);delete t.removeEmptyAttrs,delete t.removeEmpty,r[e]=t}else r[e]={attributesOrder:[],attributes:{}};if(z(t.attributes)){let o=e=>{a.attributesOrder.push(e),a.attributes[e]={}},a=null!==(n=r[e])&&void 0!==n?n:{};delete a.attributesDefault,delete a.attributesForced,delete a.attributePatterns,delete a.attributesRequired,a.attributesOrder=[],a.attributes={},eg(t.attributes,e=>{let t=a3(s);lt(e).each(({preset:e,name:r})=>{e?"global"===r&&eg(t,o):o(r)})}),r[e]=a}if(I(t.padEmpty)){let o=null!==(l=r[e])&&void 0!==l?l:{};o.paddEmpty=t.padEmpty,r[e]=o}if(z(t.children)){let r={},n=e=>{r[e]={}},a=e=>{a8(s,e).each(e=>{eg(e,n)})};eg(t.children,e=>{lt(e).each(({preset:e,name:t})=>{e?a(t):n(t)})}),o[e]=r}d&&eZ(o,(t,r)=>{t[d]&&(o[r]=t=ld({},o[r]),t[e]=t[d])})},N=e=>{eg(a4(null!=e?e:""),({name:e,cloneName:t})=>{A(e,{extends:t})})},R=e=>{H(e)?eZ(e,(e,t)=>A(t,e)):B(e)&&N(e)},D=e=>{eg(lr(null!=e?e:""),({operation:e,name:t,validChildren:r})=>{let n="replace"===e?{"#comment":{}}:o[t],a=t=>{"remove"===e?delete n[t]:n[t]={}},l=e=>{a8(s,e).each(e=>{eg(e,a)})};eg(r,({preset:e,name:t})=>{e?l(t):a(t)}),o[t]=n})},M=e=>{let t=r[e];if(t)return t;let o=n.length;for(;o--;){let t=n[o];if(t.pattern.test(e))return t}},O=G(c),L=G(m),P=G(u),Z=G(p),F=G(x),V=G(C),$=G(E),j=G(Object.seal(g)),U=G(f),q=G(b),W=G(w),K=G(h),Y=G(S),X=G(k),J=G(Object.seal(l)),Q=(e,t)=>{let r=M(e);if(r){if(!t)return!0;{if(r.attributes[t])return!0;let e=r.attributePatterns;if(e){let r=e.length;for(;r--;)if(e[r].pattern.test(t))return!0}}}return!1},ee=e=>eY(F(),e),et=e=>!tu(e,"#")&&Q(e)&&!ee(e),er=G(a);return e.valid_elements?(T(e.valid_elements),ls(d,(e,t)=>{o[t]=e.children})):(ls(d,(e,t)=>{r[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children}),ls(aQ("strong/b em/i"),e=>{let t=aQ(e,"/");r[t[1]].outputName=t[0]}),ls(E,(t,o)=>{r[o]&&(e.padd_empty_block_inline_children&&(r[o].paddInEmptyBlock=!0),r[o].removeEmpty=!0)}),ls(aQ("ol ul blockquote a table tbody"),e=>{r[e]&&(r[e].removeEmpty=!0)}),ls(aQ("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),e=>{r[e]&&(r[e].paddEmpty=!0)}),ls(aQ("span"),e=>{r[e].removeEmptyAttrs=!0})),delete r.svg,R(e.custom_elements),D(e.valid_children),_(e.extended_valid_elements),D("+ol[ul|ol],+ul[ul|ol]"),ls({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(e,t)=>{r[t]&&(r[t].parentsRequired=aQ(e))}),e.invalid_elements&&ls(lc(e.invalid_elements),e=>{r[e]&&delete r[e]}),M("span")||_("span[!data-mce-type|*]"),{type:s,children:o,elements:r,getValidStyles:O,getValidClasses:P,getBlockElements:F,getInvalidStyles:L,getVoidElements:j,getTextBlockElements:V,getTextInlineElements:$,getBoolAttrs:Z,getElementRule:M,getSelfClosingElements:U,getNonEmptyElements:q,getMoveCaretBeforeOnEnterElements:W,getWhitespaceElements:K,getTransparentElements:Y,getSpecialElements:J,isValidChild:(e,t)=>{let r=o[e.toLowerCase()];return!!(r&&r[t.toLowerCase()])},isValid:Q,isBlock:ee,isInline:et,isWrapper:e=>eY(X(),e)||et(e),getCustomElements:er,addValidElements:_,setValidElements:T,addCustomElements:R,addValidChildren:D}},lg=e=>({value:lp(e)}),lp=e=>tc(e,"#").toUpperCase(),lv=e=>{let t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},lb=e=>lg(lv(e.red)+lv(e.green)+lv(e.blue)),lw=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ly=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,lC=(e,t,r,o)=>({red:e,green:t,blue:r,alpha:o}),lx=(e,t,r,o)=>{let n=parseInt(e,10);return lC(n,parseInt(t,10),parseInt(r,10),parseFloat(o))},lE=e=>lw.test(e)?"rgb":ly.test(e)?"rgba":"other",lS=e=>{let t=lw.exec(e);if(null!==t)return el.some(lx(t[1],t[2],t[3],"1"));let r=ly.exec(e);return null!==r?el.some(lx(r[1],r[2],r[3],r[4])):el.none()},lk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,l_=e=>lS(e).map(lb).map(e=>"#"+e.value).getOr(e),lT=(e={},t)=>{let r,o;let n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,i={};t&&(r=t.getValidStyles(),o=t.getInvalidStyles());let s="\\\" \\' \\; \\: ; : \uFEFF".split(" ");for(let e=0;e<s.length;e++)i[s[e]]="\uFEFF"+e,i["\uFEFF"+e]=s[e];let d={parse:t=>{let r={},o=!1,s=e.url_converter,c=e.url_converter_scope||d,m=(e,t,o)=>{let n=r[e+"-top"+t];if(!n)return;let a=r[e+"-right"+t];if(!a)return;let l=r[e+"-bottom"+t];if(!l)return;let i=r[e+"-left"+t];if(!i)return;let s=[n,a,l,i],d=s.length-1;for(;d--&&s[d]===s[d+1];);d>-1&&o||(r[e+t]=-1===d?s[0]:s.join(" "),delete r[e+"-top"+t],delete r[e+"-right"+t],delete r[e+"-bottom"+t],delete r[e+"-left"+t])},u=e=>{let t=r[e];if(!t)return;let o=t.indexOf(",")>-1?[t]:t.split(" "),n=o.length;for(;n--;)if(o[n]!==o[0])return!1;return r[e]=o[0],!0},h=e=>(o=!0,i[e]),f=(e,t)=>(o&&(e=e.replace(/\uFEFF[0-9]/g,e=>i[e])),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),g=e=>String.fromCharCode(parseInt(e.slice(1),16)),p=e=>e.replace(/\\[0-9a-f]+/gi,g),v=(t,r,o,n,a,l)=>{if(a=a||l)return"'"+(a=f(a)).replace(/\'/g,"\\'")+"'";if(r=f(r||o||n||""),!e.allow_script_urls){let t=r.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return s&&(r=s.call(c,r,"style")),"url('"+r.replace(/\'/g,"\\'")+"')"};if(t){var b,w,y;let i;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,h).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,h));i=a.exec(t);){a.lastIndex=i.index+i[0].length;let t=i[1].replace(l,"").toLowerCase(),s=i[2].replace(l,"");if(t&&s){if(t=p(t),s=p(s),-1!==t.indexOf("\uFEFF")||-1!==t.indexOf('"')||!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(s)))continue;"font-weight"===t&&"700"===s?s="bold":("color"===t||"background-color"===t)&&(s=s.toLowerCase()),"rgb"===lE(s)&&lS(s).each(e=>{s=l_(lk(e)).toLowerCase()}),s=s.replace(n,v),r[t]=o?f(s,!0):s}}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),w="border-style",y="border-color",u(b="border-width")&&u(w)&&u(y)&&(r.border=r[b]+" "+r[w]+" "+r[y],delete r[b],delete r[w],delete r[y]),"medium none"===r.border&&delete r.border,"none"===r["border-image"]&&delete r["border-image"]}return r},serialize:(e,t)=>{let n="",a=(t,r)=>{let o=r[t];if(o)for(let t=0,r=o.length;t<r;t++){let r=o[t],a=e[r];a&&(n+=(n.length>0?" ":"")+r+": "+a+";")}},l=(e,t)=>{if(!o||!t)return!0;let r=o["*"];return(!r||!r[e])&&!((r=o[t])&&r[e])};return t&&r?(a("*",r),a(t,r)):eZ(e,(e,r)=>{e&&l(r,t)&&(n+=(n.length>0?" ":"")+r+": "+e+";")}),n}};return d},lA={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},lN=e=>e instanceof Event||j(e.initEvent),lR=e=>e.isDefaultPrevented===ea||e.isDefaultPrevented===en,lD=e=>V(e.preventDefault)||lN(e),lM=(e,t)=>{let r=null!=t?t:{};for(let t in e)eY(lA,t)||(r[t]=e[t]);return $(e.composedPath)&&(r.composedPath=()=>e.composedPath()),$(e.getModifierState)&&(r.getModifierState=t=>e.getModifierState(t)),$(e.getTargetRanges)&&(r.getTargetRanges=()=>e.getTargetRanges()),r},lO=(e,t,r,o)=>{var n;let a=lM(t,o);return a.type=e,V(a.target)&&(a.target=null!==(n=a.srcElement)&&void 0!==n?n:r),lD(t)&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=ea,j(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=ea,j(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=ea,a.stopPropagation()},lR(a)||(a.isDefaultPrevented=!0===a.defaultPrevented?ea:en,a.isPropagationStopped=!0===a.cancelBubble?ea:en,a.isImmediatePropagationStopped=en)),a},lL=/^(?:mouse|contextmenu)|click/,lB=(e,t,r,o)=>{e.addEventListener(t,r,o||!1)},lH=(e,t,r,o)=>{e.removeEventListener(t,r,o||!1)},lP=e=>$(e)&&lL.test(e.type),lz=(e,t)=>{let r=lO(e.type,e,document,t);if(lP(e)&&F(e.pageX)&&!F(e.clientX)){let t=r.target.ownerDocument||document,o=t.documentElement,n=t.body;r.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),r.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)}return r},lZ=(e,t,r)=>{let o=e.document,n={type:"ready"};if(r.domLoaded){t(n);return}let a=()=>{lH(e,"DOMContentLoaded",a),lH(e,"load",a),r.domLoaded||(r.domLoaded=!0,t(n)),e=null};"complete"===o.readyState||"interactive"===o.readyState&&o.body?a():lB(e,"DOMContentLoaded",a),r.domLoaded||lB(e,"load",a)};class lI{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,r,o){let n,a;let l=this,i=window,s=e=>{l.executeHandlers(lz(e||i.event),a)};if(!e||nD(e)||nL(e))return r;e[l.expando]?a=e[l.expando]:(a=l.count++,e[l.expando]=a,l.events[a]={}),o=o||e;let d=t.split(" "),c=d.length;for(;c--;){let t=d[c],m=s,u=!1,h=!1;if("DOMContentLoaded"===t&&(t="ready"),l.domLoaded&&"ready"===t&&"complete"===e.readyState){r.call(o,lz({type:t}));continue}l.hasFocusIn||"focusin"!==t&&"focusout"!==t||(u=!0,h="focusin"===t?"focus":"blur",m=e=>{let t=lz(e||i.event);t.type="focus"===t.type?"focusin":"focusout",l.executeHandlers(t,a)}),(n=l.events[a][t])?"ready"===t&&l.domLoaded?r(lz({type:t})):n.push({func:r,scope:o}):(l.events[a][t]=n=[{func:r,scope:o}],n.fakeName=h,n.capture=u,n.nativeHandler=m,"ready"===t?lZ(e,m,l):lB(e,h||t,m,u))}return e=n=null,r}unbind(e,t,r){if(!e||nD(e)||nL(e))return this;let o=e[this.expando];if(o){let n=this.events[o];if(t){let o=t.split(" "),a=o.length;for(;a--;){let t=o[a],l=n[t];if(l){if(r){let e=l.length;for(;e--;)if(l[e].func===r){let r=l.nativeHandler,o=l.fakeName,a=l.capture,i=l.slice(0,e).concat(l.slice(e+1));i.nativeHandler=r,i.fakeName=o,i.capture=a,n[t]=i}}r&&0!==l.length||(delete n[t],lH(e,l.fakeName||t,l.nativeHandler,l.capture))}}}else eZ(n,(t,r)=>{lH(e,t.fakeName||r,t.nativeHandler,t.capture)}),n={};for(let e in n)if(eY(n,e))return this;delete this.events[o];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,r){return this.dispatch(e,t,r)}dispatch(e,t,r){if(!e||nD(e)||nL(e))return this;let o=lz({type:t,target:e},r);do{let t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped())return this}clean(e){if(!e||nD(e)||nL(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);let t=e.getElementsByTagName("*"),r=t.length;for(;r--;)(e=t[r])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){let r=this.events[t],o=r&&r[e.type];if(o)for(let t=0,r=o.length;t<r;t++){let r=o[t];if(r&&!1===r.func.call(r.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}lI.Event=new lI;let lF=t4.each,lV=t4.grep,l$="data-mce-style",lj=t4.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),lU=(e,t,r)=>{V(r)||""===r?rS(e,t):rw(e,t,r)},lq=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),lW=(e,t)=>{let r=0;if(e)for(let o=e.nodeType,n=e.previousSibling;n;n=n.previousSibling){let e=n.nodeType;(!(t&&nD(n))||e!==o&&n.data.length)&&(r++,o=e)}return r},lK=(e,t)=>{let r=rC(t,"style"),o=e.serialize(e.parse(r),rs(t));lU(t,l$,o)},lY=(e,t)=>U(e)?eY(lj,t)?e+"":e+"px":e,lG=(e,t,r)=>{let o=lq(t);V(r)||""===r?oO(e,o):oT(e,o,lY(r,o))},lX=(e,t,r)=>{let o=t.keep_values,n={set:(e,o,n)=>{let a=rF.fromDom(e);j(t.url_converter)&&$(o)&&(o=t.url_converter.call(t.url_converter_scope||r(),String(o),n,e)),lU(a,"data-mce-"+n,o),lU(a,n,o)},get:(e,t)=>{let r=rF.fromDom(e);return rC(r,"data-mce-"+t)||rC(r,t)}},a={style:{set:(t,r)=>{let n=rF.fromDom(t);o&&lU(n,l$,r),rS(n,"style"),B(r)&&oA(n,e.parse(r))},get:t=>{let r=rF.fromDom(t),o=rC(r,l$)||rC(r,"style");return e.serialize(e.parse(o),rs(r))}}};return o&&(a.href=a.src=n),a},lJ=(e,t={})=>{let r={},o=window,n={},a=0,l=aN.forElement(rF.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),i=[],s=t.schema?t.schema:lf({}),d=lT({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),c=t.ownEvents?new lI:lI.Event,m=s.getBlockElements(),u=t=>t&&e&&B(t)?e.getElementById(t):t,h=e=>{let t=u(e);return $(t)?rF.fromDom(t):null},f=(e,t,r="")=>{let o;let n=h(e);if($(n)&&rh(n)){let e=q[t];o=e&&e.get?e.get(n.dom,t):rC(n,t)}return $(o)?o:r},g=e=>{let t=u(e);return V(t)?[]:t.attributes},p=(e,r,o)=>{k(e,e=>{if(ny(e)){let n=rF.fromDom(e),a=""===o?null:o,l=rC(n,r),i=q[r];i&&i.set?i.set(n.dom,a,r):lU(n,r,a),l!==a&&t.onSetAttrib&&t.onSetAttrib({attrElm:n.dom,attrName:r,attrValue:a})}})},v=()=>t.root_element||e.body,b=(t,r)=>aT(e.body,u(t),r),w=(e,t,r)=>{let o=u(e);if(!V(o)&&(nC(o)||nx(o)))return r?oN(rF.fromDom(o),lq(t)):("float"===(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()))&&(t="cssFloat"),o.style?o.style[t]:void 0)},y=e=>{let t=u(e);if(!t)return{w:0,h:0};let r=w(t,"width"),o=w(t,"height");return r&&-1!==r.indexOf("px")||(r="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(r,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},C=(e,t)=>!!e&&eh(z(e)?e:[e],e=>r$(rF.fromDom(e),t)),x=(e,t,r,o)=>{let n=[],a=u(e);o=void 0===o;let l=r||("BODY"!==v().nodeName?v().parentNode:null);if(B(t)){if("*"===t)t=ny;else{let e=t;t=t=>C(t,e)}}for(;a&&!(a===l||V(a.nodeType)||nB(a)||nH(a));){if(!t||t(a)){if(!o)return[a];n.push(a)}a=a.parentNode}return o?n:null},E=(e,t,r)=>{let o=t;if(e){B(t)&&(o=e=>C(e,t));for(let t=e[r];t;t=t[r])if(j(o)&&o(t))return t}return null},S=e=>j(e.querySelectorAll),k=function(e,t,r){let o=null!=r?r:this;if(z(e)){let r=[];return lF(e,(e,n)=>{let a=u(e);a&&r.push(t.call(o,a,n))}),r}{let r=u(e);return!!r&&t.call(o,r)}},_=(e,t)=>{k(e,e=>{eZ(t,(t,r)=>{p(e,r,t)})})},T=(e,t)=>{k(e,e=>{oK(rF.fromDom(e),t)})},A=(t,r,o,n,a)=>k(t,t=>{let l=B(r)?e.createElement(r):r;return $(o)&&_(l,o),n&&(!B(n)&&n.nodeType?l.appendChild(n):B(n)&&T(l,n)),a?l:t.appendChild(l)}),N=(t,r,o)=>A(e.createElement(t),t,r,o,!0),R=aJ.decode,D=aJ.encodeAllRaw,M=(e,t)=>k(e,e=>{let r=rF.fromDom(e);return t&&eg(r6(r),e=>{rf(e)&&0===e.dom.length?o$(e):oB(r,e)}),o$(r),r.dom}),O=(e,t,r)=>{k(e,e=>{if(ny(e)){let o=rF.fromDom(e);eg(t.split(" "),e=>{$(r)?(r?rB:rP)(o,e):rz(o,e)})}})},L=(e,t,r)=>k(t,o=>{var n;let a=z(t)?e.cloneNode(!0):e;return r&&lF(lV(o.childNodes),e=>{a.appendChild(e)}),null===(n=o.parentNode)||void 0===n||n.replaceChild(a,o),o}),H=()=>e.createRange(),Z=(r,n,a,l)=>{if(!z(r))return t.collect&&(r===e||r===o)&&i.push([r,n,a,l]),c.bind(r,n,a,l||U);{let e=r.length,t=[];for(;e--;)t[e]=Z(r[e],n,a,l);return t}},I=(t,r,n)=>{if(z(t)){let e=t.length,o=[];for(;e--;)o[e]=I(t[e],r,n);return o}if(i.length>0&&(t===e||t===o)){let e=i.length;for(;e--;){let[o,a,l]=i[e];t!==o||r&&r!==a||n&&n!==l||c.unbind(o,a,l)}}return c.unbind(t,r,n)},F=e=>{if(!(e&&nC(e)))return null;{let t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}},U={doc:e,settings:t,win:o,files:n,stdMode:!0,boxModel:!0,styleSheetLoader:l,boundEvents:i,styles:d,schema:s,events:c,isBlock:e=>B(e)?eY(m,e):ny(e)&&(eY(m,e.nodeName)||ay(s,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:v,getViewPort:e=>{let t=nr(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{let t=u(e),r=b(t),o=y(t);return{x:r.x,y:r.y,w:o.w,h:o.h}},getSize:y,getParent:(e,t,r)=>{let o=x(e,t,r,!1);return o&&o.length>0?o[0]:null},getParents:x,get:u,getNext:(e,t)=>E(e,t,"nextSibling"),getPrev:(e,t)=>E(e,t,"previousSibling"),select:(r,o)=>{var n,a;let l=null!==(a=null!==(n=u(o))&&void 0!==n?n:t.root_element)&&void 0!==a?a:e;return S(l)?eL(l.querySelectorAll(r)):[]},is:C,add:A,create:N,createHTML:(e,t,r="")=>{let o="<"+e;for(let e in t)eG(t,e)&&(o+=" "+e+'="'+D(t[e])+'"');return tw(r)&&eY(s.getVoidElements(),e)?o+" />":o+">"+r+"</"+e+">"},createFragment:t=>{let r;let o=e.createElement("div"),n=e.createDocumentFragment();for(n.appendChild(o),t&&(o.innerHTML=t);r=o.firstChild;)n.appendChild(r);return n.removeChild(o),n},remove:M,setStyle:(e,r,o)=>{k(e,e=>{let n=rF.fromDom(e);lG(n,r,o),t.update_styles&&lK(d,n)})},getStyle:w,setStyles:(e,r)=>{k(e,e=>{let o=rF.fromDom(e);eZ(r,(e,t)=>{lG(o,t,e)}),t.update_styles&&lK(d,o)})},removeAllAttribs:e=>k(e,e=>{let t=e.attributes;for(let r=t.length-1;r>=0;r--)e.removeAttributeNode(t.item(r))}),setAttrib:p,setAttribs:_,getAttrib:f,getPos:b,parseStyle:e=>d.parse(e),serializeStyle:(e,t)=>d.serialize(e,t),addStyle:t=>{if(U!==lJ.DOM&&e===document){if(r[t])return;r[t]=!0}let o=e.getElementById("mceDefaultStyles");if(!o){(o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css";let t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),eg(e.split(","),e=>{n[e]=!0,l.load(e).catch(W)})},addClass:(e,t)=>{O(e,t,!0)},removeClass:(e,t)=>{O(e,t,!1)},hasClass:(e,t)=>{let r=h(e),o=t.split(" ");return $(r)&&e_(o,e=>rZ(r,e))},toggleClass:O,show:e=>{k(e,e=>oO(rF.fromDom(e),"display"))},hide:e=>{k(e,e=>oT(rF.fromDom(e),"display","none"))},isHidden:e=>{let t=h(e);return $(t)&&t3(oD(t,"display"),"none")},uniqueId:e=>(e||"mce_")+a++,setHTML:T,getOuterHTML:e=>{let t=h(e);return $(t)?ny(t.dom)?t.dom.outerHTML:oY(t):""},setOuterHTML:(e,t)=>{k(e,e=>{ny(e)&&(e.outerHTML=t)})},decode:R,encode:D,insertAfter:(e,t)=>{let r=u(t);return k(e,e=>{let t=null==r?void 0:r.parentNode,o=null==r?void 0:r.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e})},replace:L,rename:(e,t)=>{if(e.nodeName===t.toUpperCase())return e;{let r=N(t);return lF(g(e),t=>{p(r,t.nodeName,f(e,t.nodeName))}),L(r,e,!0),r}},findCommonAncestor:(e,t)=>{let r=e;for(;r;){let e=t;for(;e&&r!==e;)e=e.parentNode;if(r===e)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},run:k,getAttribs:g,isEmpty:(e,t,r)=>P(t)?n2(s,e,{...r,isContent:e=>!!t[e.nodeName.toLowerCase()]}):n2(s,e,r),createRng:H,nodeIndex:lW,split:(e,t,r)=>{let o,n,a=H();if(e&&t&&e.parentNode&&t.parentNode){let l=e.parentNode;return a.setStart(l,lW(e)),a.setEnd(t.parentNode,lW(t)),o=a.extractContents(),(a=H()).setStart(t.parentNode,lW(t)+1),a.setEnd(l,lW(e)+1),n=a.extractContents(),l.insertBefore(aP(U,o,s),e),r?l.insertBefore(r,e):l.insertBefore(t,e),l.insertBefore(aP(U,n,s),e),M(e),r||t}},bind:Z,unbind:I,fire:(e,t,r)=>c.dispatch(e,t,r),dispatch:(e,t,r)=>c.dispatch(e,t,r),getContentEditable:F,getContentEditableParent:e=>{let t=v(),r=null;for(let o=e;o&&o!==t&&null===(r=F(o));o=o.parentNode);return r},isEditable:e=>{if(!$(e))return!1;{let t=ny(e)?e:e.parentElement;return $(t)&&nC(t)&&ox(rF.fromDom(t))}},destroy:()=>{if(i.length>0){let e=i.length;for(;e--;){let[t,r,o]=i[e];c.unbind(t,r,o)}}eZ(n,(e,t)=>{l.unload(t),delete n[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},q=lX(d,t,G(U));return U};lJ.DOM=lJ(document),lJ.nodeIndex=lW;let lQ=lJ.DOM;class l1{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise((t,r)=>{let o;let n=()=>{lQ.remove(a),o&&(o.onerror=o.onload=o=null)},a=lQ.uniqueId();(o=document.createElement("script")).id=a,o.type="text/javascript",o.src=t4._addCacheSuffix(e),this.settings.referrerPolicy&&lQ.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=()=>{n(),t()},o.onerror=()=>{n(),r("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)})}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){let t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise((r,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:r,reject:o})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){let e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){let t=this,r=(e,r)=>{eK(t.scriptLoadedCallbacks,r).each(t=>{eg(t,t=>t[e](r))}),delete t.scriptLoadedCallbacks[r]},o=e=>{let t=eb(e,e=>"rejected"===e.status);return t.length>0?Promise.reject(ek(t,({reason:e})=>z(e)?e:[e])):Promise.resolve()},n=e=>Promise.allSettled(ef(e,e=>2===t.states[e]?(r("resolve",e),Promise.resolve()):3===t.states[e]?(r("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then(()=>{t.states[e]=2,r("resolve",e);let a=t.queue;return a.length>0?(t.queue=[],n(a).then(o)):Promise.resolve()},()=>(t.states[e]=3,r("reject",e),Promise.reject(e)))))),a=e=>(t.loading=!0,n(e).then(e=>{t.loading=!1;let r=t.queueLoadedCallbacks.shift();return el.from(r).each(eo),o(e)})),l=eJ(e);return t.loading?new Promise((e,r)=>{t.queueLoadedCallbacks.push(()=>{a(l).then(e,r)})}):a(l)}}l1.ScriptLoader=new l1;let l0=(e,t)=>{let r=e.indexOf(t);return -1!==r&&e.indexOf(t,r+1)>r},l2=e=>H(e)&&eY(e,"raw"),l4=e=>z(e)&&e.length>1,l3={},l5=n5("en"),l7=()=>eK(l3,l5.get()),l6={getData:()=>eI(l3,e=>({...e})),setCode:e=>{e&&l5.set(e)},getCode:()=>l5.get(),add:(e,t)=>{let r=l3[e];r||(l3[e]=r={});let o=ef(eP(t),e=>e.toLowerCase());eZ(t,(e,n)=>{let a=n.toLowerCase();a!==n&&l0(o,a)?(eY(t,a)||(r[a]=e),r[n]=e):r[a]=e})},translate:e=>{let t=l7().getOr({}),r=e=>j(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null==e,n=e=>{let o=r(e);return eY(t,o)?r(t[o]):eK(t,o.toLowerCase()).map(r).getOr(o)},a=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(l2(e))return r(e.raw);if(l4(e)){let t=e.slice(1);return a(n(e[0]).replace(/\{([0-9]+)\}/g,(e,o)=>eY(t,o)?r(t[o]):e))}return a(n(e))},isRtl:()=>l7().bind(e=>eK(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>eY(l3,e)},l8=()=>{let e=[],t={},r={},o=[],n=(e,t)=>{eg(eb(o,r=>r.name===e&&r.state===t),e=>e.resolve())},a=e=>eY(t,e),l=e=>eY(r,e),i=(e,r)=>{let o=l6.getCode();o&&(!r||-1!==(","+(r||"")+",").indexOf(","+o+","))&&l1.ScriptLoader.add(t[e]+"/langs/"+o+".js")},s=(e,t="added")=>"added"===t&&l(e)?Promise.resolve():"loaded"===t&&a(e)?Promise.resolve():new Promise(r=>{o.push({name:e,state:t,resolve:r})});return{items:e,urls:t,lookup:r,get:e=>{if(r[e])return r[e].instance},requireLangPack:(e,t)=>{!1!==l8.languageLoad&&(a(e)?i(e,t):s(e,"loaded").then(()=>i(e,t)))},add:(t,o)=>(e.push(o),r[t]={instance:o},n(t,"added"),o),remove:e=>{delete t[e],delete r[e]},createUrl:(e,t)=>B(t)?B(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,o)=>{if(t[e])return Promise.resolve();let a=B(o)?o:o.prefix+o.resource+o.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=l8.baseURL+"/"+a),t[e]=a.substring(0,a.lastIndexOf("/"));let l=()=>(n(e,"loaded"),Promise.resolve());return r[e]?l():l1.ScriptLoader.add(a).then(l)},waitFor:s}};l8.languageLoad=!0,l8.baseURL="",l8.PluginManager=l8(),l8.ThemeManager=l8(),l8.ModelManager=l8();let l9=(e,t)=>{let r=null;return{cancel:()=>{Z(r)||(clearTimeout(r),r=null)},throttle:(...o)=>{Z(r)&&(r=setTimeout(()=>{r=null,e.apply(null,o)},t))}}},ie=(e,t)=>{let r=null,o=()=>{Z(r)||(clearTimeout(r),r=null)};return{cancel:o,throttle:(...n)=>{o(),r=setTimeout(()=>{r=null,e.apply(null,n)},t)}}},it=(e,t,r)=>ob(e,t,r).isSome(),ir=G("mce-annotation"),io=G("data-mce-annotation"),ia=G("data-mce-annotation-uid"),il=G("data-mce-annotation-active"),ii=G("data-mce-annotation-classes"),is=G("data-mce-annotation-attrs"),id=e=>t=>rW(t,e),ic=(e,t)=>{let r=e.selection.getRng(),o=rF.fromDom(r.startContainer),n=rF.fromDom(e.getBody()),a=t.fold(()=>"."+ir(),e=>`[${io()}="${e}"]`);return oy(r8(o,r.startOffset).getOr(o),a,id(n)).bind(t=>rx(t,`${ia()}`).bind(r=>rx(t,`${io()}`).map(t=>{let o=ih(e,r);return{uid:r,name:t,elements:o}})))},im=e=>rh(e)&&rZ(e,ir()),iu=(e,t)=>rE(e,"data-mce-bogus")||it(e,'[data-mce-bogus="all"]',id(t)),ih=(e,t)=>{let r=rF.fromDom(e.getBody());return eb(na(r,`[${ia()}="${t}"]`),e=>!iu(e,r))},ig=(e,t)=>{let r=rF.fromDom(e.getBody()),o=na(r,`[${io()}="${t}"]`),n={};return eg(o,e=>{if(!iu(e,r)){let t=rC(e,ia()),r=eK(n,t).getOr([]);n[t]=r.concat([e])}}),n},ip=(e,t)=>{let r=n5({}),o=()=>({listeners:[],previous:n8()}),n=(e,t)=>{a(e,e=>(t(e),e))},a=(e,t)=>{let n=r.get(),a=t(eK(n,e).getOrThunk(o));n[e]=a,r.set(n)},l=(e,t,r)=>{n(e,o=>{eg(o.listeners,o=>o(!0,e,{uid:t,nodes:ef(r,e=>e.dom)}))})},i=e=>{n(e,t=>{eg(t.listeners,t=>t(!1,e))})},s=(t,r)=>{eg(ih(e,t),e=>{r?rw(e,il(),"true"):rS(e,il())})},d=ie(()=>{eg(eR(t.getNames()),t=>{a(t,r=>{let o=r.previous.get();return ic(e,el.some(t)).fold(()=>{o.each(e=>{i(t),r.previous.clear(),s(e,!1)})},({uid:e,name:t,elements:n})=>{t3(o,e)||(o.each(e=>s(e,!1)),l(t,e,n),r.previous.set(e),s(e,!0))}),{previous:r.previous,listeners:r.listeners}})})},30);return e.on("remove",()=>{d.cancel()}),e.on("NodeChange",()=>{d.throttle()}),{addListener:(e,t)=>{a(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}},iv=(e,t)=>{let r=io(),o=e=>el.from(e.attr(r)).bind(t.lookup),n=e=>{var t,r;e.attr(ia(),null),e.attr(io(),null),e.attr(il(),null);let o=el.from(e.attr(is())).map(e=>e.split(",")).getOr([]),n=el.from(e.attr(ii())).map(e=>e.split(",")).getOr([]);eg(o,t=>e.attr(t,null));let a=eA(null!==(r=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==r?r:[],[ir()].concat(n));e.attr("class",a.length>0?a.join(" "):null),e.attr(ii(),null),e.attr(is(),null)};e.serializer.addTempAttr(il()),e.serializer.addAttributeFilter(r,e=>{for(let t of e)o(t).each(e=>{!1===e.persistent&&("span"===t.name?t.unwrap():n(t))})})},ib=()=>{let e={};return{register:(t,r)=>{e[t]={name:t,settings:r}},lookup:t=>eK(e,t).map(e=>e.settings),getNames:()=>eP(e)}},iw=(e,t,r)=>Math.min(Math.max(e,t),r),iy=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/0xffffffff,iC=0,ix=e=>{let t=new Date().getTime();return e+"_"+Math.floor(1e9*iy())+ ++iC+String(t)},iE=(e,t)=>{eg(t,t=>{rB(e,t)})},iS=(e,t)=>{eg(t,t=>{rP(e,t)})},ik=(e,t)=>rF.fromDom(e.dom.cloneNode(t)),i_=e=>ik(e,!1),iT=e=>ik(e,!0),iA=(e,t)=>{let r=rF.fromTag(t);return ry(r,r_(e)),r},iN=(e,t)=>{let r=iA(e,t);return oH(e,r),oF(r,r6(e)),o$(e),r},iR=(e,t,r=en)=>{let o=new nd(e,t),n=e=>{let t;do t=o[e]();while(t&&!nD(t)&&!r(t))return el.from(t).filter(nD)};return{current:()=>el.from(o.current()).filter(nD),next:()=>n("next"),prev:()=>n("prev"),prev2:()=>n("prev2")}},iD=(e,t)=>{let r=t||(t=>e.isBlock(t)||nP(t)||nI(t)),o=(e,t,r,n)=>{if(nD(e)){let r=n(e,t,e.data);if(-1!==r)return el.some({container:e,offset:r})}return r().bind(e=>o(e.container,e.offset,r,n))};return{backwards:(t,n,a,l)=>{let i=iR(t,null!=l?l:e.getRoot(),r);return o(t,n,()=>i.prev().map(e=>({container:e,offset:e.length})),a).getOrNull()},forwards:(t,n,a,l)=>{let i=iR(t,null!=l?l:e.getRoot(),r);return o(t,n,()=>i.next().map(e=>({container:e,offset:0})),a).getOrNull()}}},iM=((e,t)=>{let r=t=>e(t)?el.from(t.dom.nodeValue):el.none();return{get:o=>{if(!e(o))throw Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},getOption:r,set:(r,o)=>{if(!e(r))throw Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=o}}})(rf,"text"),iO=e=>iM.get(e),iL=e=>iM.getOption(e),iB=(e,t)=>iM.set(e,t),iH=e=>{let t;return r=>eY(t=t||eN(e,ea),rs(r))},iP=e=>"table"===rs(e),iz=e=>rh(e)&&"br"===rs(e),iZ=iH(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),iI=iH(["ul","ol","dl"]),iF=iH(["li","dd","dt"]),iV=iH(["thead","tbody","tfoot"]),i$=iH(["td","th"]),ij=iH(["pre","script","textarea","style"]),iU=e=>{let t=[],r=e.dom;for(;r;)t.push(rF.fromDom(r)),r=r.lastChild;return t},iq=e=>{let t=na(e,"br"),r=eb(iU(e).slice(-1),iz);t.length===r.length&&eg(r,o$)},iW=()=>{let e=rF.fromTag("br");return rw(e,"data-mce-bogus","1"),e},iK=e=>{oV(e),oz(e,iW())},iY=(e,t)=>{oe(e).each(r=>{r4(r).each(o=>{t.isBlock(rs(e))&&iz(r)&&t.isBlock(rs(o))&&o$(r)})})},iG=e=>e.replace(/\uFEFF/g,""),iX=e=>e.insertContent("\uFEFF",{preserve_zwsp:!0}),iJ=e=>(nD(e)&&(e=e.parentNode),ny(e)&&e.hasAttribute("data-mce-caret")),iQ=e=>nD(e)&&nc(e.data),i1=e=>iJ(e)||iQ(e),i0=e=>e.firstChild!==e.lastChild||!nP(e.firstChild),i2=(e,t)=>{var r;let o=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createTextNode("\uFEFF"),n=e.parentNode;if(t){let t=e.previousSibling;if(nD(t)){if(i1(t))return t;if(i6(t))return t.splitText(t.data.length-1)}null==n||n.insertBefore(o,e)}else{let t=e.nextSibling;if(nD(t)){if(i1(t))return t;if(i7(t))return t.splitText(1),t}e.nextSibling?null==n||n.insertBefore(o,e.nextSibling):null==n||n.appendChild(o)}return o},i4=e=>{let t=e.container();return!!nD(t)&&("\uFEFF"===t.data.charAt(e.offset())||e.isAtStart()&&iQ(t.previousSibling))},i3=e=>{let t=e.container();return!!nD(t)&&("\uFEFF"===t.data.charAt(e.offset()-1)||e.isAtEnd()&&iQ(t.nextSibling))},i5=(e,t,r)=>{var o;let n=(null!==(o=t.ownerDocument)&&void 0!==o?o:document).createElement(e);n.setAttribute("data-mce-caret",r?"before":"after"),n.setAttribute("data-mce-bogus","all"),n.appendChild(iW().dom);let a=t.parentNode;return r?null==a||a.insertBefore(n,t):t.nextSibling?null==a||a.insertBefore(n,t.nextSibling):null==a||a.appendChild(n),n},i7=e=>nD(e)&&"\uFEFF"===e.data[0],i6=e=>nD(e)&&"\uFEFF"===e.data[e.data.length-1],i8=e=>{var t;let r=e.getElementsByTagName("br"),o=r[r.length-1];n_(o)&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o))},i9=e=>e&&e.hasAttribute("data-mce-caret")?(i8(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,se=e=>iJ(e.startContainer),st=Math.round,sr=e=>e?{left:st(e.left),top:st(e.top),bottom:st(e.bottom),right:st(e.right),width:st(e.width),height:st(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},so=(e,t)=>(e=sr(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),sn=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,sa=(e,t,r)=>e>=0&&e<=Math.min(t.height,r.height)/2,sl=(e,t)=>{let r=Math.min(t.height/2,e.height/2);return e.bottom-r<t.top||!(e.top>t.bottom)&&sa(t.top-e.bottom,e,t)},si=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&sa(t.bottom-e.top,e,t),ss=(e,t,r)=>t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom,sd=e=>ey(e,(e,t)=>e.fold(()=>el.some(t),e=>{let r=Math.min(t.left,e.left),o=Math.min(t.top,e.top),n=Math.max(t.right,e.right),a=Math.max(t.bottom,e.bottom);return el.some({top:o,right:n,bottom:a,left:r,width:n-r,height:a-o})}),el.none()),sc=(e,t,r)=>{let o=Math.max(Math.min(t,e.left+e.width),e.left),n=Math.max(Math.min(r,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(r-n)*(r-n))},sm=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),su=e=>{let t=e.startContainer,r=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===r+1?t.childNodes[r]:null},sh=(e,t)=>{if(!(ny(e)&&e.hasChildNodes()))return e;{let r=e.childNodes,o=iw(t,0,r.length-1);return r[o]}},sf=RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),sg=e=>B(e)&&e.charCodeAt(0)>=768&&sf.test(e),sp=nS(["script","style","textarea"]),sv=nS(["img","input","textarea","hr","iframe","video","audio","object","embed"]),sb=nS(["table"]),sw=e=>!i1(e)&&(nD(e)?!sp(e.parentNode):sv(e)||nP(e)||sb(e)||sC(e)),sy=e=>ny(e)&&"true"===e.getAttribute("unselectable"),sC=e=>!sy(e)&&nI(e),sx=(e,t)=>{for(let r=e.parentNode;r&&r!==t;r=r.parentNode){if(sC(r))return!1;if(nZ(r))break}return!0},sE=e=>!!sC(e)&&!ey(eL(e.getElementsByTagName("*")),(e,t)=>e||nZ(t),!1),sS=(e,t)=>sw(e)&&sx(e,t),sk=nk("display","block table"),s_=((...e)=>t=>{for(let r=0;r<e.length;r++)if(!e[r](t))return!1;return!0})(ny,sw,ee(nk("float","left right"))),sT=ee(nk("white-space","pre pre-line pre-wrap")),sA=lJ.nodeIndex,sN=(e,t)=>{if(!(t<0&&ny(e)&&e.hasChildNodes()))return sh(e,t)},sR=e=>e?e.createRange():lJ.DOM.createRng(),sD=e=>B(e)&&/[\r\n\t ]/.test(e),sM=e=>!!e.setStart&&!!e.setEnd,sO=e=>{let t=e.startContainer,r=e.startOffset;if(sD(e.toString())&&sT(t.parentNode)&&nD(t)){let e=t.data;if(sD(e[r-1])||sD(e[r+1]))return!0}return!1},sL=e=>{let t=e.ownerDocument,r=sR(t),o=t.createTextNode(""),n=e.parentNode;n.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1);let a=sr(r.getBoundingClientRect());return n.removeChild(o),a},sB=e=>{let t=e.startContainer,r=e.endContainer,o=e.startOffset,n=e.endOffset;if(!(t===r&&nD(r))||0!==o||1!==n)return null;{let t=e.cloneRange();return t.setEndAfter(r),sP(t)}},sH=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,sP=e=>{var t;let r;let o=e.getClientRects();return(r=o.length>0?sr(o[0]):sr(e.getBoundingClientRect()),!sM(e)&&nP(e)&&sH(r))?sL(e):sH(r)&&sM(e)&&null!==(t=sB(e))&&void 0!==t?t:r},sz=(e,t)=>{let r=so(e,t);return r.width=1,r.right=r.left+1,r},sZ=e=>{let t=[],r=e=>{0===e.height||t.length>0&&sn(e,t[t.length-1])||t.push(e)},o=(e,t)=>{let o=sR(e.ownerDocument);if(t<e.data.length){if(sg(e.data[t]))return;if(sg(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!sO(o))){r(sz(sP(o),!1));return}}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),sO(o)||r(sz(sP(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),sO(o)||r(sz(sP(o),!0)))},n=e.container(),a=e.offset();if(nD(n))return o(n,a),t;if(ny(n)){if(e.isAtEnd()){let e=sN(n,a);nD(e)&&o(e,e.data.length),s_(e)&&!nP(e)&&r(sz(sP(e),!1))}else{let l=sN(n,a);if(nD(l)&&o(l,0),s_(l)&&e.isAtEnd())return r(sz(sP(l),!1)),t;let i=sN(e.container(),e.offset()-1);s_(i)&&!nP(i)&&(sk(i)||sk(l)||!s_(l))&&r(sz(sP(i),!1)),s_(l)&&r(sz(sP(l),!0))}}return t},sI=(e,t,r)=>{let o=()=>(r||(r=sZ(sI(e,t))),r);return{container:G(e),offset:G(t),toRange:()=>{let r=sR(e.ownerDocument);return r.setStart(e,t),r.setEnd(e,t),r},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>(nD(e),0===t),isAtEnd:()=>nD(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:r=>r&&e===r.container()&&t===r.offset(),getNode:r=>sN(e,r?t-1:t)}};sI.fromRangeStart=e=>sI(e.startContainer,e.startOffset),sI.fromRangeEnd=e=>sI(e.endContainer,e.endOffset),sI.after=e=>sI(e.parentNode,sA(e)+1),sI.before=e=>sI(e.parentNode,sA(e)),sI.isAbove=(e,t)=>t6(eM(t.getClientRects()),eO(e.getClientRects()),sl).getOr(!1),sI.isBelow=(e,t)=>t6(eO(t.getClientRects()),eM(e.getClientRects()),si).getOr(!1),sI.isAtStart=e=>!!e&&e.isAtStart(),sI.isAtEnd=e=>!!e&&e.isAtEnd(),sI.isTextPosition=e=>!!e&&nD(e.container()),sI.isElementPosition=e=>!sI.isTextPosition(e);let sF=(e,t)=>{nD(t)&&0===t.data.length&&e.remove(t)},sV=(e,t,r)=>{t.insertNode(r),sF(e,r.previousSibling),sF(e,r.nextSibling)},s$=(e,t,r)=>{let o=el.from(r.firstChild),n=el.from(r.lastChild);t.insertNode(r),o.each(t=>sF(e,t.previousSibling)),n.each(t=>sF(e,t.nextSibling))},sj=(e,t,r)=>{nH(r)?s$(e,t,r):sV(e,t,r)},sU=lJ.nodeIndex,sq=e=>{let t=e.parentNode;return n_(t)?sq(t):t},sW=e=>e?e3(e.childNodes,(e,t)=>(n_(t)&&"BR"!==t.nodeName?e=e.concat(sW(t)):e.push(t),e),[]):[],sK=(e,t)=>{let r=e;for(;(r=r.previousSibling)&&nD(r);)t+=r.data.length;return t},sY=e=>t=>e===t,sG=e=>{let t,r;r=e5(t=sW(sq(e)),sY(e),e);let o=e3(t=t.slice(0,r+1),(e,r,o)=>(nD(r)&&nD(t[o-1])&&e++,e),0);return(r=e5(t=e4(t,nS([e.nodeName])),sY(e),e))-o},sX=e=>(nD(e)?"text()":e.nodeName.toLowerCase())+"["+sG(e)+"]",sJ=(e,t,r)=>{let o=[];for(let n=t.parentNode;n&&n!==e&&!(r&&r(n));n=n.parentNode)o.push(n);return o},sQ=(e,t)=>{let r,o=[],n=t.container(),a=t.offset();if(nD(n))r=sK(n,a);else{let e=n.childNodes;a>=e.length?(r="after",a=e.length-1):r="before",n=e[a]}o.push(sX(n));let l=sJ(e,n);return l=e4(l,ee(n_)),(o=o.concat(e2(l,e=>sX(e)))).reverse().join("/")+","+r},s1=(e,t,r)=>{let o=sW(e);return o=e4(o,(e,t)=>!nD(e)||!nD(o[t-1])),(o=e4(o,nS([t])))[r]},s0=(e,t)=>{let r=e,o=0;for(;nD(r);){let n=r.data.length;if(t>=o&&t<=o+n){e=r,t-=o;break}if(!nD(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return nD(e)&&t>e.data.length&&(t=e.data.length),sI(e,t)},s2=(e,t)=>{if(!t)return null;let r=t.split(","),o=r[0].split("/"),n=r.length>1?r[1]:"before",a=e3(o,(e,t)=>{let r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return r?("text()"===r[1]&&(r[1]="#text"),s1(e,r[1],parseInt(r[2],10))):null},e);if(!a)return null;if(!nD(a)&&a.parentNode){let e;return e="after"===n?sU(a)+1:sU(a),sI(a.parentNode,e)}return s0(a,parseInt(n,10))},s4=(e,t,r)=>{let o=e(t.data.slice(0,r)).length;for(let r=t.previousSibling;r&&nD(r);r=r.previousSibling)o+=e(r.data).length;return o},s3=(e,t,r,o,n)=>{let a=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset,i=[],s=e.getRoot();if(nD(a))i.push(r?s4(t,a,l):l);else{let t=0,o=a.childNodes;l>=o.length&&o.length&&(t=1,l=Math.max(0,o.length-1)),i.push(e.nodeIndex(o[l],r)+t)}for(let t=a;t&&t!==s;t=t.parentNode)i.push(e.nodeIndex(t,r));return i},s5=(e,t,r,o)=>{let n=t.dom,a=s3(n,e,r,o,!0),l=t.isForward(),i=se(o)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:a,forward:l,...i}:{start:a,end:s3(n,e,r,o,!1),forward:l,...i}},s7=(e,t,r)=>{let o=0;return t4.each(e.select(t),e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==r&&void o++),o},s6=(e,t)=>{let r=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(ny(r)&&"TR"===r.nodeName){let n=r.childNodes;(r=n[Math.min(t?o:o-1,n.length-1)])&&(o=t?0:r.childNodes.length,t?e.setStart(r,o):e.setEnd(r,o))}},s8=e=>(s6(e,!0),s6(e,!1),e),s9=(e,t)=>{if(ny(e)&&nI(e=sh(e,t)))return e;if(i1(e)){nD(e)&&iJ(e)&&(e=e.parentNode);let t=e.previousSibling;if(nI(t)||nI(t=e.nextSibling))return t}},de=e=>s9(e.startContainer,e.startOffset)||s9(e.endContainer,e.endOffset),dt=(e,t,r)=>{let o=r.getNode(),n=r.getRng();if("IMG"===o.nodeName||nI(o)){let e=o.nodeName;return{name:e,index:s7(r.dom,e,o)}}let a=de(n);if(a){let e=a.tagName;return{name:e,index:s7(r.dom,e,a)}}return s5(e,r,t,n)},dr=e=>{let t=e.getRng();return{start:sQ(e.dom.getRoot(),sI.fromRangeStart(t)),end:sQ(e.dom.getRoot(),sI.fromRangeEnd(t)),forward:e.isForward()}},dn=e=>({rng:e.getRng(),forward:e.isForward()}),da=(e,t,r)=>{let o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return r?e.create("span",o,"&#xFEFF;"):e.create("span",o)},dl=(e,t)=>{let r=e.dom,o=e.getRng(),n=r.uniqueId(),a=e.isCollapsed(),l=e.getNode(),i=l.nodeName,s=e.isForward();if("IMG"===i)return{name:i,index:s7(r,i,l)};let d=s8(o.cloneRange());if(!a){d.collapse(!1);let e=da(r,n+"_end",t);sj(r,d,e)}(o=s8(o)).collapse(!0);let c=da(r,n+"_start",t);return sj(r,o,c),e.moveToBookmark({id:n,keep:!0,forward:s}),{id:n,forward:s}},di=(e,t,r=!1)=>2===t?dt(iG,r,e):3===t?dr(e):t?dn(e):dl(e,!1),ds=Q(dt,X,!0),dd={value:e=>{let t=t=>t(e),r=G(e),o=()=>n,n={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:ea,isError:en,map:t=>dd.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:r,or:o,getOrThunk:r,orThunk:o,getOrDie:r,each:t=>{t(e)},toOptional:()=>el.some(e)};return n},error:e=>{let t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:en,isError:ea,map:t,mapError:t=>dd.error(t(e)),bind:t,exists:en,forall:ea,getOr:X,or:X,getOrThunk:er,orThunk:er,getOrDie:et(String(e)),each:W,toOptional:el.none};return r}},dc=e=>{if(!z(e))throw Error("cases must be an array");if(0===e.length)throw Error("there must be at least one case");let t=[],r={};return eg(e,(o,n)=>{let a=eP(o);if(1!==a.length)throw Error("one and only one name per case");let l=a[0],i=o[l];if(void 0!==r[l])throw Error("duplicate key detected:"+l);if("cata"===l)throw Error("cannot have a case named cata (sorry)");if(!z(i))throw Error("case arguments must be an array");t.push(l),r[l]=(...r)=>{let o=r.length;if(o!==i.length)throw Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[n].apply(null,r)},match:e=>{let o=eP(e);if(t.length!==o.length)throw Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!e_(t,e=>eu(o,e)))throw Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:l,params:r})}}}}),r};dc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);let dm=e=>{let t=[],r=[];return eg(e,e=>{e.fold(e=>{t.push(e)},e=>{r.push(e)})}),{errors:t,values:r}},du=e=>"inline-command"===e.type||"inline-format"===e.type,dh=e=>"block-command"===e.type||"block-format"===e.type,df=(e,t)=>("block-command"===e.type||"block-format"===e.type)&&e.trigger===t,dg=e=>{var t;let r=t=>dd.error({message:t,pattern:e}),o=(t,o,n)=>{if(void 0!==e.format){let n;if(z(e.format)){if(!e_(e.format,B))return r(t+" pattern has non-string items in the `format` array");n=e.format}else{if(!B(e.format))return r(t+" pattern has non-string `format` parameter");n=[e.format]}return dd.value(o(n))}return void 0===e.cmd?r(t+" pattern is missing both `format` and `cmd` parameters"):B(e.cmd)?dd.value(n(e.cmd,e.value)):r(t+" pattern has non-string `cmd` parameter")};if(!H(e))return r("Raw pattern is not an object");if(!B(e.start))return r("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!B(e.end))return r("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return r("Inline pattern has empty `start` and `end` parameters");let t=e.start,n=e.end;return 0===n.length&&(n=t,t=""),o("Inline",e=>({type:"inline-format",start:t,end:n,format:e}),(e,r)=>({type:"inline-command",start:t,end:n,cmd:e,value:r}))}if(void 0!==e.replacement)return B(e.replacement)?0===e.start.length?r("Replacement pattern has empty `start` parameter"):dd.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):r("Replacement pattern has non-string `replacement` parameter");{let n=null!==(t=e.trigger)&&void 0!==t?t:"space";return 0===e.start.length?r("Block pattern has empty `start` parameter"):o("Block",t=>({type:"block-format",start:e.start,format:t[0],trigger:n}),(t,r)=>({type:"block-command",start:e.start,cmd:t,value:r,trigger:n}))}},dp=e=>eb(e,dh),dv=e=>eb(e,du),db=(e,t)=>({inlinePatterns:dv(e),blockPatterns:dp(e),dynamicPatternsLookup:t}),dw=(e,t)=>({...e,blockPatterns:eb(e.blockPatterns,e=>df(e,t))}),dy=e=>{let t=dm(ef(e,dg));return eg(t.errors,e=>console.error(e.message,e.pattern)),t.values},dC=e=>t=>dy(e(t)),dx=tq().deviceType,dE=dx.isTouch(),dS=lJ.DOM,dk=e=>ey(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(e,t)=>{let r=t.split("="),o=r[0],n=r.length>1?r[1]:o;return e[tg(o)]=tg(n),e},{}),d_=e=>L(e,RegExp),dT=e=>t=>t.options.get(e),dA=e=>B(e)||H(e),dN=(e,t="")=>r=>{let o=B(r);return o?-1!==r.indexOf("=")?{value:eK(dk(r),e.id).getOr(t),valid:o}:{value:r,valid:o}:{valid:!1,message:"Must be a string."}},dR=e=>{let t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:dN(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:dN(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{let t=B(e)&&tb(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{let t=eu(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>I(e)?{valid:!0,value:e}:B(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{let t=!1===e||B(e)||q(e,B);return t?B(e)?{value:ef(e.split(","),tg),valid:t}:z(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:cp(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{let t=B(e)||q(e,B);return t?{value:z(e)?e:ef(e.split(","),tg),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{let t=I(e)||B(e);return t?!1===e||dx.isiPhone()||dx.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!dE}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||B(e)||j(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{let t=!1===e||B(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:e=>{let t=q(e,B);return t?{value:e,valid:t}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:dA}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:dA}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:dA}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:dA}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>B(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>q(e,H)||!1===e?{value:dy(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:e=>j(e)?{value:dC(e),valid:!0}:{valid:!1,message:"Must be a single function"},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>q(e,d_)?{value:e,valid:!0}:d_(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{let t=eu(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{let t=eu(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:l6.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:dS.getAttrib(e.getElement(),"placeholder")})})},dD=dT("iframe_attrs"),dM=dT("doctype"),dO=dT("document_base_url"),dL=dT("body_id"),dB=dT("body_class"),dH=dT("content_security_policy"),dP=dT("br_in_pre"),dz=dT("forced_root_block"),dZ=dT("forced_root_block_attrs"),dI=dT("newline_behavior"),dF=dT("br_newline_selector"),dV=dT("no_newline_selector"),d$=dT("keep_styles"),dj=dT("end_container_on_empty_block"),dU=dT("automatic_uploads"),dq=dT("images_reuse_filename"),dW=dT("images_replace_blob_uris"),dK=dT("icons"),dY=dT("icons_url"),dG=dT("images_upload_url"),dX=dT("images_upload_base_path"),dJ=dT("images_upload_credentials"),dQ=dT("images_upload_handler"),d1=dT("content_css_cors"),d0=dT("referrer_policy"),d2=dT("language"),d4=dT("language_url"),d3=dT("indent_use_margin"),d5=dT("indentation"),d7=dT("content_css"),d6=dT("content_style"),d8=dT("font_css"),d9=dT("directionality"),ce=dT("inline_boundaries_selector"),ct=dT("object_resizing"),cr=dT("resize_img_proportional"),co=dT("placeholder"),cn=dT("event_root"),ca=dT("service_message"),cl=dT("theme"),ci=dT("theme_url"),cs=dT("model"),cd=dT("model_url"),cc=dT("inline_boundaries"),cm=dT("formats"),cu=dT("preview_styles"),ch=dT("format_empty_lines"),cf=dT("format_noneditable_selector"),cg=dT("custom_ui_selector"),cp=dT("inline"),cv=dT("hidden_input"),cb=dT("submit_patch"),cw=dT("add_form_submit_trigger"),cy=dT("add_unload_trigger"),cC=dT("custom_undo_redo_levels"),cx=dT("disable_nodechange"),cE=dT("readonly"),cS=dT("editable_root"),ck=dT("content_css_cors"),c_=dT("plugins"),cT=dT("external_plugins"),cA=dT("block_unsupported_drop"),cN=dT("visual"),cR=dT("visual_table_class"),cD=dT("visual_anchor_class"),cM=dT("iframe_aria_text"),cO=dT("setup"),cL=dT("init_instance_callback"),cB=dT("urlconverter_callback"),cH=dT("auto_focus"),cP=dT("browser_spellcheck"),cz=dT("protect"),cZ=dT("paste_block_drop"),cI=dT("paste_data_images"),cF=dT("paste_preprocess"),cV=dT("paste_postprocess"),c$=dT("newdocument_content"),cj=dT("paste_webkit_styles"),cU=dT("paste_remove_styles_if_webkit"),cq=dT("paste_merge_formats"),cW=dT("smart_paste"),cK=dT("paste_as_text"),cY=dT("paste_tab_spaces"),cG=dT("allow_html_data_urls"),cX=dT("text_patterns"),cJ=dT("text_patterns_lookup"),cQ=dT("noneditable_class"),c1=dT("editable_class"),c0=dT("noneditable_regexp"),c2=dT("preserve_cdata"),c4=dT("highlight_on_focus"),c3=dT("xss_sanitization"),c5=dT("init_content_sync"),c7=e=>e.options.isSet("text_patterns_lookup"),c6=e=>t4.explode(e.options.get("font_size_style_values")),c8=e=>t4.explode(e.options.get("font_size_classes")),c9=e=>"xml"===e.options.get("encoding"),me=e=>t4.explode(e.options.get("images_file_types")),mt=dT("table_tab_navigation"),mr=dT("details_initial_state"),mo=dT("details_serialized_state"),mn=dT("sandbox_iframes"),ma=e=>e.options.get("sandbox_iframes_exclusions"),ml=dT("convert_unsafe_embeds"),mi=dT("license_key"),ms=dT("api_key"),md=e=>{let t=e.parentNode;t&&t.removeChild(e)},mc=e=>{let t=iG(e);return{count:e.length-t.length,text:t}},mm=e=>{let t;for(;-1!==(t=e.data.lastIndexOf("\uFEFF"));)e.deleteData(t,1)},mu=(e,t)=>(mb(e),t),mh=(e,t)=>{let r=mc(e.data.substr(0,t.offset())),o=mc(e.data.substr(t.offset()));return(r.text+o.text).length>0?(mm(e),sI(e,t.offset()-r.count)):t},mf=(e,t)=>{let r=t.container(),o=em(eL(r.childNodes),e).map(e=>e<t.offset()?sI(r,t.offset()-1):t).getOr(t);return mb(e),o},mg=(e,t)=>nD(e)&&t.container()===e?mh(e,t):mu(e,t),mp=(e,t)=>t.container()===e.parentNode?mf(e,t):mu(e,t),mv=(e,t)=>sI.isTextPosition(t)?mg(e,t):mp(e,t),mb=e=>{ny(e)&&i1(e)&&(i0(e)?e.removeAttribute("data-mce-caret"):md(e)),nD(e)&&(mm(e),0===e.data.length&&md(e))},mw=(e,t,r)=>{let o,n;let a=so(t.getBoundingClientRect(),r);if("BODY"===e.tagName){let t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,n=e.scrollTop||t.scrollTop}else{let t=e.getBoundingClientRect();o=e.scrollLeft-t.left,n=e.scrollTop-t.top}a.left+=o,a.right+=o,a.top+=n,a.bottom+=n,a.width=1;let l=t.offsetWidth-t.clientWidth;return l>0&&(r&&(l*=-1),a.left+=l,a.right+=l),a},my=e=>{var t,r;let o=na(rF.fromDom(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<o.length;e++){let n=o[e].dom,a=n.previousSibling;if(i6(a)){let e=a.data;1===e.length?null===(t=a.parentNode)||void 0===t||t.removeChild(a):a.deleteData(e.length-1,1)}i7(a=n.nextSibling)&&(1===a.data.length?null===(r=a.parentNode)||void 0===r||r.removeChild(a):a.deleteData(0,1))}},mC=(e,t,r,o)=>{let n,a;let l=n8(),i=dz(e),s=e.dom,d=()=>{my(t),a&&(mb(a),a=null),l.on(e=>{s.remove(e.caret),l.clear()}),n&&(clearInterval(n),n=void 0)},c=()=>{n=setInterval(()=>{l.on(e=>{o()?s.toggleClass(e.caret,"mce-visual-caret-hidden"):s.addClass(e.caret,"mce-visual-caret-hidden")})},500)};return{show:(e,o)=>{let n;if(d(),nF(o))return null;if(r(o)){let r=i5(i,o,e),d=mw(t,o,e);s.setStyle(r,"top",d.top),s.setStyle(r,"caret-color","transparent"),a=r;let m=s.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});s.setStyles(m,{...d}),s.add(t,m),l.set({caret:m,element:o,before:e}),e&&s.addClass(m,"mce-visual-caret-before"),c(),(n=o.ownerDocument.createRange()).setStart(r,0),n.setEnd(r,0)}else a=i2(o,e),n=o.ownerDocument.createRange(),mE(a.nextSibling)?(n.setStart(a,0),n.setEnd(a,0)):(n.setStart(a,1),n.setEnd(a,1));return n},hide:d,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(e=>{let r=mw(t,e.element,e.before);s.setStyles(e.caret,{...r})})},destroy:()=>clearInterval(n)}},mx=()=>tQ.browser.isFirefox(),mE=e=>nI(e)||n$(e),mS=e=>(mE(e)||nA(e)&&mx())&&r1(rF.fromDom(e)).exists(ox),mk=nk("display","block table table-cell table-row table-caption list-item"),m_=e=>e>0,mT=e=>e<0,mA=(e,t)=>{let r;for(;r=e(t);)if(!iJ(r))return r;return null},mN=(e,t,r,o,n)=>{let a;let l=new nd(e,o),i=nI(e)||iJ(e);if(mT(t)){if(i&&r(a=mA(l.prev.bind(l),!0)))return a;for(;a=mA(l.prev.bind(l),n);)if(r(a))return a}if(m_(t)){if(i&&r(a=mA(l.next.bind(l),!0)))return a;for(;a=mA(l.next.bind(l),n);)if(r(a))return a}return null},mR=(e,t)=>oh(rF.fromDom(e),e=>nZ(e.dom),e=>e.dom===t).map(e=>e.dom).getOr(t),mD=(e,t)=>{for(;e&&e!==t;){if(mk(e))return e;e=e.parentNode}return null},mM=(e,t,r)=>mD(e.container(),r)===mD(t.container(),r),mO=(e,t)=>{if(!t)return el.none();let r=t.container(),o=t.offset();return ny(r)?el.from(r.childNodes[o+e]):el.none()},mL=(e,t)=>{var r;let o=(null!==(r=t.ownerDocument)&&void 0!==r?r:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},mB=(e,t,r)=>mD(t,e)===mD(r,e),mH=(e,t,r)=>{let o=e?"previousSibling":"nextSibling",n=r;for(;n&&n!==t;){let e=n[o];if(e&&i1(e)&&(e=e[o]),nI(e)||n$(e)){if(mB(t,e,n))return e;break}if(sw(e))break;n=n.parentNode}return null},mP=Q(mL,!0),mz=Q(mL,!1),mZ=(e,t,r)=>{let o;let n=Q(mH,!0,t),a=Q(mH,!1,t),l=r.startContainer,i=r.startOffset;if(iJ(l)){let e=nD(l)?l.parentNode:l,t=e.getAttribute("data-mce-caret");if("before"===t&&mS(o=e.nextSibling))return mP(o);if("after"===t&&mS(o=e.previousSibling))return mz(o)}if(!r.collapsed)return r;if(nD(l)){if(i1(l)){if(1===e){if(o=a(l))return mP(o);if(o=n(l))return mz(o)}if(-1===e){if(o=n(l))return mz(o);if(o=a(l))return mP(o)}return r}if(i6(l)&&i>=l.data.length-1)return 1===e&&(o=a(l))?mP(o):r;if(i7(l)&&i<=1)return -1===e&&(o=n(l))?mz(o):r;if(i===l.data.length)return(o=a(l))?mP(o):r;if(0===i&&(o=n(l)))return mz(o)}return r},mI=(e,t)=>mO(e?0:-1,t).filter(nI),mF=(e,t,r)=>{let o=mZ(e,t,r);return -1===e?sI.fromRangeStart(o):sI.fromRangeEnd(o)},mV=e=>el.from(e.getNode()).map(rF.fromDom),m$=e=>el.from(e.getNode(!0)).map(rF.fromDom),mj=(e,t)=>{let r=t;for(;(r=e(r))&&!r.isVisible(););return r},mU=(e,t)=>{let r=mM(e,t);return!!(!r&&nP(e.getNode()))||r};(d=g||(g={}))[d.Backwards=-1]="Backwards",d[d.Forwards=1]="Forwards";let mq=e=>sv(e)||sE(e),mW=(e,t)=>{let r=[],o=e;for(;o&&o!==t;)r.push(o),o=o.parentNode;return r},mK=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,mY=(e,t)=>{if(m_(e)){if(sw(t.previousSibling)&&!nD(t.previousSibling))return sI.before(t);if(nD(t))return sI(t,0)}if(mT(e)){if(sw(t.nextSibling)&&!nD(t.nextSibling))return sI.after(t);if(nD(t))return sI(t,t.data.length)}return mT(e)?nP(t)?sI.before(t):sI.after(t):sI.before(t)},mG=(e,t)=>{let r=t.nextSibling;return r&&sw(r)?nD(r)?sI(r,0):sI.before(r):mX(g.Forwards,sI.after(t),e)},mX=(e,t,r)=>{let o,n,a,l;if(!ny(r)||!t)return null;if(t.isEqual(sI.after(r))&&r.lastChild){if(l=sI.after(r.lastChild),mT(e)&&sw(r.lastChild)&&ny(r.lastChild))return nP(r.lastChild)?sI.before(r.lastChild):l}else l=t;let i=l.container(),s=l.offset();if(nD(i)){if(mT(e)&&s>0)return sI(i,--s);if(m_(e)&&s<i.length)return sI(i,++s);o=i}else{if(mT(e)&&s>0&&sw(n=mK(i,s-1)))return!mq(n)&&(a=mN(n,e,sS,n))?nD(a)?sI(a,a.data.length):sI.after(a):nD(n)?sI(n,n.data.length):sI.before(n);if(m_(e)&&s<i.childNodes.length&&sw(n=mK(i,s)))return nP(n)?mG(r,n):!mq(n)&&(a=mN(n,e,sS,n))?nD(a)?sI(a,0):sI.before(a):nD(n)?sI(n,0):sI.after(n);o=n||l.getNode()}if(o&&(m_(e)&&l.isAtEnd()||mT(e)&&l.isAtStart())&&sS(o=mN(o,e,ea,r,!0),r))return mY(e,o);n=o?mN(o,e,sS,r):o;let d=e7(eb(mW(i,r),nI));return!d||n&&d.contains(n)?n?mY(e,n):null:l=m_(e)?sI.after(d):sI.before(d)},mJ=e=>({next:t=>mX(g.Forwards,t,e),prev:t=>mX(g.Backwards,t,e)}),mQ=(e,t,r)=>{let o=e?sI.before(r):sI.after(r);return m7(e,t,o)},m1=e=>nP(e)?sI.before(e):sI.after(e),m0=e=>sI.isTextPosition(e)?0===e.offset():sw(e.getNode()),m2=e=>{if(!sI.isTextPosition(e))return sw(e.getNode(!0));{let t=e.container();return e.offset()===t.data.length}},m4=(e,t)=>!sI.isTextPosition(e)&&!sI.isTextPosition(t)&&e.getNode()===t.getNode(!0),m3=e=>!sI.isTextPosition(e)&&nP(e.getNode()),m5=(e,t,r)=>e?!m4(t,r)&&!m3(t)&&m2(t)&&m0(r):!m4(r,t)&&m0(t)&&m2(r),m7=(e,t,r)=>{let o=mJ(t);return el.from(e?o.next(r):o.prev(r))},m6=(e,t,r)=>m7(e,t,r).bind(o=>mM(r,o,t)&&m5(e,r,o)?m7(e,t,o):el.some(o)),m8=(e,t,r,o)=>m6(e,t,r).bind(r=>o(r)?m8(e,t,r,o):el.some(r)),m9=(e,t)=>{let r=e?t.firstChild:t.lastChild;return nD(r)?el.some(sI(r,e?0:r.data.length)):r?sw(r)?el.some(e?sI.before(r):m1(r)):mQ(e,t,r):el.none()},ue=Q(m7,!0),ut=Q(m7,!1),ur=Q(m9,!0),uo=Q(m9,!1),un="_mce_caret",ua=e=>ny(e)&&e.id===un,ul=(e,t)=>{let r=t;for(;r&&r!==e;){if(ua(r))return r;r=r.parentNode}return null},ui=e=>B(e.start),us=e=>eY(e,"rng"),ud=e=>eY(e,"id"),uc=e=>eY(e,"name"),um=e=>t4.isArray(e.start),uu=e=>!(!uc(e)&&I(e.forward))||e.forward,uh=(e,t)=>(ny(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),uf=(e,t)=>t6(el.from(s2(e.getRoot(),t.start)),el.from(s2(e.getRoot(),t.end)),(r,o)=>{let n=e.createRng();return n.setStart(r.container(),r.offset()),n.setEnd(o.container(),o.offset()),{range:n,forward:uu(t)}}),ug=(e,t)=>{var r;let o=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createTextNode("\uFEFF");e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)},up=e=>!e.hasChildNodes(),uv=(e,t)=>uo(e).fold(en,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)),ub=(e,t,r)=>!!(up(t)&&ul(e,t))&&(ug(t,r),!0),uw=(e,t,r,o)=>{let n=r[t?"start":"end"],a=e.getRoot();if(n){let e=a,r=n[0];for(let t=n.length-1;e&&t>=1;t--){let r=e.childNodes;if(ub(a,e,o))return!0;if(n[t]>r.length-1){if(ub(a,e,o))return!0;return uv(e,o)}e=r[n[t]]}nD(e)&&(r=Math.min(n[0],e.data.length)),ny(e)&&(r=Math.min(n[0],e.childNodes.length)),t?o.setStart(e,r):o.setEnd(e,r)}return!0},uy=e=>nD(e)&&e.data.length>0,uC=(e,t,r)=>{let o=e.get(r.id+"_"+t),n=null==o?void 0:o.parentNode,a=r.keep;if(!o||!n)return el.none();{let l,i;if("start"===t?a?o.hasChildNodes()?(l=o.firstChild,i=1):uy(o.nextSibling)?(l=o.nextSibling,i=0):uy(o.previousSibling)?(l=o.previousSibling,i=o.previousSibling.data.length):(l=n,i=e.nodeIndex(o)+1):(l=n,i=e.nodeIndex(o)):a?o.hasChildNodes()?(l=o.firstChild,i=1):uy(o.previousSibling)?(l=o.previousSibling,i=o.previousSibling.data.length):(l=n,i=e.nodeIndex(o)):(l=n,i=e.nodeIndex(o)),!a){let n;let a=o.previousSibling,s=o.nextSibling;for(t4.each(t4.grep(o.childNodes),e=>{nD(e)&&(e.data=e.data.replace(/\uFEFF/g,""))});n=e.get(r.id+"_"+t);)e.remove(n,!0);if(nD(s)&&nD(a)&&!tQ.browser.isOpera()){let t=a.data.length;a.appendData(s.data),e.remove(s),l=a,i=t}}return el.some(sI(l,i))}},ux=(e,t)=>{let r=e.createRng();return uw(e,!0,t,r)&&uw(e,!1,t,r)?el.some({range:r,forward:uu(t)}):el.none()},uE=(e,t)=>{let r=uC(e,"start",t);return t6(r,uC(e,"end",t).or(r),(r,o)=>{let n=e.createRng();return n.setStart(uh(e,r.container()),r.offset()),n.setEnd(uh(e,o.container()),o.offset()),{range:n,forward:uu(t)}})},uS=(e,t)=>el.from(e.select(t.name)[t.index]).map(t=>{let r=e.createRng();return r.selectNode(t),{range:r,forward:!0}}),uk=(e,t)=>{let r=e.dom;if(t){if(um(t))return ux(r,t);if(ui(t))return uf(r,t);if(ud(t))return uE(r,t);if(uc(t))return uS(r,t);else if(us(t))return el.some({range:t.rng,forward:uu(t)})}return el.none()},u_=(e,t,r)=>di(e,t,r),uT=(e,t)=>{uk(e,t).each(({range:t,forward:r})=>{e.setRng(t,r)})},uA=e=>ny(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),uN=e=>""===e,uR=e=>""!==e&&-1!==" \f\n\r	\v".indexOf(e),uD=e=>!uR(e)&&!uN(e)&&!nc(e),uM=e=>{let t=[];if(e)for(let r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));return t},uO=e=>ek(e,e=>{let t=su(e);return t?[rF.fromDom(t)]:[]}),uL=e=>uM(e).length>1,uB=e=>eb(uO(e),i$),uH=e=>na(e,"td[data-mce-selected],th[data-mce-selected]"),uP=(e,t)=>{let r=uH(t);return r.length>0?r:uB(e)},uz=e=>uP(uM(e.selection.getSel()),rF.fromDom(e.getBody())),uZ=(e,t)=>ob(e,"table",t),uI=e=>{let t=e.startContainer,r=e.startOffset;return nD(t)?0===r?el.some(rF.fromDom(t)):el.none():el.from(t.childNodes[r]).map(rF.fromDom)},uF=e=>{let t=e.endContainer,r=e.endOffset;return nD(t)?r===t.data.length?el.some(rF.fromDom(t)):el.none():el.from(t.childNodes[r-1]).map(rF.fromDom)},uV=e=>r9(e).fold(G([e]),t=>[e].concat(uV(t))),u$=e=>oe(e).fold(G([e]),t=>"br"===rs(t)?r4(t).map(t=>[e].concat(u$(t))).getOr([]):[e].concat(u$(t))),uj=(e,t)=>t6(uI(t),uF(t),(t,r)=>{let o=ex(uV(e),Q(rW,t)),n=ex(u$(e),Q(rW,r));return o.isSome()&&n.isSome()}).getOr(!1),uU=(e,t,r,o)=>{let n=new nd(r,r),a=eU(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!eu(["td","th","table"],t.toLowerCase())),l=r;do{if(nD(l)&&0!==t4.trim(l.data).length){o?t.setStart(l,0):t.setEnd(l,l.data.length);return}if(a[l.nodeName]){o?t.setStartBefore(l):"BR"===l.nodeName?t.setEndBefore(l):t.setEndAfter(l);return}}while(l=o?n.next():n.prev())"BODY"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},uq=e=>{let t=e.selection.getSel();return $(t)&&t.rangeCount>0},uW=(e,t)=>{let r=uz(e);r.length>0?eg(r,r=>{let o=r.dom,n=e.dom.createRng();n.setStartBefore(o),n.setEndAfter(o),t(n,!0)}):t(e.selection.getRng(),!1)},uK=(e,t,r)=>{let o=dl(e,t);r(o),e.moveToBookmark(o)},uY=e=>U(null==e?void 0:e.nodeType),uG=e=>ny(e)&&!uA(e)&&!ua(e)&&!n_(e),uX=(e,t)=>{if(!uG(t)||/^(TD|TH)$/.test(t.nodeName))return!1;{let r=parseInt(e.getAttrib(t,"data-mce-selected"),10);return!isNaN(r)&&r>0}},uJ=(e,t,r)=>{let{selection:o,dom:n}=e,a=o.getNode(),l=nI(a);uK(o,!0,()=>{t()}),l&&nI(a)&&n.isChildOf(a,e.getBody())?e.selection.select(a):r(o.getStart())&&uQ(n,o)},uQ=(e,t)=>{var r,o;let n=t.getRng(),{startContainer:a,startOffset:l}=n;if(!uX(e,t.getNode())&&ny(a)){let i;let s=a.childNodes,d=e.getRoot();if(l<s.length){let t=s[l];i=new nd(t,null!==(r=e.getParent(t,e.isBlock))&&void 0!==r?r:d)}else{let t=s[s.length-1];(i=new nd(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:d)).next(!0)}for(let r=i.current();r;r=i.next()){if("false"===e.getContentEditable(r))return;if(nD(r)&&!u4(r)){n.setStart(r,0),t.setRng(n);return}}}},u1=(e,t,r)=>{if(e){let o=t?"nextSibling":"previousSibling";for(e=r?e:e[o];e;e=e[o])if(ny(e)||!u4(e))return e}},u0=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ay(e,t),u2=(e,t,r)=>e.schema.isValidChild(t,r),u4=(e,t=!1)=>!!($(e)&&nD(e))&&nu(t?e.data.replace(/ /g,""):e.data),u3=e=>$(e)&&nD(e)&&0===e.length,u5=(e,t)=>{let r="[data-mce-cef-wrappable]",o=cf(e),n=tw(o)?r:`${r},${o}`;return r$(rF.fromDom(t),n)},u7=(e,t)=>{let r=e.dom;return uG(t)&&"false"===r.getContentEditable(t)&&u5(e,t)&&0===r.select('[contenteditable="true"]',t).length},u6=(e,t)=>j(e)?e(t):($(t)&&(e=e.replace(/%(\w+)/g,(e,r)=>t[r]||e)),e),u8=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),u9=(e,t)=>{if(V(e))return null;{let r=String(e);return("color"===t||"backgroundColor"===t)&&(r=l_(r)),"fontWeight"===t&&700===e&&(r="bold"),"fontFamily"===t&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),r}},he=(e,t,r)=>u9(e.getStyle(t,r),r),ht=(e,t)=>{let r;return e.getParent(t,t=>!!ny(t)&&!!(r=e.getStyle(t,"text-decoration"))&&"none"!==r),r},hr=(e,t,r)=>e.getParents(t,r,e.getRoot()),ho=(e,t,r)=>{let o=e.formatter.get(t);return $(o)&&eh(o,r)},hn=(e,t)=>ho(e,t,e=>{let t=e=>j(e)||e.length>1&&"%"===e.charAt(0);return eh(["styles","attributes"],r=>eK(e,r).exists(e=>eh(z(e)?e:eW(e),t)))}),ha=(e,t,r)=>{let o=["inline","block","selector","attributes","styles","classes"],n=e=>eU(e,(e,t)=>eh(o,e=>e===t));return ho(e,t,t=>{let o=n(t);return ho(e,r,e=>eX(o,n(e)))})},hl=e=>eG(e,"block"),hi=e=>hl(e)&&!0===e.wrapper,hs=e=>hl(e)&&!0!==e.wrapper,hd=e=>eG(e,"selector"),hc=e=>eG(e,"inline"),hm=e=>hd(e)&&hc(e)&&t3(eK(e,"mixed"),!0),hu=e=>hd(e)&&!1!==e.expand&&!hc(e),hh=e=>{let t=[],r=e;for(;r;){if(nD(r)&&"\uFEFF"!==r.data||r.childNodes.length>1)return[];ny(r)&&t.push(r),r=r.firstChild}return t},hf=e=>hh(e).length>0,hg=e=>ua(e.dom)&&hf(e.dom),hp=e=>nP(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,hv=(e,t)=>{let r=t;for(;r;){if(ny(r)&&e.getContentEditable(r))return"false"===e.getContentEditable(r)?r:t;r=r.parentNode}return t},hb=(e,t,r,o)=>{let n=t.data;if(e){for(let e=r;e>0;e--)if(o(n.charAt(e-1)))return e}else for(let e=r;e<n.length;e++)if(o(n.charAt(e)))return e;return -1},hw=(e,t,r)=>hb(e,t,r,e=>uN(e)||uR(e)),hy=(e,t,r)=>hb(e,t,r,uD),hC=(e,t,r,o,n,a)=>{let l;let i=e.getParent(r,e.isBlock)||t,s=(t,r,o)=>{let a=iD(e),s=n?a.backwards:a.forwards;return el.from(s(t,r,(e,t)=>uA(e.parentNode)?-1:(l=e,o(n,e,t)),i))};return s(r,o,hw).bind(e=>a?s(e.container,e.offset+(n?-1:0),hy):el.some(e)).orThunk(()=>l?el.some({container:l,offset:n?0:l.length}):el.none())},hx=(e,t,r,o,n)=>{let a=o[n];nD(o)&&tw(o.data)&&a&&(o=a);let l=hr(e,o);for(let o=0;o<l.length;o++)for(let n=0;n<t.length;n++){let a=t[n];if((!$(a.collapsed)||a.collapsed===r.collapsed)&&hd(a)&&e.is(l[o],a.selector))return l[o]}return o},hE=(e,t,r,o)=>{var n;let a=r,l=e.getRoot(),i=t[0];if(hl(i)&&(a=i.wrapper?null:e.getParent(r,i.block,l)),!a){let t=null!==(n=e.getParent(r,"LI,TD,TH,SUMMARY"))&&void 0!==n?n:l;a=e.getParent(nD(r)?r.parentNode:r,t=>t!==l&&u0(e.schema,t),t)}if(a&&hl(i)&&i.wrapper&&(a=hr(e,a,"ul,ol").reverse()[0]||a),!a)for(a=r;a&&a[o]&&!e.isBlock(a[o])&&!u8(a=a[o],"br"););return a||r},hS=(e,t,r,o)=>{let n=r.parentNode;return!$(r[o])&&(!!(n===t||V(n)||e.isBlock(n))||hS(e,t,n,o))},hk=(e,t,r,o,n)=>{let a=r,l=n?"previousSibling":"nextSibling",i=e.getRoot();if(nD(r)&&!u4(r)&&(n?o>0:o<r.data.length))return r;for(;a;){if(!t[0].block_expand&&e.isBlock(a))return a;for(let t=a[l];t;t=t[l]){let r=nD(t)&&!hS(e,i,t,l);if(!uA(t)&&!hp(t)&&!u4(t,r))return a}if(a===i||a.parentNode===i){r=a;break}a=a.parentNode}return r},h_=e=>uA(e.parentNode)||uA(e),hT=(e,t,r,o=!1)=>{let{startContainer:n,startOffset:a,endContainer:l,endOffset:i}=t,s=r[0];return ny(n)&&n.hasChildNodes()&&nD(n=sh(n,a))&&(a=0),ny(l)&&l.hasChildNodes()&&nD(l=sh(l,t.collapsed?i:i-1))&&(i=l.data.length),n=hv(e,n),l=hv(e,l),h_(n)&&(n=uA(n)?n:n.parentNode,nD(n=t.collapsed?n.previousSibling||n:n.nextSibling||n)&&(a=t.collapsed?n.length:0)),h_(l)&&(l=uA(l)?l:l.parentNode,nD(l=t.collapsed?l.nextSibling||l:l.previousSibling||l)&&(i=t.collapsed?0:l.length)),t.collapsed&&(hC(e,e.getRoot(),n,a,!0,o).each(({container:e,offset:t})=>{n=e,a=t}),hC(e,e.getRoot(),l,i,!1,o).each(({container:e,offset:t})=>{l=e,i=t})),(hc(s)||s.block_expand)&&(hc(s)&&nD(n)&&0!==a||(n=hk(e,r,n,a,!0)),hc(s)&&nD(l)&&i!==l.data.length||(l=hk(e,r,l,i,!1))),hu(s)&&(n=hx(e,r,t,n,"previousSibling"),l=hx(e,r,t,l,"nextSibling")),(hl(s)||hd(s))&&(n=hE(e,r,n,"previousSibling"),l=hE(e,r,l,"nextSibling"),hl(s)&&(!e.isBlock(n)&&nD(n=hk(e,r,n,a,!0))&&(a=0),!e.isBlock(l)&&nD(l=hk(e,r,l,i,!1))&&(i=l.data.length))),ny(n)&&n.parentNode&&(a=e.nodeIndex(n),n=n.parentNode),ny(l)&&l.parentNode&&(i=e.nodeIndex(l)+1,l=l.parentNode),{startContainer:n,startOffset:a,endContainer:l,endOffset:i}},hA=(e,t,r)=>{var o;let n=t.startOffset,a=sh(t.startContainer,n),l=t.endOffset,i=sh(t.endContainer,l-1),s=e=>{let t=e[0];nD(t)&&t===a&&n>=t.data.length&&e.splice(0,1);let r=e[e.length-1];return 0===l&&e.length>0&&r===i&&nD(r)&&e.splice(e.length-1,1),e},d=(e,t,r)=>{let o=[];for(;e&&e!==r;e=e[t])o.push(e);return o},c=(t,r)=>e.getParent(t,e=>e.parentNode===r,r),m=(e,t,o)=>{let n=o?"nextSibling":"previousSibling";for(let a=e,l=a.parentNode;a&&a!==t;a=l){l=a.parentNode;let t=d(a===e?a:a[n],n);t.length&&(o||t.reverse(),r(s(t)))}};if(a===i)return r(s([a]));let u=null!==(o=e.findCommonAncestor(a,i))&&void 0!==o?o:e.getRoot();if(e.isChildOf(a,i))return m(a,u,!0);if(e.isChildOf(i,a))return m(i,u);let h=c(a,u)||a,f=c(i,u)||i;m(a,h,!0);let g=d(h===a?h:h.nextSibling,"nextSibling",f===i?f.nextSibling:f);g.length&&r(s(g)),m(i,f)},hN=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],hR=e=>rf(e)&&"\uFEFF"===iO(e),hD=(e,t,r,o)=>rQ(t).fold(()=>"skipping",n=>"br"===o||hR(t)?"valid":im(t)?"existing":ua(t.dom)?"caret":eh(hN,e=>r$(t,e))?"valid-block":u2(e,r,o)&&u2(e,rs(n),r)?"valid":"invalid-child"),hM=(e,t)=>{let r=hT(e.dom,t,[{inline:"span"}]);t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)},hO=(e,t,r,o,n,a)=>{let{uid:l=t,...i}=r;rB(e,ir()),rw(e,`${ia()}`,l),rw(e,`${io()}`,o);let{attributes:s={},classes:d=[]}=n(l,i);if(ry(e,s),iE(e,d),a){d.length>0&&rw(e,`${ii()}`,d.join(","));let t=eP(s);t.length>0&&rw(e,`${is()}`,t.join(","))}},hL=e=>{rP(e,ir()),rS(e,`${ia()}`),rS(e,`${io()}`),rS(e,`${il()}`);let t=rx(e,`${is()}`).map(e=>e.split(",")).getOr([]),r=rx(e,`${ii()}`).map(e=>e.split(",")).getOr([]);eg(t,t=>rS(e,t)),iS(e,r),rS(e,`${ii()}`),rS(e,`${is()}`)},hB=(e,t,r,o,n)=>{let a=rF.fromTag("span",e);return hO(a,t,r,o,n,!1),a},hH=(e,t,r,o,n,a)=>{let l=[],i=hB(e.getDoc(),r,a,o,n),s=n8(),d=()=>{s.clear()},c=()=>s.get().getOrThunk(()=>{let e=i_(i);return l.push(e),s.set(e),e}),m=e=>{eg(e,u)},u=t=>{switch(hD(e,t,"span",rs(t))){case"invalid-child":d(),m(r6(t)),d();break;case"valid-block":d(),hO(t,r,a,o,n,!0);break;case"valid":oZ(t,c())}},h=e=>{m(ef(e,rF.fromDom))};return hA(e.dom,t,e=>{d(),h(e)}),l},hP=(e,t,r,o)=>{e.undoManager.transact(()=>{let n=e.selection,a=n.getRng(),l=uz(e).length>0,i=ix("mce-annotation");if(a.collapsed&&!l&&hM(e,a),n.getRng().collapsed&&!l){let a=hB(e.getDoc(),i,o,t,r.decorate);oK(a,""),n.getRng().insertNode(a.dom),n.select(a.dom)}else uK(n,!1,()=>{uW(e,n=>{hH(e,n,i,t,r.decorate,o)})})})},hz=e=>{let t=ib();iv(e,t);let r=ip(e,t),o=rv("span"),n=e=>{eg(e,e=>{o(e)?oj(e):hL(e)})};return{register:(e,r)=>{t.register(e,r)},annotate:(r,o)=>{t.lookup(r).each(t=>{hP(e,r,t,o)})},annotationChanged:(e,t)=>{r.addListener(e,t)},remove:t=>{ic(e,el.some(t)).each(({elements:t})=>{let r=e.selection.getBookmark();n(t),e.selection.moveToBookmark(r)})},removeAll:t=>{let r=e.selection.getBookmark();eZ(ig(e,t),(e,t)=>{n(e)}),e.selection.moveToBookmark(r)},getAll:t=>eI(ig(e,t),e=>ef(e,e=>e.dom))}},hZ=e=>({getBookmark:Q(u_,e),moveToBookmark:Q(uT,e)});hZ.isBookmarkNode=uA;let hI=(e,t,r)=>!r.collapsed&&eh(r.getClientRects(),r=>ss(r,e,t)),hF=(e,t)=>e.dispatch("PreProcess",t),hV=(e,t)=>e.dispatch("PostProcess",t),h$=e=>{e.dispatch("remove")},hj=e=>{e.dispatch("detach")},hU=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},hq=(e,t,r,o,n)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:o,origin:n})},hW=(e,t,r,o,n)=>{e.dispatch("ObjectResized",{target:t,width:r,height:o,origin:n})},hK=e=>{e.dispatch("PreInit")},hY=e=>{e.dispatch("PostRender")},hG=e=>{e.dispatch("Init")},hX=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},hJ=(e,t,r)=>{e.dispatch(t,r)},hQ=(e,t,r,o)=>{e.dispatch("FormatApply",{format:t,node:r,vars:o})},h1=(e,t,r,o)=>{e.dispatch("FormatRemove",{format:t,node:r,vars:o})},h0=(e,t)=>e.dispatch("BeforeSetContent",t),h2=(e,t)=>e.dispatch("SetContent",t),h4=(e,t)=>e.dispatch("BeforeGetContent",t),h3=(e,t)=>e.dispatch("GetContent",t),h5=(e,t)=>{e.dispatch("AutocompleterStart",t)},h7=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},h6=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},h8=e=>{e.dispatch("AutocompleterEnd")},h9=(e,t,r)=>e.dispatch("PastePreProcess",{content:t,internal:r}),fe=(e,t,r)=>e.dispatch("PastePostProcess",{node:t,internal:r}),ft=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),fr=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),fo={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||fo.metaKeyPressed(e),metaKeyPressed:e=>tQ.os.isMacOS()||tQ.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},fn="data-mce-selected",fa=Math.abs,fl=Math.round,fi={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},fs=e=>"longpress"===e.type||0===e.type.indexOf("touch"),fd=(e,t)=>{let r,o,n,a,l,i,s,d,c,m,u,h,f,g,p,v,b;let w=t.dom,y=t.getDoc(),C=document,x=t.getBody(),E=e=>$(e)&&(nz(e)||w.is(e,"figure.image")),S=e=>n$(e)||w.hasClass(e,"mce-preview-object"),k=(e,t)=>{if(!fs(e))return E(e.target)&&!hI(e.clientX,e.clientY,t);{let r=e.touches[0];return E(e.target)&&!hI(r.clientX,r.clientY,t)}},_=e=>{let r=e.target;k(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(r)},T=e=>w.hasClass(e,"mce-preview-object")&&$(e.firstElementChild)?[e,e.firstElementChild]:w.is(e,"figure.image")?[e.querySelector("img")]:[e],A=e=>{let r=ct(t);return!(!r||t.mode.isReadOnly())&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(w.hasClass(e,"mce-preview-object")&&$(e.firstElementChild)?r$(rF.fromDom(e.firstElementChild),r):r$(rF.fromDom(e),r))},N=(e,t)=>{if(S(t))return e.create("img",{src:tQ.transparentSrc});if(!nA(t))return t.cloneNode(!0);{let r=tu(a.name,"n"),o=t.cloneNode(!0);return(r?eM:eO)(e.select("tr",o)).each(t=>{let r=e.select("td,th",t);e.setStyle(t,"height",null),eg(r,t=>e.setStyle(t,"height",null))}),o}},R=(e,r,o)=>{$(o)&&eg(T(e),e=>{e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r)?w.setStyle(e,r,o):w.setAttrib(e,r,""+o)})},D=(e,t,r)=>{R(e,"width",t),R(e,"height",r)},M=e=>{let l,y,C,k;l=e.screenX-i,y=e.screenY-s,g=l*a[2]+m,p=y*a[3]+u,g=g<5?5:g,p=p<5?5:p,((E(r)||S(r))&&!1!==cr(t)?!fo.modifierPressed(e):fo.modifierPressed(e))&&(fa(l)>fa(y)?(p=fl(g*h),g=fl(p/h)):(g=fl(p/h),p=fl(g*h))),D(o,g,p),C=a.startPos.x+l,k=a.startPos.y+y,C=C>0?C:0,k=k>0?k:0,w.setStyles(n,{left:C,top:k,display:"block"}),n.innerHTML=g+" &times; "+p,a[2]<0&&o.clientWidth<=g&&w.setStyle(o,"left",d+(m-g)),a[3]<0&&o.clientHeight<=p&&w.setStyle(o,"top",c+(u-p)),(l=x.scrollWidth-v)+(y=x.scrollHeight-b)!=0&&w.setStyles(n,{left:C-l,top:k-y}),f||(hq(t,r,m,u,"corner-"+a.name),f=!0)},O=()=>{let e=f;f=!1,e&&(R(r,"width",g),R(r,"height",p)),w.unbind(y,"mousemove",M),w.unbind(y,"mouseup",O),C!==y&&(w.unbind(C,"mousemove",M),w.unbind(C,"mouseup",O)),w.remove(o),w.remove(n),w.remove(l),L(r),e&&(hW(t,r,g,p,"corner-"+a.name),w.setAttrib(r,"style",w.getAttrib(r,"style"))),t.nodeChanged()},L=e=>{Z();let d=w.getPos(e,x),c=d.x,f=d.y,E=e.getBoundingClientRect(),S=E.width||E.right-E.left,k=E.height||E.bottom-E.top;r!==e&&(H(),r=e,g=p=0);let _=t.dispatch("ObjectSelected",{target:e});A(e)&&!_.isDefaultPrevented()?eZ(fi,(e,t)=>{let d=d=>{let g=T(r)[0];i=d.screenX,s=d.screenY,m=g.clientWidth,h=(u=g.clientHeight)/m,(a=e).name=t,a.startPos={x:S*e[0]+c,y:k*e[1]+f},v=x.scrollWidth,b=x.scrollHeight,l=w.add(x,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),w.setStyles(l,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=N(w,r),w.addClass(o,"mce-clonedresizable"),w.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",w.setStyles(o,{left:c,top:f,margin:0}),D(o,S,k),o.removeAttribute(fn),x.appendChild(o),w.bind(y,"mousemove",M),w.bind(y,"mouseup",O),C!==y&&(w.bind(C,"mousemove",M),w.bind(C,"mouseup",O)),n=w.add(x,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+u)},g=w.get("mceResizeHandle"+t);g&&w.remove(g),g=w.add(x,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),w.bind(g,"mousedown",e=>{e.stopImmediatePropagation(),e.preventDefault(),d(e)}),e.elm=g,w.setStyles(g,{left:S*e[0]+c-g.offsetWidth/2,top:k*e[1]+f-g.offsetHeight/2})}):H(!1)},B=l9(L,0),H=(e=!0)=>{B.cancel(),Z(),r&&e&&r.removeAttribute(fn),eZ(fi,(e,t)=>{let r=w.get("mceResizeHandle"+t);r&&(w.unbind(r),w.remove(r))})},P=(e,t)=>w.isChildOf(e,t),z=r=>{if(f||t.removed||t.composing)return;let o="mousedown"===r.type?r.target:e.getNode(),n=oy(rF.fromDom(o),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(e=>e.dom).filter(e=>w.isEditable(e.parentElement)||"IMG"===e.nodeName&&w.isEditable(e)).getOrUndefined(),a=$(n)?w.getAttrib(n,fn,"1"):"1";if(eg(w.select(`img[${fn}],hr[${fn}]`),e=>{e.removeAttribute(fn)}),$(n)&&P(n,x)&&t.hasFocus()&&(I(),P(e.getStart(!0),n)&&P(e.getEnd(!0),n))){w.setAttrib(n,fn,a),B.throttle(n);return}H()},Z=()=>{eZ(fi,e=>{e.elm&&(w.unbind(e.elm),delete e.elm)})},I=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",()=>{I(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",z),t.on("keyup compositionend",e=>{r&&"TABLE"===r.nodeName&&z(e)}),t.on("hide blur",H),t.on("contextmenu longpress",_,!0)}),t.on("remove",Z),{isResizable:A,showResizeRect:L,hideResizeRect:H,updateResizeRect:z,destroy:()=>{B.cancel(),r=o=l=null}}},fc=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,r)=>{e.setStart(t.dom,r)},t=>{e.setStartAfter(t.dom)})},fm=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,r)=>{e.setEnd(t.dom,r)},t=>{e.setEndAfter(t.dom)})},fu=(e,t,r)=>{let o=e.document.createRange();return fc(o,t),fm(o,r),o},fh=(e,t,r,o,n)=>{let a=e.document.createRange();return a.setStart(t.dom,r),a.setEnd(o.dom,n),a},ff=dc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fg=(e,t,r)=>t(rF.fromDom(r.startContainer),r.startOffset,rF.fromDom(r.endContainer),r.endOffset),fp=(e,t)=>t.match({domRange:e=>({ltr:G(e),rtl:el.none}),relative:(t,r)=>({ltr:e6(()=>fu(e,t,r)),rtl:e6(()=>el.some(fu(e,r,t)))}),exact:(t,r,o,n)=>({ltr:e6(()=>fh(e,t,r,o,n)),rtl:e6(()=>el.some(fh(e,o,n,t,r)))})}),fv=(e,t)=>{let r=t.ltr();return r.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>ff.rtl(rF.fromDom(e.endContainer),e.endOffset,rF.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>fg(e,ff.ltr,r)):fg(e,ff.ltr,r)},fb=(e,t)=>{let r=fp(e,t);return fv(e,r)};ff.ltr,ff.rtl;let fw=(e,t,r,o)=>({start:e,soffset:t,finish:r,foffset:o}),fy=(e,t,r)=>{var o;return el.from(null===(o=e.caretPositionFromPoint)||void 0===o?void 0:o.call(e,t,r)).bind(t=>{if(null===t.offsetNode)return el.none();let r=e.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),el.some(r)})},fC=(e,t,r)=>{var o;return el.from(null===(o=e.caretRangeFromPoint)||void 0===o?void 0:o.call(e,t,r))},fx=(e,t,r)=>e.caretPositionFromPoint?fy(e,t,r):e.caretRangeFromPoint?fC(e,t,r):el.none(),fE=(e,t,r)=>fx(e.document,t,r).map(e=>fw(rF.fromDom(e.startContainer),e.startOffset,rF.fromDom(e.endContainer),e.endOffset)),fS=dc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fk={before:fS.before,on:fS.on,after:fS.after,getStart:e=>e.fold(X,X,X)},f_=dc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),fT=e=>e.match({domRange:e=>rF.fromDom(e.startContainer),relative:(e,t)=>fk.getStart(e),exact:(e,t,r,o)=>e}),fA=(f_.domRange,f_.relative),fN=f_.exact,fR=e=>rJ(fT(e)),fD=(e,t)=>{let r=rs(e);return"input"===r?fk.after(e):eu(["br","img"],r)?0===t?fk.before(e):fk.after(e):fk.on(e,t)},fM=(e,t)=>fA(e.fold(fk.before,fD,fk.after),t.fold(fk.before,fD,fk.after)),fO=(e,t,r,o)=>fA(fD(e,t),fD(r,o)),fL=e=>e.match({domRange:e=>{let t=rF.fromDom(e.startContainer),r=rF.fromDom(e.endContainer);return fO(t,e.startOffset,r,e.endOffset)},relative:fM,exact:fO}),fB=(e,t)=>{let r=(t||document).createDocumentFragment();return eg(e,e=>{r.appendChild(e.dom)}),rF.fromDom(r)},fH=e=>{let t=fR(e).dom,r=(e,r,o,n)=>fh(t,e,r,o,n);return fb(t,fL(e)).match({ltr:r,rtl:r})},fP=(e,t,r)=>fE(e,t,r),fz=(e,t,r)=>fP(rJ(rF.fromDom(r)).dom,e,t).map(e=>{let t=r.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined(),fZ=(e,t)=>$(e)&&$(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,fI=(e,t,r)=>{let o=e;for(;o&&o!==t;){if(r(o))return o;o=o.parentNode}return null},fF=(e,t,r)=>null!==fI(e,t,r),fV=(e,t,r)=>fF(e,t,e=>e.nodeName===r),f$=(e,t)=>i1(e)&&!fF(e,t,ua),fj=(e,t,r)=>{let o=t.parentNode;if(o){let n;let a=new nd(t,e.getParent(o,e.isBlock)||e.getRoot());for(;n=a[r?"prev":"next"]();)if(nP(n))return!0}return!1},fU=(e,t)=>{var r;return(null===(r=e.previousSibling)||void 0===r?void 0:r.nodeName)===t},fq=(e,t)=>{let r=t;for(;r&&r!==e;){if(nI(r))return!0;r=r.parentNode}return!1},fW=(e,t,r,o,n)=>{let a,l;let i=e.getRoot(),s=e.schema.getNonEmptyElements(),d=n.parentNode;if(!d)return el.none();let c=e.getParent(d,e.isBlock)||i;if(o&&nP(n)&&t&&e.isEmpty(c))return el.some(sI(d,e.nodeIndex(n)));let m=new nd(n,c);for(;l=m[o?"prev":"next"]();){if("false"===e.getContentEditableParent(l)||f$(l,i))return el.none();if(nD(l)&&l.data.length>0){if(!fV(l,i,"A"))return el.some(sI(l,o?l.data.length:0));return el.none()}if(e.isBlock(l)||s[l.nodeName.toLowerCase()])return el.none();a=l}return nL(a)?el.none():r&&a?el.some(sI(a,0)):el.none()},fK=(e,t,r,o)=>{let n;let a=e.getRoot(),l=!1,i=r?o.startContainer:o.endContainer,s=r?o.startOffset:o.endOffset,d=ny(i)&&s===i.childNodes.length,c=e.schema.getNonEmptyElements(),m=r;if(i1(i))return el.none();if(ny(i)&&s>i.childNodes.length-1&&(m=!1),nB(i)&&(i=a,s=0),i===a){if(m&&(n=i.childNodes[s>0?s-1:0])&&(i1(n)||c[n.nodeName]||nA(n)))return el.none();if(i.hasChildNodes()){if(s=Math.min(!m&&s>0?s-1:s,i.childNodes.length-1),s=nD(i=i.childNodes[s])&&d?i.data.length:0,!t&&i===a.lastChild&&nA(i)||fq(a,i)||i1(i)||nU(i))return el.none();if(i.hasChildNodes()&&!nA(i)){n=i;let t=new nd(i,a);do{if(nI(n)||i1(n)){l=!1;break}if(nD(n)&&n.data.length>0){s=m?0:n.data.length,i=n,l=!0;break}if(c[n.nodeName.toLowerCase()]&&!nV(n)){s=e.nodeIndex(n),i=n.parentNode,!m&&s++,l=!0;break}}while(n=m?t.next():t.prev())}}}return t&&(nD(i)&&0===s&&fW(e,d,t,!0,i).each(e=>{i=e.container(),s=e.offset(),l=!0}),ny(i)&&((n=i.childNodes[s])||(n=i.childNodes[s-1]),n&&nP(n)&&!fU(n,"A")&&!fj(e,n,!1)&&!fj(e,n,!0)&&fW(e,d,t,!0,n).each(e=>{i=e.container(),s=e.offset(),l=!0}))),m&&!t&&nD(i)&&s===i.data.length&&fW(e,d,t,!1,i).each(e=>{i=e.container(),s=e.offset(),l=!0}),l&&i?el.some(sI(i,s)):el.none()},fY=(e,t)=>{let r=t.collapsed,o=t.cloneRange(),n=sI.fromRangeStart(t);return fK(e,r,!0,o).each(e=>{r&&sI.isAbove(n,e)||o.setStart(e.container(),e.offset())}),r||fK(e,r,!1,o).each(e=>{o.setEnd(e.container(),e.offset())}),r&&o.collapse(!0),fZ(t,o)?el.none():el.some(o)},fG=(e,t)=>e.splitText(t),fX=e=>{let t=e.startContainer,r=e.startOffset,o=e.endContainer,n=e.endOffset;if(t===o&&nD(t)){if(r>0&&r<t.data.length){if(t=(o=fG(t,r)).previousSibling,n>r){let e=fG(o,n-=r).previousSibling;t=o=e,n=e.data.length,r=0}else n=0}}else if(nD(t)&&r>0&&r<t.data.length&&(t=fG(t,r),r=0),nD(o)&&n>0&&n<o.data.length){let e=fG(o,n).previousSibling;o=e,n=e.data.length}return{startContainer:t,startOffset:r,endContainer:o,endOffset:n}},fJ=e=>({walk:(t,r)=>hA(e,t,r),split:fX,expand:(t,r={type:"word"})=>{if("word"===r.type){let r=hT(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),o}return t},normalize:t=>fY(e,t).fold(en,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))});fJ.compareRanges=fZ,fJ.getCaretRangeFromPoint=fz,fJ.getSelectedNode=su,fJ.getNode=sh;let fQ=((e,t)=>{let r=r=>{let o=t(r);return o<=0||null===o?parseFloat(oN(r,e))||0:o},o=(e,t)=>ey(t,(t,r)=>{let o=oN(e,r),n=void 0===o?0:parseInt(o,10);return isNaN(n)?t:t+n},0);return{set:(t,r)=>{if(!U(r)&&!r.match(/^[0-9]+$/))throw Error(e+".set accepts only positive integer values. Value was "+r);let o=t.dom;oS(o)&&(o.style[e]=r+"px")},get:r,getOuter:r,aggregate:o,max:(e,t,r)=>{let n=o(e,r);return t>n?t-n:0}}})("height",e=>{let t=e.dom;return om(e)?t.getBoundingClientRect().height:t.offsetHeight}),f1=e=>fQ.get(e),f0=()=>rF.fromDom(document),f2=(e,t)=>e.view(t).fold(G([]),t=>{let r=e.owner(t);return[t].concat(f2(e,r))}),f4=(e,t)=>{let r=t.owner(e);return f2(t,r)};var f3=/*#__PURE__*/Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?el.none():el.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(rF.fromDom)},owner:e=>rG(e)});let f5=e=>{let t=o6(f0()),r=f4(e,f3),o=o7(e),n=ew(r,(e,t)=>{let r=o7(t);return{left:e.left+r.left,top:e.top+r.top}},{left:0,top:0});return o2(n.left+o.left+t.left,n.top+o.top+t.top)},f7=e=>"textarea"===rs(e),f6=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),f8=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},f9=(e,t)=>{let r=r6(e);if(0===r.length||f7(e))return{element:e,offset:t};{if(t<r.length&&!f7(r[t]))return{element:r[t],offset:0};let o=r[r.length-1];return f7(o)?{element:e,offset:t}:"img"===rs(o)?{element:o,offset:1}:rf(o)?{element:o,offset:iO(o).length}:{element:o,offset:r6(o).length}}},ge=(e,t)=>{let r=o5(e),o=f1(e);return{element:e,bottom:r.top+o,height:o,pos:r,cleanup:t}},gt=(e,t)=>{let r=f9(e,t),o=rF.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return oB(r.element,o),ge(o,()=>o$(o))},gr=e=>ge(rF.fromDom(e),W),go=(e,t,r,o)=>{gi(e,(n,a)=>ga(e,t,r,o),r)},gn=(e,t,r,o,n)=>{let a={elm:o.element.dom,alignToTop:n};if(f6(e,a))return;let l=o6(t).top;r(e,t,l,o,n),f8(e,a)},ga=(e,t,r,o)=>{let n=rF.fromDom(e.getBody()),a=rF.fromDom(e.getDoc());oL(n);let l=gt(rF.fromDom(r.startContainer),r.startOffset);gn(e,a,t,l,o),l.cleanup()},gl=(e,t,r,o)=>{let n=rF.fromDom(e.getDoc());gn(e,n,r,gr(t),o)},gi=(e,t,r)=>{let o=r.startContainer,n=r.startOffset,a=r.endContainer,l=r.endOffset;t(rF.fromDom(o),rF.fromDom(a));let i=e.dom.createRng();i.setStart(o,n),i.setEnd(a,l),e.selection.setRng(r)},gs=(e,t,r,o,n)=>{let a=t.pos;if(o)o8(a.left,a.top,n);else{let o=a.top-r+t.height;o8(-e.getBody().getBoundingClientRect().left,o,n)}},gd=(e,t,r,o,n,a)=>{let l=o+r,i=n.pos.top,s=n.bottom,d=s-i>=o;i<r?gs(e,n,o,!1!==a,t):i>l?gs(e,n,o,d?!1!==a:!0===a,t):s>l&&!d&&gs(e,n,o,!0===a,t)},gc=(e,t,r,o,n)=>{let a=rJ(t).dom.innerHeight;gd(e,t,r,a,o,n)},gm=(e,t,r,o,n)=>{let a=rJ(t).dom.innerHeight;gd(e,t,r,a,o,n);let l=f5(o.element),i=nr(window);l.top<i.y?o9(o.element,!1!==n):l.top>i.bottom&&o9(o.element,!0===n)},gu=(e,t,r)=>go(e,gc,t,r),gh=(e,t,r)=>gl(e,t,gc,r),gf=(e,t,r)=>go(e,gm,t,r),gg=(e,t,r)=>gl(e,t,gm,r),gp=(e,t,r)=>{(e.inline?gh:gg)(e,t,r)},gv=(e,t,r)=>{(e.inline?gu:gf)(e,t,r)},gb=(e,t=!1)=>e.dom.focus({preventScroll:t}),gw=e=>{let t=on(e).dom;return e.dom===t.activeElement},gy=(e=f0())=>el.from(e.dom.activeElement).map(rF.fromDom),gC=e=>gy(on(e)).filter(t=>e.dom.contains(t.dom)),gx=(e,t)=>{let r=rf(t)?iO(t).length:r6(t).length+1;return e>r?r:e<0?0:e},gE=e=>fw(e.start,gx(e.soffset,e.start),e.finish,gx(e.foffset,e.finish)),gS=(e,t)=>!nw(t.dom)&&(rK(e,t)||rW(e,t)),gk=e=>t=>gS(e,t.start)&&gS(e,t.finish),g_=e=>e.inline||tQ.browser.isFirefox(),gT=e=>fw(rF.fromDom(e.startContainer),e.startOffset,rF.fromDom(e.endContainer),e.endOffset),gA=e=>{let t=e.getSelection();return(t&&0!==t.rangeCount?el.from(t.getRangeAt(0)):el.none()).map(gT)},gN=e=>gA(rJ(e).dom).filter(gk(e)),gR=(e,t)=>el.from(t).filter(gk(e)).map(gE),gD=e=>{let t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),el.some(t)}catch(e){return el.none()}},gM=e=>{let t=g_(e)?gN(rF.fromDom(e.getBody())):el.none();e.bookmark=t.isSome()?t:e.bookmark},gO=e=>(e.bookmark?e.bookmark:el.none()).bind(t=>gR(rF.fromDom(e.getBody()),t)).bind(gD),gL=e=>{gO(e).each(t=>e.selection.setRng(t))},gB={isEditorUIElement:e=>{let t=e.className.toString();return -1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},gH=(e,t)=>(U(t)||(t=0),setTimeout(e,t)),gP=(e,t)=>(U(t)||(t=0),setInterval(e,t)),gz={setEditorTimeout:(e,t,r)=>gH(()=>{e.removed||t()},r),setEditorInterval:(e,t,r)=>{let o=gP(()=>{e.removed?clearInterval(o):t()},r);return o}},gZ=e=>"nodechange"===e.type&&e.selectionChange,gI=(e,t)=>{let r=()=>{t.throttle()};lJ.DOM.bind(document,"mouseup",r),e.on("remove",()=>{lJ.DOM.unbind(document,"mouseup",r)})},gF=(e,t)=>{e.on("mouseup touchend",e=>{t.throttle()})},gV=(e,t)=>{gF(e,t),e.on("keyup NodeChange AfterSetSelectionRange",t=>{gZ(t)||gM(e)})},g$=e=>{let t=l9(()=>{gM(e)},0);e.on("init",()=>{e.inline&&gI(e,t),gV(e,t)}),e.on("remove",()=>{t.cancel()})},gj=lJ.DOM,gU=e=>ny(e)&&gB.isEditorUIElement(e),gq=e=>{let t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},gW=(e,t)=>{let r=cg(e);return null!==gj.getParent(t,t=>gU(t)||!!r&&e.dom.is(t,r))},gK=e=>{try{let t=on(rF.fromDom(e.getElement()));return gy(t).fold(()=>document.body,e=>e.dom)}catch(e){return document.body}},gY=(t,r)=>{let o=r.editor;g$(o);let n=(e,t)=>{c4(e)&&!0!==e.inline&&t(rF.fromDom(e.getContainer()),"tox-edit-focus")};o.on("focusin",()=>{let e=t.focusedEditor;gq(gK(o))&&n(o,rB),e!==o&&(e&&e.dispatch("blur",{focusedEditor:o}),t.setActive(o),t.focusedEditor=o,o.dispatch("focus",{blurredEditor:e}),o.focus(!0))}),o.on("focusout",()=>{gz.setEditorTimeout(o,()=>{let e=t.focusedEditor;gq(gK(o))&&e===o||n(o,rP),gW(o,gK(o))||e!==o||(o.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),e||(e=e=>{let r=t.activeEditor;r&&od(e).each(e=>{e.ownerDocument!==document||e===document.body||gW(r,e)||t.focusedEditor!==r||(r.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})},gj.bind(document,"focusin",e))},gG=(t,r)=>{t.focusedEditor===r.editor&&(t.focusedEditor=null),!t.activeEditor&&e&&(gj.unbind(document,"focusin",e),e=null)},gX=e=>{e.on("AddEditor",Q(gY,e)),e.on("RemoveEditor",Q(gG,e))},gJ=(e,t)=>e.dom.getParent(t,t=>"true"===e.dom.getContentEditable(t)),gQ=(e,t)=>null!==e.dom.getParent(t,t=>"false"===e.dom.getContentEditable(t)),g1=e=>e.collapsed?el.from(sh(e.startContainer,e.startOffset)).map(rF.fromDom):el.none(),g0=(e,t)=>g1(t).bind(t=>iV(t)?el.some(t):rK(e,t)?el.none():el.some(e)),g2=(e,t)=>{g0(rF.fromDom(e.getBody()),t).bind(e=>ur(e.dom)).fold(()=>{e.selection.normalize()},t=>e.selection.setRng(t.toRange()))},g4=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},g3=e=>gw(e)||gC(e).isSome(),g5=e=>$(e.iframeElement)&&gw(rF.fromDom(e.iframeElement)),g7=e=>{let t=e.getBody();return t&&g3(rF.fromDom(t))},g6=e=>gy(on(rF.fromDom(e.getElement()))).filter(t=>!gq(t.dom)&&gW(e,t.dom)).isSome(),g8=e=>e.inline?g7(e):g5(e),g9=e=>g8(e)||g6(e),pe=e=>{let t=e.selection,r=e.getBody(),o=t.getRng();e.quirks.refreshContentEditable();let n=e=>{gO(e).each(t=>{e.selection.setRng(t),o=t})};!g8(e)&&e.hasEditableRoot()&&n(e);let a=gJ(e,t.getNode());if(a&&e.dom.isChildOf(a,r)){gQ(e,a)||g4(r),g4(a),e.hasEditableRoot()||n(e),g2(e,o),pt(e);return}e.inline||(tQ.browser.isOpera()||g4(r),e.getWin().focus()),(tQ.browser.isFirefox()||e.inline)&&(g4(r),g2(e,o)),pt(e)},pt=e=>e.editorManager.setActive(e),pr=(e,t)=>{e.removed||(t?pt(e):pe(e))},po=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),pn=(e,t,r,o,n)=>{let a=r?t.startContainer:t.endContainer,l=r?t.startOffset:t.endOffset;return el.from(a).map(rF.fromDom).map(e=>o&&t.collapsed?e:r8(e,n(e,l)).getOr(e)).bind(e=>rh(e)?el.some(e):rQ(e).filter(rh)).map(e=>e.dom).getOr(e)},pa=(e,t,r=!1)=>pn(e,t,!0,r,(e,t)=>Math.min(ot(e),t)),pl=(e,t,r=!1)=>pn(e,t,!1,r,(e,t)=>t>0?t-1:t),pi=(e,t)=>{let r=e;for(;e&&nD(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||r},ps=(e,t)=>{if(!t)return e;let r=t.startContainer,o=t.endContainer,n=t.startOffset,a=t.endOffset,l=t.commonAncestorContainer;!t.collapsed&&(r===o&&a-n<2&&r.hasChildNodes()&&(l=r.childNodes[n]),nD(r)&&nD(o)&&(r=r.length===n?pi(r.nextSibling,!0):r.parentNode,o=0===a?pi(o.previousSibling,!1):o.parentNode,r&&r===o&&(l=r)));let i=nD(l)?l.parentNode:l;return nC(i)?i:e},pd=(e,t,r,o)=>{let n=[],a=e.getRoot(),l=e.getParent(r||pa(a,t,t.collapsed),e.isBlock),i=e.getParent(o||pl(a,t,t.collapsed),e.isBlock);if(l&&l!==a&&n.push(l),l&&i&&l!==i){let t;let r=new nd(l,a);for(;(t=r.next())&&t!==i;)e.isBlock(t)&&n.push(t)}return i&&l!==i&&i!==a&&n.push(i),n},pc=(e,t,r)=>el.from(t).bind(t=>el.from(t.parentNode).map(o=>{let n=e.nodeIndex(t),a=e.createRng();return a.setStart(o,n),a.setEnd(o,n+1),r&&(uU(e,a,t,!0),uU(e,a,t,!1)),a})),pm=(e,t)=>ef(t,t=>{let r=e.dispatch("GetSelectionRange",{range:t});return r.range!==t?r.range:t}),pu={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ph=(e,t,r)=>{let o=r?"lastChild":"firstChild",n=r?"prev":"next";if(e[o])return e[o];if(e!==t){let r=e[n];if(r)return r;for(let o=e.parent;o&&o!==t;o=o.parent)if(r=o[n])return r}},pf=e=>{var t;let r=null!==(t=e.value)&&void 0!==t?t:"";if(!nu(r))return!1;let o=e.parent;return!(o&&("span"!==o.name||o.attr("style"))&&/^[ ]+$/.test(r))},pg=e=>{let t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class pp{static create(e,t){let r=new pp(e,pu[e]||1);return t&&eZ(t,(e,t)=>{r.attr(t,e)}),r}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this}attr(e,t){let r=this;if(!B(e))return $(e)&&eZ(e,(e,t)=>{r.attr(t,e)}),r;let o=r.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;for(;t--;)if(o[t].name===e){o.splice(t,1);break}}return r}if(e in o.map){let r=o.length;for(;r--;)if(o[r].name===e){o[r].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,r}return o.map[e]}}clone(){let e=new pp(this.name,this.type),t=this.attributes;if(t){let r=[];r.map={};for(let e=0,o=t.length;e<o;e++){let o=t[e];"id"!==o.name&&(r[r.length]={name:o.name,value:o.value},r.map[o.name]=o.value)}e.attributes=r}return e.value=this.value,e}wrap(e){return this.parent&&(this.parent.insert(e,this),e.append(this)),this}unwrap(){for(let e=this.firstChild;e;){let t=e.next;this.insert(e,this,!0),e=t}this.remove()}remove(){let e=this.parent,t=this.next,r=this.prev;return e&&(e.firstChild===this?(e.firstChild=t,t&&(t.prev=null)):r&&(r.next=t),e.lastChild===this?(e.lastChild=r,r&&(r.next=null)):t&&(t.prev=r),this.parent=this.next=this.prev=null),this}append(e){e.parent&&e.remove();let t=this.lastChild;return t?(t.next=e,e.prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e}insert(e,t,r){e.parent&&e.remove();let o=t.parent||this;return r?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){let t=[];for(let r=this.firstChild;r;r=ph(r,this))r.name===e&&t.push(r);return t}children(){let e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){if(this.firstChild){let e=[];for(let t=this.firstChild;t;t=ph(t,this))e.push(t);let t=e.length;for(;t--;){let r=e[t];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return this.firstChild=this.lastChild=null,this}isEmpty(e,t={},r){var o;let n=this.firstChild;if(pg(this))return!1;if(n)do{if(1===n.type){if(n.attr("data-mce-bogus"))continue;if(e[n.name]||pg(n))return!1}if(8===n.type||3===n.type&&!pf(n)||3===n.type&&n.parent&&t[n.parent.name]&&nu(null!==(o=n.value)&&void 0!==o?o:"")||r&&r(n))return!1}while(n=ph(n,this))return!0}walk(e){return ph(this,null,e)}}let pv=t4.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),pb=e=>B(e.nodeValue)&&e.nodeValue.includes("\uFEFF"),pw=e=>`${0===e.length?"":`${ef(e,e=>`[${e}]`).join(",")},`}[data-mce-bogus="all"]`,py=(e,t)=>t.querySelectorAll(pw(e)),pC=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,e=>pb(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),px=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,e=>{if(!pb(e))return NodeFilter.FILTER_SKIP;{let t=e.parentNode;return t&&eY(pv,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),pE=e=>null!==pC(e).nextNode(),pS=e=>null!==px(e).nextNode(),pk=(e,t)=>null!==t.querySelector(pw(e)),p_=(e,t)=>{eg(py(e,t),t=>{let r=rF.fromDom(t);"all"===rC(r,"data-mce-bogus")?o$(r):eg(e,e=>{rE(r,e)&&rS(r,e)})})},pT=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},pA=K(pT,pC),pN=K(pT,px),pR=(e,t)=>{let r=[{condition:Q(pk,t),action:Q(p_,t)},{condition:pE,action:pA},{condition:pS,action:pN}],o=e,n=!1;return eg(r,({condition:t,action:r})=>{t(o)&&(n||(o=e.cloneNode(!0),n=!0),r(o))}),o},pD=e=>{eg(na(e,"[data-mce-bogus]"),e=>{"all"===rC(e,"data-mce-bogus")?o$(e):iz(e)?(oB(e,rF.fromText("\uFEFF")),o$(e)):oj(e)})},pM=e=>{eg(na(e,"input"),e=>{rS(e,"name")})},pO=(e,t)=>{let r=dz(e),o=RegExp(`^(<${r}[^>]*>(&nbsp;|&#160;|\\s|\u00a0|<br \\/>|)<\\/${r}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(o,"")},pL=(e,t)=>{let r=e.getDoc(),o=on(rF.fromDom(e.getBody())),n=rF.fromTag("div",r);rw(n,"data-mce-bogus","all"),oA(n,{position:"fixed",left:"-9999999px",top:"0"}),oK(n,t.innerHTML),pD(n),pM(n),oz(ol(o),n);let a=iG(n.dom.innerText);return o$(n),a},pB=(e,t,r)=>{let o;return o="raw"===t.format?t4.trim(iG(pR(r,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?pL(e,r):"tree"===t.format?e.serializer.serialize(r,t):pO(e,e.serializer.serialize(r,t)),"text"!==t.format&&!ij(rF.fromDom(r))&&B(o)?t4.trim(o):o},pH=(e,t)=>el.from(e.getBody()).fold(G("tree"===t.format?new pp("body",11):""),r=>pB(e,t,r)),pP=t4.makeMap,pz=e=>{let t=[],r=(e=e||{}).indent,o=pP(e.indent_before||""),n=pP(e.indent_after||""),a=aJ.getEncodeFunc(e.entity_encoding||"raw",e.entities),l="xhtml"!==e.element_format;return{start:(e,i,s)=>{if(r&&o[e]&&t.length>0){let e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),i)for(let e=0,r=i.length;e<r;e++){let r=i[e];t.push(" ",r.name,'="',a(r.value,!0),'"')}if(!s||l?t[t.length]=">":t[t.length]=" />",s&&r&&n[e]&&t.length>0){let e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let o;t.push("</",e,">"),r&&n[e]&&t.length>0&&(o=t[t.length-1]).length>0&&"\n"!==o&&t.push("\n")},text:(e,r)=>{e.length>0&&(t[t.length]=r?e:a(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",a(o),"?>"):t.push("<?",e,"?>"),r&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",r?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},pZ=(e={},t=lf())=>{let r=pz(e);return e.validate=!("validate"in e)||e.validate,{serialize:o=>{let n=e.validate,a={3:e=>{var t;r.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;r.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{r.pi(e.name,e.value)},10:e=>{var t;r.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;r.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do l(t);while(t=t.next)}};r.reset();let l=e=>{var o;let i=a[e.type];if(i)i(e);else{let a=e.name,i=a in t.getVoidElements(),s=e.attributes;if(n&&s&&s.length>1){let r=[];r.map={};let o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){let t=o.attributesOrder[e];if(t in s.map){let e=s.map[t];r.map[t]=e,r.push({name:t,value:e})}}for(let e=0,t=s.length;e<t;e++){let t=s[e].name;if(!(t in r.map)){let e=s.map[t];r.map[t]=e,r.push({name:t,value:e})}}s=r}}if(r.start(a,s,i),ae(a))B(e.value)&&r.text(e.value,!0),r.end(a);else if(!i){let t=e.firstChild;if(t){("pre"===a||"textarea"===a)&&3===t.type&&(null===(o=t.value)||void 0===o?void 0:o[0])==="\n"&&r.text("\n",!0);do l(t);while(t=t.next)}r.end(a)}}};return 1!==o.type||e.inner?3===o.type?a[3](o):a[11](o):l(o),r.getContent()}}},pI=new Set;eg(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{pI.add(e)});let pF=new Set;eg(["background-color"],e=>{pF.add(e)});let pV=["font","text-decoration","text-emphasis"],p$=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),pj=(e,t)=>eP(p$(e,t)),pU=e=>pI.has(e),pq=e=>pF.has(e),pW=(e,t)=>eh(pj(e,t),e=>pU(e)),pK=(e,t)=>pW(e,t)&&eh(pj(e,t),e=>pq(e)),pY=e=>eb(e,e=>eh(pV,t=>tu(e,t))),pG=(e,t,r)=>{let o=pj(e,t),n=pj(e,r),a=o=>{var n,a;let l=null!==(n=e.getStyle(t,o))&&void 0!==n?n:"",i=null!==(a=e.getStyle(r,o))&&void 0!==a?a:"";return tb(l)&&tb(i)&&l!==i};return eh(o,e=>{let t=t=>eh(t,t=>t===e);return!t(n)&&t(pV)?eh(pY(n),a):a(e)})},pX=(e,t,r)=>el.from(r.container()).filter(nD).exists(o=>t(o.data.charAt(r.offset()+(e?0:-1)))),pJ=Q(pX,!0,uR),pQ=Q(pX,!1,uR),p1=e=>{let t=e.container();return nD(t)&&(0===t.data.length||nc(t.data)&&hZ.isBookmarkNode(t.parentNode))},p0=(e,t)=>r=>mO(e?0:-1,r).filter(t).isSome(),p2=e=>nz(e)&&"block"===oN(rF.fromDom(e),"display"),p4=e=>nI(e)&&!nT(e),p3=p0(!0,p2),p5=p0(!1,p2),p7=p0(!0,n$),p6=p0(!1,n$),p8=p0(!0,nA),p9=p0(!1,nA),ve=p0(!0,p4),vt=p0(!1,p4),vr=e=>e.slice(0,-1),vo=(e,t,r)=>rK(t,e)?vr(r0(e,e=>r(e)||rW(e,t))):[],vn=(e,t)=>vo(e,t,en),va=(e,t)=>[e].concat(vn(e,t)),vl=(e,t,r)=>m8(e,t,r,p1),vi=e=>t=>e.isBlock(rs(t)),vs=(e,t,r)=>ex(va(rF.fromDom(t.container()),e),vi(r)),vd=(e,t,r,o)=>vl(e,t.dom,r).forall(e=>vs(t,r,o).fold(()=>!mM(e,r,t.dom),o=>!mM(e,r,t.dom)&&rK(o,rF.fromDom(e.container())))),vc=(e,t,r,o)=>vs(t,r,o).fold(()=>vl(e,t.dom,r).forall(e=>!mM(e,r,t.dom)),t=>vl(e,t.dom,r).isNone()),vm=Q(vc,!1),vu=Q(vc,!0),vh=Q(vd,!1),vf=Q(vd,!0),vg=e=>mV(e).exists(iz),vp=(e,t,r,o)=>m7(e,eM(eb(va(rF.fromDom(r.container()),t),e=>o.isBlock(rs(e)))).getOr(t).dom,r).filter(vg),vv=(e,t,r)=>mV(t).exists(iz)||vp(!0,e,t,r).isSome(),vb=(e,t,r)=>m$(t).exists(iz)||vp(!1,e,t,r).isSome(),vw=Q(vp,!1),vy=Q(vp,!0),vC=e=>sI.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),vx=(e,t,r)=>eM(eb(va(rF.fromDom(t.container()),e),e=>r.isBlock(rs(e)))).getOr(e),vE=(e,t,r)=>vC(t)?pQ(t):pQ(t)||ut(vx(e,t,r).dom,t).exists(pQ),vS=(e,t,r)=>vC(t)?pJ(t):pJ(t)||ue(vx(e,t,r).dom,t).exists(pJ),vk=e=>eu(["pre","pre-wrap"],e),v_=e=>mV(e).bind(e=>of(e,rh)).exists(e=>vk(oN(e,"white-space"))),vT=(e,t)=>ut(e.dom,t).isNone(),vA=(e,t)=>ue(e.dom,t).isNone(),vN=(e,t,r)=>vT(e,t)||vA(e,t)||vm(e,t,r)||vu(e,t,r)||vb(e,t,r)||vv(e,t,r),vR=e=>$(e)&&nI(e)&&mk(e),vD=(e,t)=>r=>vR(new nd(r,e)[t]()),vM=(e,t)=>{let r=ue(e.dom,t).getOr(t),o=vD(e.dom,"next");return t.isAtEnd()&&(o(t.container())||o(r.container()))},vO=(e,t)=>{let r=ut(e.dom,t).getOr(t),o=vD(e.dom,"prev");return t.isAtStart()&&(o(t.container())||o(r.container()))},vL=(e,t,r)=>!v_(t)&&(vN(e,t,r)||vE(e,t,r)||vS(e,t,r)),vB=(e,t,r)=>!v_(t)&&(vm(e,t,r)||vh(e,t,r)||vb(e,t,r)||vE(e,t,r)||vO(e,t)),vH=e=>{let t=e.container(),r=e.offset();return nD(t)&&r<t.data.length?sI(t,r+1):e},vP=(e,t,r)=>!v_(t)&&(vu(e,t,r)||vf(e,t,r)||vv(e,t,r)||vS(e,t,r)||vM(e,t)),vz=(e,t,r)=>vB(e,t,r)||vP(e,vH(t),r),vZ=(e,t)=>uN(e.charAt(t)),vI=(e,t)=>uR(e.charAt(t)),vF=e=>{let t=e.container();return nD(t)&&tm(t.data,"")},vV=e=>{let t=e.split("");return ef(t,(e,r)=>uN(e)&&r>0&&r<t.length-1&&uD(t[r-1])&&uD(t[r+1])?" ":e).join("")},v$=(e,t,r,o)=>{let n=t.data,a=sI(t,0);return!r&&vZ(n,0)&&!vz(e,a,o)?(t.data=" "+n.slice(1),!0):!!(r&&vI(n,0)&&vB(e,a,o))&&(t.data=""+n.slice(1),!0)},vj=e=>{let t=e.data,r=vV(t);return r!==t&&(e.data=r,!0)},vU=(e,t,r,o)=>{let n=t.data,a=sI(t,n.length-1);return!r&&vZ(n,n.length-1)&&!vz(e,a,o)?(t.data=n.slice(0,-1)+" ",!0):!!(r&&vI(n,n.length-1)&&vP(e,a,o))&&(t.data=n.slice(0,-1)+"",!0)},vq=(e,t,r)=>{let o=t.container();return nD(o)?vF(t)?t9(v$(e,o,!1,r)||vj(o)||vU(e,o,!1,r),t):vz(e,t,r)?t9(v$(e,o,!0,r)||vU(e,o,!0,r),t):el.none():el.none()},vW=e=>{let t=rF.fromDom(e.getBody());e.selection.isCollapsed()&&vq(t,sI.fromRangeStart(e.selection.getRng()),e.schema).each(t=>{e.selection.setRng(t.toRange())})},vK=(e,t,r,o)=>{if(0===r)return;let n=rF.fromDom(e),a=oh(n,e=>o.isBlock(rs(e))).getOr(n),l=e.data.slice(t,t+r),i=t+r>=e.data.length&&vP(a,sI(e,e.data.length),o),s=0===t&&vB(a,sI(e,0),o);e.replaceData(t,r,nv(l,4,s,i))},vY=(e,t,r)=>{let o=e.data.slice(t);vK(e,t,o.length-tp(o).length,r)},vG=(e,t,r)=>{let o=e.data.slice(0,t),n=o.length-tv(o).length;vK(e,t-n,n,r)},vX=(e,t,r,o,n=!0)=>{let a=tv(e.data).length,l=n?e:t,i=n?t:e;return n?l.appendData(i.data):l.insertData(0,i.data),o$(rF.fromDom(i)),o&&vY(l,a,r),l},vJ=(e,t)=>{let r=e.container(),o=e.offset();return!sI.isTextPosition(e)&&r===t.parentNode&&o>sI.before(t).offset()},vQ=(e,t)=>vJ(t,e)?sI(t.container(),t.offset()-1):t,v1=e=>nD(e)?sI(e,0):sI.before(e),v0=e=>nD(e)?sI(e,e.data.length):sI.after(e),v2=e=>sw(e.previousSibling)?el.some(v0(e.previousSibling)):e.previousSibling?uo(e.previousSibling):el.none(),v4=e=>sw(e.nextSibling)?el.some(v1(e.nextSibling)):e.nextSibling?ur(e.nextSibling):el.none(),v3=(e,t)=>el.from(t.previousSibling?t.previousSibling:t.parentNode).bind(t=>ut(e,sI.before(t))).orThunk(()=>ue(e,sI.after(t))),v5=(e,t)=>ue(e,sI.after(t)).orThunk(()=>ut(e,sI.before(t))),v7=(e,t)=>v2(t).orThunk(()=>v4(t)).orThunk(()=>v3(e,t)),v6=(e,t)=>v4(t).orThunk(()=>v2(t)).orThunk(()=>v5(e,t)),v8=(e,t,r)=>e?v6(t,r):v7(t,r),v9=(e,t,r)=>v8(e,t,r).map(Q(vQ,r)),be=(e,t,r)=>{r.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},bt=e=>t=>t.dom===e,br=(e,t)=>t&&eY(e.schema.getBlockElements(),rs(t)),bo=(e,t,r)=>{if(!n4(e,t))return el.none();{let e=rF.fromHtml('<br data-mce-bogus="1">');return r?eg(r6(t),e=>{hg(e)||o$(e)}):oV(t),oz(t,e),el.some(sI.before(e.dom))}},bn=(e,t,r,o)=>{let n=r4(e).filter(rf),a=r3(e).filter(rf);return o$(e),t8(n,a,t,(e,t,n)=>{let a=e.dom,l=t.dom,i=a.data.length;return vX(a,l,r,o),n.container()===l?sI(a,i):n}).orThunk(()=>(o&&(n.each(e=>vG(e.dom,e.dom.length,r)),a.each(e=>vY(e.dom,0,r))),t))},ba=(e,t)=>eY(e.schema.getTextInlineElements(),rs(t)),bl=(e,t,r,o=!0,n=!1)=>{let a=v9(t,e.getBody(),r.dom),l=oh(r,Q(br,e),bt(e.getBody())),i=bn(r,a,e.schema,ba(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):l.bind(t=>bo(e.schema,t,n)).fold(()=>{o&&be(e,t,i)},r=>{o&&be(e,t,el.some(r))})},bi=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,bs=e=>bi.test(e),bd=(e,t)=>r$(rF.fromDom(t),ce(e))&&!ay(e.schema,t)&&e.dom.isEditable(t),bc=e=>{var t;return"rtl"===lJ.DOM.getStyle(e,"direction",!0)||bs(null!==(t=e.textContent)&&void 0!==t?t:"")},bm=(e,t,r)=>eb(lJ.DOM.getParents(r.container(),"*",t),e),bu=(e,t,r)=>{let o=bm(e,t,r);return el.from(o[o.length-1])},bh=(e,t,r)=>{let o=mD(t,e),n=mD(r,e);return $(o)&&o===n},bf=e=>i4(e)||i3(e),bg=(e,t)=>{let r=t.container(),o=t.offset();return e?iQ(r)?nD(r.nextSibling)?sI(r.nextSibling,0):sI.after(r):i4(t)?sI(r,o+1):t:iQ(r)?nD(r.previousSibling)?sI(r.previousSibling,r.previousSibling.data.length):sI.before(r):i3(t)?sI(r,o-1):t},bp=Q(bg,!0),bv=Q(bg,!1),bb=(e,t)=>{let r=e=>e.stopImmediatePropagation();e.on("beforeinput input",r,!0),e.getDoc().execCommand(t),e.off("beforeinput input",r)},bw=e=>{e.execCommand("delete")},by=e=>bb(e,"Delete"),bC=e=>bb(e,"ForwardDelete"),bx=e=>t=>t3(rQ(t),e,rW),bE=e=>iZ(e)||iF(e),bS=(e,t)=>rK(e,t)?of(t,bE,bx(e)):el.none(),bk=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},b_=(e,t,r)=>t6(ur(r),uo(r),(o,n)=>{let a=bg(!0,o),l=bg(!1,n),i=bg(!1,t);return e?ue(r,i).exists(e=>e.isEqual(l)&&t.isEqual(a)):ut(r,i).exists(e=>e.isEqual(a)&&t.isEqual(l))}).getOr(!0),bT=e=>(rm(e)?r4(e):oe(e)).bind(bT).orThunk(()=>el.some(e)),bA=(e,t,r,o=!0)=>{var n;t.deleteContents();let a=bT(r).getOr(r),l=rF.fromDom(null!==(n=e.dom.getParent(a.dom,e.dom.isBlock))&&void 0!==n?n:r.dom);l.dom===e.getBody()?bk(e,o):n4(e.schema,l,{checkRootAsContent:!1})&&(iK(l),o&&e.selection.setCursorLocation(l.dom,0)),rW(r,l)||eg((t3(rQ(l),r)?[]:r2(l)).concat(r6(r)),t=>{!rW(t,l)&&!rK(t,l)&&n4(e.schema,t)&&o$(t)})},bN=e=>t=>rW(e,t),bR=e=>na(e,"td,th"),bD=(e,t)=>uZ(rF.fromDom(e),t),bM=e=>t6(e.startTable,e.endTable,(t,r)=>{let o=ns(t,e=>rW(e,r)),n=ns(r,e=>rW(e,t));return o||n?{...e,startTable:o?el.none():e.startTable,endTable:n?el.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e}).getOr(e),bO=e=>bM(e),bL=(e,t)=>{let r=bD(e.startContainer,t),o=bD(e.endContainer,t),n=r.isSome(),a=o.isSome(),l=t6(r,o,rW).getOr(!1),i=!l&&n&&a;return bO({startTable:r,endTable:o,isStartInTable:n,isEndInTable:a,isSameTable:l,isMultiTable:i})},bB=(e,t)=>({start:e,end:t}),bH=(e,t,r)=>({rng:e,table:t,cells:r}),bP=dc([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),bz=(e,t)=>oy(rF.fromDom(e),"td,th",t),bZ=e=>!rW(e.start,e.end),bI=(e,t)=>uZ(e.start,t).bind(r=>uZ(e.end,t).bind(e=>t9(rW(r,e),r))),bF=(e,t)=>!bZ(e)&&bI(e,t).exists(e=>{let t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}),bV=(e,t)=>t6(bz(e.startContainer,t),bz(e.endContainer,t),bB),b$=e=>t=>uZ(t,e).bind(e=>eO(bR(e)).map(e=>bB(t,e))),bj=e=>t=>uZ(t,e).bind(e=>eM(bR(e)).map(e=>bB(e,t))),bU=e=>t=>bI(t,e).map(e=>bH(t,e,bR(e))),bq=(e,t,r,o)=>{if(r.collapsed||!e.forall(bZ))return el.none();if(t.isSameTable){let t=e.bind(bU(o));return el.some({start:t,end:t})}{let e=bz(r.startContainer,o),t=bz(r.endContainer,o),n=e.bind(b$(o)).bind(bU(o)),a=t.bind(bj(o)).bind(bU(o));return el.some({start:n,end:a})}},bW=(e,t)=>eE(e,e=>rW(e,t)),bK=e=>t6(bW(e.cells,e.rng.start),bW(e.cells,e.rng.end),(t,r)=>e.cells.slice(t,r+1)),bY=(e,t,r)=>e.exists(e=>bF(e,r)&&uj(e.start,t)),bG=(e,t)=>{let{startTable:r,endTable:o}=t,n=e.cloneRange();return r.each(e=>n.setStartAfter(e.dom)),o.each(e=>n.setEndBefore(e.dom)),n},bX=(e,t,r,o)=>bq(e,t,r,o).bind(({start:e,end:t})=>e.or(t)).bind(e=>{let{isSameTable:o}=t,n=bK(e).getOr([]);if(o&&e.cells.length===n.length)return el.some(bP.fullTable(e.table));if(!(n.length>0))return el.none();if(o)return el.some(bP.partialTable(n,el.none()));{let e=bG(r,t);return el.some(bP.partialTable(n,el.some({...t,rng:e})))}}),bJ=(e,t,r,o)=>bq(e,t,r,o).bind(({start:e,end:o})=>{let n=e.bind(bK).getOr([]),a=o.bind(bK).getOr([]);if(!(n.length>0)||!(a.length>0))return el.none();{let e=bG(r,t);return el.some(bP.multiTable(n,a,e))}}),bQ=(e,t)=>{let r=bN(e),o=bV(t,r),n=bL(t,r);return bY(o,t,r)?o.map(e=>bP.singleCellTable(t,e.start)):n.isMultiTable?bJ(o,n,t,r):bX(o,n,t,r)},b1=e=>eg(e,e=>{rS(e,"contenteditable"),iK(e)}),b0=(e,t)=>el.from(e.dom.getParent(t,e.dom.isBlock)).map(rF.fromDom),b2=(e,t,r)=>{r.each(r=>{t?o$(r):(iK(r),e.selection.setCursorLocation(r.dom,0))})},b4=(e,t,r,o)=>{let n=r.cloneRange();o?(n.setStart(r.startContainer,r.startOffset),n.setEndAfter(t.dom.lastChild)):(n.setStartBefore(t.dom.firstChild),n.setEnd(r.endContainer,r.endOffset)),b6(e,n,t,!1).each(e=>e())},b3=e=>{let t=uz(e),r=rF.fromDom(e.selection.getNode());nF(r.dom)&&n4(e.schema,r)?e.selection.setCursorLocation(r.dom,0):e.selection.collapse(!0),t.length>1&&eh(t,e=>rW(e,r))&&rw(r,"data-mce-selected","1")},b5=(e,t,r)=>el.some(()=>{let o=e.selection.getRng();b1(r.bind(({rng:r,isStartInTable:n})=>{let a=b0(e,n?r.endContainer:r.startContainer);r.deleteContents(),b2(e,n,a.filter(Q(n4,e.schema)));let l=n?t[0]:t[t.length-1];return(b4(e,l,o,n),n4(e.schema,l))?el.none():el.some(n?t.slice(1):t.slice(0,-1))}).getOr(t)),b3(e)}),b7=(e,t,r,o)=>el.some(()=>{let n=e.selection.getRng(),a=t[0],l=r[r.length-1];b4(e,a,n,!0),b4(e,l,n,!1);let i=n4(e.schema,a)?t:t.slice(1),s=n4(e.schema,l)?r:r.slice(0,-1);b1(i.concat(s)),o.deleteContents(),b3(e)}),b6=(e,t,r,o=!0)=>el.some(()=>{bA(e,t,r,o)}),b8=(e,t)=>el.some(()=>bl(e,!1,t)),b9=(e,t,r)=>bQ(t,r).bind(t=>t.fold(Q(b6,e),Q(b8,e),Q(b5,e),Q(b7,e))),we=(e,t)=>wl(e,t),wt=(e,t,r,o)=>wn(t,o).fold(()=>b9(e,t,r),t=>we(e,t)),wr=(e,t,r)=>{let o=rF.fromDom(e.getBody()),n=e.selection.getRng();return 0!==r.length?b5(e,r,el.none()):wt(e,o,n,t)},wo=(e,t)=>ex(va(t,e),i$),wn=(e,t)=>ex(va(t,e),rv("caption")),wa=(e,t,r,o,n)=>m6(r,e.getBody(),n).bind(e=>wo(t,rF.fromDom(e.getNode())).bind(e=>rW(e,o)?el.none():el.some(W))),wl=(e,t)=>el.some(()=>{iK(t),e.selection.setCursorLocation(t.dom,0)}),wi=(e,t,r,o)=>ur(e.dom).bind(n=>uo(e.dom).map(e=>t?r.isEqual(n)&&o.isEqual(e):r.isEqual(e)&&o.isEqual(n))).getOr(!0),ws=(e,t)=>wl(e,t),wd=(e,t,r)=>wn(e,rF.fromDom(r.getNode())).fold(()=>el.some(W),e=>t9(!rW(e,t),W)),wc=(e,t,r,o,n)=>m6(r,e.getBody(),n).fold(()=>el.some(W),a=>wi(o,r,n,a)?ws(e,o):wd(t,o,a)),wm=(e,t,r,o)=>{let n=sI.fromRangeStart(e.selection.getRng());return wo(r,o).bind(o=>n4(e.schema,o,{checkRootAsContent:!1})?wl(e,o):wa(e,r,t,o,n))},wu=(e,t,r,o)=>{let n=sI.fromRangeStart(e.selection.getRng());return n4(e.schema,o)?wl(e,o):wc(e,r,t,o,n)},wh=(e,t)=>e?p8(t):p9(t),wf=(e,t)=>{let r=sI.fromRangeStart(e.selection.getRng());return wh(t,r)||m7(t,e.getBody(),r).exists(e=>wh(t,e))},wg=(e,t,r)=>{let o=rF.fromDom(e.getBody());return wn(o,r).fold(()=>wm(e,t,o,r).orThunk(()=>t9(wf(e,t),W)),r=>wu(e,t,o,r))},wp=(e,t)=>{let r=rF.fromDom(e.selection.getStart(!0)),o=uz(e);return e.selection.isCollapsed()&&0===o.length?wg(e,t,r):wr(e,r,o)},wv=(e,t)=>{let r=t;for(;r&&r!==e;){if(nZ(r)||nI(r))return r;r=r.parentNode}return null},wb=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],ww=t4.each,wy=e=>{let t=e.dom,r=new Set(e.serializer.getTempAttrs()),o=e=>eh(wb,t=>tu(e,t))||r.has(e);return{compare:(e,r)=>{if(e.nodeName!==r.nodeName||e.nodeType!==r.nodeType)return!1;let n=e=>{let r={};return ww(t.getAttribs(e),n=>{let a=n.nodeName.toLowerCase();"style"===a||o(a)||(r[a]=t.getAttrib(e,a))}),r},a=(e,t)=>{for(let r in e)if(eY(e,r)){let o=t[r];if(F(o)||e[r]!==o)return!1;delete t[r]}for(let e in t)if(eY(t,e))return!1;return!0};return(!(ny(e)&&ny(r))||!!a(n(e),n(r))&&!!a(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(r,"style"))))&&!uA(e)&&!uA(r)},isAttributeInternal:o}},wC=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),wx=e=>"summary"===e.name,wE=(e,t)=>{let r=e;for(;r=r.walk();)t(r)},wS=(e,t,r,o)=>{let n=r.name;for(let t=0,a=e.length;t<a;t++){let a=e[t];if(a.name===n){let e=o.nodes[n];e?e.nodes.push(r):o.nodes[n]={filter:a,nodes:[r]}}}if(r.attributes)for(let e=0,n=t.length;e<n;e++){let n=t[e],a=n.name;if(a in r.attributes.map){let e=o.attributes[a];e?e.nodes.push(r):o.attributes[a]={filter:n,nodes:[r]}}}},wk=(e,t,r)=>{let o={nodes:{},attributes:{}};return r.firstChild&&wE(r,r=>{wS(e,t,r,o)}),o},w_=(e,t)=>{let r=(e,r)=>{eZ(e,e=>{let o=eL(e.nodes);eg(e.filter.callbacks,n=>{for(let t=o.length-1;t>=0;t--){let n=o[t];(!(r?void 0!==n.attr(e.filter.name):n.name===e.filter.name)||V(n.parent))&&o.splice(t,1)}o.length>0&&n(o,e.filter.name,t)})})};r(e.nodes,!1),r(e.attributes,!0)},wT=(e,t,r,o={})=>{w_(wk(e,t,r),o)},wA=(e,t,r,o)=>{if((e.pad_empty_with_br||t.insert)&&r(o)){let e=new pp("br",1);t.insert&&e.attr("data-mce-bogus","1"),o.empty().append(e)}else o.empty().append(new pp("#text",3)).value=""},wN=e=>{var t;return wR(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===""},wR=(e,t)=>{let r=null==e?void 0:e.firstChild;return $(r)&&r===e.lastChild&&r.name===t},wD=(e,t)=>{let r=e.getElementRule(t.name);return(null==r?void 0:r.paddEmpty)===!0},wM=(e,t,r,o)=>o.isEmpty(t,r,t=>wD(e,t)),wO=(e,t)=>$(e)&&(t(e)||"br"===e.name),wL=e=>{let t;for(let r=e;r;r=r.parent){let e=r.attr("contenteditable");if("false"===e)break;"true"===e&&(t=r)}return el.from(t)},wB=(e,t,r=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{for(let o of e.children())r&&!t.isValidChild(r.name,o.name)&&wB(o,t,r);e.unwrap()}},wH=(e,t,r,o=W)=>{let n=t.getTextBlockElements(),a=t.getNonEmptyElements(),l=t.getWhitespaceElements(),i=t4.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),s=new Set,d=e=>e!==r&&!i[e.name];for(let r=0;r<e.length;r++){let i,c,m;let u=e[r];if(!u.parent||s.has(u))continue;if(n[u.name]&&"li"===u.parent.name){let e=u.next;for(;e&&n[e.name];)e.name="li",s.add(e),u.parent.insert(e,u.parent),e=e.next;u.unwrap();continue}let h=[u];for(i=u.parent;i&&!t.isValidChild(i.name,u.name)&&d(i);i=i.parent)h.push(i);if(i&&h.length>1){if(wz(t,u,i))wB(u,t);else{h.reverse(),o(c=h[0].clone());let e=c;for(let r=0;r<h.length-1;r++){t.isValidChild(e.name,h[r].name)&&r>0?(o(m=h[r].clone()),e.append(m)):m=e;for(let e=h[r].firstChild;e&&e!==h[r+1];){let t=e.next;m.append(e),e=t}e=m}wM(t,a,l,c)?i.insert(u,h[0],!0):(i.insert(c,h[0],!0),i.insert(u,c)),(wM(t,a,l,i=h[0])||wR(i,"br"))&&i.empty().remove()}}else if(u.parent){if("li"===u.name){let e=u.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(u);continue}if((e=u.next)&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(u,e.firstChild,!0);continue}let t=new pp("ul",1);o(t),u.wrap(t);continue}if(t.isValidChild(u.parent.name,"div")&&t.isValidChild("div",u.name)){let e=new pp("div",1);o(e),u.wrap(e)}else wB(u,t)}}},wP=(e,t)=>{let r=e;for(;r;){if(r.name===t)return!0;r=r.parent}return!1},wz=(e,t,r=t.parent)=>!!r&&(!!(e.children[t.name]&&!e.isValidChild(r.name,t.name)||"a"===t.name&&wP(r,"a"))||!!(wx(r)&&wC(t))&&!((null==r?void 0:r.firstChild)===t&&(null==r?void 0:r.lastChild)===t)),wZ=(e,t,r,o)=>{let n=document.createRange();return n.setStart(e,t),n.setEnd(r,o),n},wI=e=>{let t=sI.fromRangeStart(e),r=sI.fromRangeEnd(e),o=e.commonAncestorContainer;return m7(!1,o,r).map(n=>!mM(t,r,o)&&mM(t,n,o)?wZ(t.container(),t.offset(),n.container(),n.offset()):e).getOr(e)},wF=e=>e.collapsed?e:wI(e),wV=e=>$(e.firstChild)&&e.firstChild===e.lastChild,w$=e=>"br"===e.name||""===e.value,wj=(e,t)=>e.getBlockElements()[t.name]&&wV(t)&&w$(t.firstChild),wU=(e,t)=>{let r=e.getNonEmptyElements();return $(t)&&(t.isEmpty(r)||wj(e,t))},wq=(e,t)=>{let r=t.firstChild,o=t.lastChild;return r&&"meta"===r.name&&(r=r.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),wU(e,o)&&(o=null==o?void 0:o.prev),!!r&&r===o&&("ul"===r.name||"ol"===r.name)},wW=e=>{var t,r;let o=e.firstChild,n=e.lastChild;return o&&"META"===o.nodeName&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o)),n&&"mce_marker"===n.id&&(null===(r=n.parentNode)||void 0===r||r.removeChild(n)),e},wK=(e,t,r)=>{let o=t.serialize(r);return wW(e.createFragment(o))},wY=e=>{var t;return eb(null!==(t=null==e?void 0:e.childNodes)&&void 0!==t?t:[],e=>"LI"===e.nodeName)},wG=e=>""===e.data||nP(e),wX=e=>$(null==e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&wG(e.firstChild),wJ=e=>!e.firstChild||wX(e),wQ=e=>e.length>0&&wJ(e[e.length-1])?e.slice(0,-1):e,w1=(e,t)=>{let r=e.getParent(t,e.isBlock);return r&&"LI"===r.nodeName?r:null},w0=(e,t)=>!!w1(e,t),w2=(e,t)=>{let r=t.cloneRange(),o=t.cloneRange();return r.setStartBefore(e),o.setEndAfter(e),[r.cloneContents(),o.cloneContents()]},w4=(e,t)=>{let r=sI.before(e),o=mJ(t).next(r);return o?o.toRange():null},w3=(e,t)=>{let r=sI.after(e),o=mJ(t).prev(r);return o?o.toRange():null},w5=(e,t,r,o)=>{let n=w2(e,o),a=e.parentNode;return a&&(a.insertBefore(n[0],e),t4.each(t,t=>{a.insertBefore(t,e)}),a.insertBefore(n[1],e),a.removeChild(e)),w3(t[t.length-1],r)},w7=(e,t,r)=>{let o=e.parentNode;return o&&t4.each(t,t=>{o.insertBefore(t,e)}),w4(e,r)},w6=(e,t,r,o)=>(o.insertAfter(t.reverse(),e),w3(t[0],r)),w8=(e,t,r,o)=>{let n=wK(t,e,o),a=w1(t,r.startContainer),l=wQ(wY(n.firstChild)),i=t.getRoot(),s=e=>{let o=sI.fromRangeStart(r),n=mJ(t.getRoot()),l=1===e?n.prev(o):n.next(o),i=null==l?void 0:l.getNode();return!i||w1(t,i)!==a};return a?s(1)?w7(a,l,i):s(2)?w6(a,l,i,t):w5(a,l,i,r):null},w9=["pre"],ye=(e,t,r,o)=>{var n;let a=t.firstChild,l=t.lastChild,i=a===("bookmark"===l.attr("data-mce-type")?l.prev:l),s=eu(w9,a.name);if(!i||!s)return!1;{let t="false"!==a.attr("contenteditable"),l=(null===(n=e.getParent(r,e.isBlock))||void 0===n?void 0:n.nodeName.toLowerCase())===a.name,i=el.from(wv(o,r)).forall(nZ);return t&&l&&i}},yt=(e,t,r)=>!!$(r)&&r===e.getParent(t.endContainer,nF)&&uj(rF.fromDom(r),t),yr=(e,t,r)=>{var o;if("all"===r.getAttribute("data-mce-bogus"))null===(o=r.parentNode)||void 0===o||o.insertBefore(e.dom.createFragment(t),r);else{let o=r.firstChild,n=r.lastChild;o&&(o!==n||"BR"!==o.nodeName)?e.selection.setContent(t,{no_events:!0}):e.dom.setHTML(r,t)}},yo=(e,t,r)=>{el.from(e.getParent(t,"td,th")).map(rF.fromDom).each(e=>iY(e,r))},yn=(e,t)=>{let r=e.schema.getTextInlineElements(),o=e.dom;if(t){let t=e.getBody(),n=wy(e),a="*[data-mce-fragment]",l=o.select(a);t4.each(l,e=>{let l=e=>$(r[e.nodeName.toLowerCase()]),i=e=>1===e.childNodes.length;if(!(pW(o,e)||pK(o,e))&&l(e)&&i(e)){let r=pj(o,e),s=(e,t)=>e_(e,e=>eu(t,e)),d=t=>i(e)&&o.is(t,a)&&l(t)&&(t.nodeName===e.nodeName&&s(r,pj(o,t))||d(t.children[0])),c=r=>$(r)&&r!==t&&(n.compare(e,r)||c(r.parentElement)),m=r=>$(r)&&r!==t&&o.is(r,a)&&(pG(o,e,r)||m(r.parentElement));(d(e.children[0])||c(e.parentElement)&&!m(e.parentElement))&&o.remove(e,!0)}})}},ya=e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},yl=e=>{t4.each(e.getElementsByTagName("*"),e=>{e.removeAttribute("data-mce-fragment")})},yi=e=>!!e.getAttribute("data-mce-fragment"),ys=(e,t)=>$(t)&&!e.schema.getVoidElements()[t.nodeName],yd=(e,t)=>{var r,o,n,a;let l;let i=e.dom,s=e.selection;if(!t)return;s.scrollIntoView(t);let d=wv(e.getBody(),t);if(d&&"false"===i.getContentEditable(d)){i.remove(t),s.select(d);return}let c=i.createRng(),m=t.previousSibling;if(nD(m)){c.setStart(m,null!==(o=null===(r=m.nodeValue)||void 0===r?void 0:r.length)&&void 0!==o?o:0);let e=t.nextSibling;nD(e)&&(m.appendData(e.data),null===(n=e.parentNode)||void 0===n||n.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);let u=i.getParent(t,i.isBlock);if(i.remove(t),u&&i.isEmpty(u)){let t;let r=nF(u);oV(rF.fromDom(u)),c.setStart(u,0),c.setEnd(u,0),!r&&!yi(u)&&(a=c,t=sI.fromRangeStart(a),l=null==(t=mJ(e.getBody()).next(t))?void 0:t.toRange())?(c=l,i.remove(u)):i.add(u,i.create("br",r?{}:{"data-mce-bogus":"1"}))}s.setRng(c)},yc=e=>{let t=e.dom,r=wF(e.selection.getRng());e.selection.setRng(r);let o=t.getParent(r.startContainer,nF);yt(t,r,o)?b6(e,r,rF.fromDom(o)):r.startContainer===r.endContainer&&r.endOffset-r.startOffset==1&&nD(r.startContainer.childNodes[r.startOffset])?r.deleteContents():e.getDoc().execCommand("Delete",!1)},ym=e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return el.some(t);return el.none()},yu=(e,t,r)=>{var o;return eh(r.children(),wC)&&(null===(o=e.getParent(t,e.isBlock))||void 0===o?void 0:o.nodeName)==="SUMMARY"},yh=(e,t,r)=>{var o,n;let a=e.selection,l=e.dom,i=e.parser,s=r.merge,d=pZ({validate:!0},e.schema),c='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';r.preserve_zwsp||(t=iG(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,c);let m=a.getRng(),u=m.startContainer,h=e.getBody();u===h&&a.isCollapsed()&&l.isBlock(h.firstChild)&&ys(e,h.firstChild)&&l.isEmpty(h.firstChild)&&((m=l.createRng()).setStart(h.firstChild,0),m.setEnd(h.firstChild,0),a.setRng(m)),a.isCollapsed()||yc(e);let f=a.getNode(),g={context:f.nodeName.toLowerCase(),data:r.data,insert:!0},p=i.parse(t,g);if(!0===r.paste&&wq(e.schema,p)&&w0(l,f))return(m=w8(d,l,a.getRng(),p))&&a.setRng(m),t;!0===r.paste&&ye(l,p,f,e.getBody())&&(null===(o=p.firstChild)||void 0===o||o.unwrap()),ya(p);let v=p.lastChild;if(v&&"mce_marker"===v.attr("id")){let t=v;for(v=v.prev;v&&"table"!==v.name;v=v.walk(!0))if(3===v.type||!l.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(f),g.invalid||yu(l,f,p)){let r;e.selection.setContent(c);let o=a.getNode(),s=e.getBody();for(nB(o)?o=r=s:r=o;r&&r!==s;)o=r,r=r.parentNode;t=o===s?s.innerHTML:l.getOuterHTML(o);let m=i.parse(t),u=ym(m),h=u.bind(wL).getOr(m);u.each(e=>e.replace(p));let f=p.children(),g=null!==(n=p.parent)&&void 0!==n?n:m;p.unwrap(),wH(eb(f,t=>wz(e.schema,t,g)),e.schema,h),wT(i.getNodeFilters(),i.getAttributeFilters(),m),t=d.serialize(m),o===s?l.setHTML(s,t):l.setOuterHTML(o,t)}else yr(e,t=d.serialize(p),f);return yn(e,s),yd(e,l.get("mce_marker")),yl(e.getBody()),yo(l,a.getStart(),e.schema),ap(e.schema,e.getBody(),a.getStart()),t},yf=e=>e instanceof pp,yg=e=>{g8(e)&&ur(e.getBody()).each(t=>{let r=t.getNode(),o=nA(r)?ur(r).getOr(t):t;e.selection.setRng(o.toRange())})},yp=(e,t,r)=>{e.dom.setHTML(e.getBody(),t),!0!==r&&yg(e)},yv=(e,t,r,o)=>{if(0===(r=iG(r)).length||/^\s+$/.test(r)){let n='<br data-mce-bogus="1">';"TABLE"===t.nodeName?r="<tr><td>"+n+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+n+"</li>");let a=dz(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(r=n,r=e.dom.createHTML(a,dZ(e),r)):r||(r=n),yp(e,r,o.no_selection),{content:r,html:r}}{"raw"!==o.format&&(r=pZ({validate:!1},e.schema).serialize(e.parser.parse(r,{isRootContent:!0,insert:!0})));let n=ij(rF.fromDom(t))?r:t4.trim(r);return yp(e,n,o.no_selection),{content:n,html:n}}},yb=(e,t,r,o)=>{wT(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r);let n=pZ({validate:!1},e.schema).serialize(r),a=iG(ij(rF.fromDom(t))?n:t4.trim(n));return yp(e,a,o.no_selection),{content:r,html:a}},yw=(e,t,r)=>el.from(e.getBody()).map(o=>yf(t)?yb(e,o,t,r):yv(e,o,t,r)).getOr({content:t,html:yf(r.content)?"":r.content}),yy=e=>j(e)?e:en,yC=(e,t,r)=>{let o=e.dom,n=yy(r);for(;o.parentNode;){o=o.parentNode;let e=rF.fromDom(o),r=t(e);if(r.isSome())return r;if(n(e))break}return el.none()},yx=(e,t,r)=>{let o=t(e),n=yy(r);return o.orThunk(()=>n(e)?el.none():yC(e,t,n))},yE=(e,t,r)=>{let o=e.formatter.get(r);if(o)for(let r=0;r<o.length;r++){let n=o[r];if(hd(n)&&!1===n.inherit&&e.dom.is(t,n.selector))return!0}return!1},yS=(e,t,r,o,n)=>{let a=e.dom.getRoot();if(t===a)return!1;let l=e.dom.getParent(t,t=>!!yE(e,t,r)||t.parentNode===a||!!yT(e,t,r,o,!0));return!!yT(e,l,r,o,n)},yk=(e,t,r)=>!!(hc(r)&&u8(t,r.inline)||hl(r)&&u8(t,r.block))||!!hd(r)&&ny(t)&&e.is(t,r.selector),y_=(e,t,r,o,n,a)=>{let l=r[o],i="attributes"===o;if(j(r.onmatch))return r.onmatch(t,r,o);if(l){if(eQ(l))for(let r=0;r<l.length&&(i?!e.getAttrib(t,l[r]):!he(e,t,l[r]));r++);else for(let o in l)if(eY(l,o)){let s=i?e.getAttrib(t,o):he(e,t,o),d=u6(l[o],a),c=V(s)||tw(s);if(c&&V(d))continue;if(n&&c&&!r.exact||(!n||r.exact)&&!u8(s,u9(d,o)))return!1}}return!0},yT=(e,t,r,o,n)=>{let a=e.formatter.get(r),l=e.dom;if(a&&ny(t))for(let r=0;r<a.length;r++){let i=a[r];if(yk(e.dom,t,i)&&y_(l,t,i,"attributes",n,o)&&y_(l,t,i,"styles",n,o)){let r=i.classes;if(r){for(let n=0;n<r.length;n++)if(!e.dom.hasClass(t,u6(r[n],o)))return}return i}}},yA=(e,t,r,o,n)=>{if(o)return yS(e,o,t,r,n);if(o=e.selection.getNode(),yS(e,o,t,r,n))return!0;let a=e.selection.getStart();return!!(a!==o&&yS(e,a,t,r,n))},yN=(e,t,r)=>{let o=[],n={},a=e.selection.getStart();return e.dom.getParent(a,a=>{for(let l=0;l<t.length;l++){let i=t[l];!n[i]&&yT(e,a,i,r)&&(n[i]=!0,o.push(i))}},e.dom.getRoot()),o},yR=(e,t)=>{let r=t=>rW(t,rF.fromDom(e.getBody())),o=(t,r)=>yT(e,t.dom,r)?el.some(r):el.none();return el.from(e.selection.getStart(!0)).bind(e=>yx(rF.fromDom(e),e=>eB(t,t=>o(e,t)),r)).getOrNull()},yD=(e,t)=>{let r=e.formatter.get(t),o=e.dom;if(r&&e.selection.isEditable()){let t=hr(o,e.selection.getStart());for(let e=r.length-1;e>=0;e--){let n=r[e];if(!hd(n))return!0;for(let e=t.length-1;e>=0;e--)if(o.is(t[e],n.selector))return!0}}return!1},yM=(e,t,r)=>ey(r,(r,o)=>{let n=hn(e,o);return e.formatter.matchNode(t,o,{},n)?r.concat([o]):r},[]),yO=(e,t)=>e.importNode(t,!0),yL=e=>{if(e){let t=new nd(e,e);for(let e=t.current();e;e=t.next())if(nD(e))return e}return null},yB=e=>{let t=rF.fromTag("span");return ry(t,{id:un,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&oz(t,rF.fromText("\uFEFF")),t},yH=e=>{let t=yL(e);return t&&"\uFEFF"===t.data.charAt(0)&&t.deleteData(0,1),t},yP=(e,t,r)=>{let o=e.dom,n=e.selection;if(hf(t))bl(e,!1,rF.fromDom(t),r,!0);else{let e=n.getRng(),r=o.getParent(t,o.isBlock),a=e.startContainer,l=e.startOffset,i=e.endContainer,s=e.endOffset,d=yH(t);o.remove(t,!0),a===d&&l>0&&e.setStart(d,l-1),i===d&&s>0&&e.setEnd(d,s-1),r&&o.isEmpty(r)&&iK(rF.fromDom(r)),n.setRng(e)}},yz=(e,t,r)=>{let o=e.dom,n=e.selection;if(t)yP(e,t,r);else if(!(t=ul(e.getBody(),n.getStart())))for(;t=o.get(un);)yP(e,t,r)},yZ=(e,t,r)=>{var o,n;let a=e.dom,l=a.getParent(r,Q(u0,e.schema));l&&a.isEmpty(l)?null===(o=r.parentNode)||void 0===o||o.replaceChild(t,r):(iq(rF.fromDom(r)),a.isEmpty(r)?null===(n=r.parentNode)||void 0===n||n.replaceChild(t,r):a.insertAfter(t,r))},yI=(e,t)=>(e.appendChild(t),t),yF=(e,t)=>{var r;let o=ew(e,(e,t)=>yI(e,t.cloneNode(!1)),t),n=null!==(r=o.ownerDocument)&&void 0!==r?r:document;return yI(o,n.createTextNode("\uFEFF"))},yV=(e,t,r,o,n,a)=>{let l=e.formatter,i=e.dom,s=yM(e,r,eb(eP(l.get()),e=>e!==o&&!tm(e,"removeformat")));if(!(eb(s,t=>!ha(e,t,o)).length>0))return el.none();{let e=r.cloneNode(!1);return i.add(t,e),l.remove(o,n,e,a),i.remove(e),el.some(e)}},y$=e=>iB(e,iO(e).replace(RegExp(`\xa0$`)," ")),yj=(e,t)=>{let r=()=>{null===t||e.dom.isEmpty(t)||r4(rF.fromDom(t)).each(e=>{rf(e)?y$(e):ov(e,e=>rf(e)).each(e=>{rf(e)&&y$(e)})})};e.once("input",t=>{t.data&&!uR(t.data)&&(t.isComposing?e.once("compositionend",()=>{r()}):r())})},yU=(e,t,r)=>{let o;let n=e.selection,a=e.formatter.get(t);if(!a)return;let l=n.getRng(),i=l.startOffset,s=l.startContainer.nodeValue;o=ul(e.getBody(),n.getStart());let d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(s&&i>0&&i<s.length&&d.test(s.charAt(i))&&d.test(s.charAt(i-1))){let o=n.getBookmark();l.collapse(!0);let i=hT(e.dom,l,a);i=fX(i),e.formatter.apply(t,r,i),n.moveToBookmark(o)}else{let a=o?yL(o):null;o&&(null==a?void 0:a.data)==="\uFEFF"||(a=(o=yO(e.getDoc(),yB(!0).dom)).firstChild,l.insertNode(o),i=1,yj(e,o)),e.formatter.apply(t,r,o),n.setCursorLocation(a,i)}},yq=(e,t,r,o)=>{let n;let a=e.dom,l=e.selection,i=!1,s=e.formatter.get(t);if(!s)return;let d=l.getRng(),c=d.startContainer,m=d.startOffset,u=c;nD(c)&&(m!==c.data.length&&(i=!0),u=u.parentNode);let h=[];for(;u;){if(yT(e,u,t,r,o)){n=u;break}u.nextSibling&&(i=!0),h.push(u),u=u.parentNode}if(n){if(i){let n=l.getBookmark();d.collapse(!0);let i=hT(a,d,s,!0);i=fX(i),e.formatter.remove(t,r,i,o),l.moveToBookmark(n)}else{let i=ul(e.getBody(),n),s=$(i)?a.getParents(n.parentNode,ea,i):[],d=yB(!1).dom;yZ(e,d,null!=i?i:n);let c=yF([...h,...yV(e,d,n,t,r,o).toArray(),...s],d);i&&yP(e,i,$(i)),l.setCursorLocation(c,1),yj(e,d),a.isEmpty(n)&&a.remove(n)}}},yW=(e,t,r)=>{let o=e.selection,n=e.getBody();yz(e,null,r),(8===t||46===t)&&o.isCollapsed()&&"\uFEFF"===o.getStart().innerHTML&&yz(e,ul(n,o.getStart()),!0),(37===t||39===t)&&yz(e,ul(n,o.getStart()),!0)},yK=e=>nD(e)&&th(e.data,""),yY=e=>{e.on("mouseup keydown",t=>{yW(e,t.keyCode,yK(e.selection.getRng().endContainer))})},yG=e=>{let t=yB(!1),r=yF(e,t.dom);return{caretContainer:t,caretPosition:sI(r,0)}},yX=(e,t)=>{let{caretContainer:r,caretPosition:o}=yG(t);return oB(rF.fromDom(e),r),o$(rF.fromDom(e)),o},yJ=(e,t)=>{let{caretContainer:r,caretPosition:o}=yG(t);return e.insertNode(r.dom),o},yQ=(e,t)=>!ua(t.dom)&&eY(e.schema.getTextInlineElements(),rs(t))&&!ua(t.dom)&&!n_(t.dom),y1={},y0=nS(["pre"]),y2=(e,t)=>{eY(y1,e)&&eg(y1[e],e=>{e(t)})};c=e=>{let t=e.selection.getRng(),r=(e,t)=>{let r=rF.fromDom(t),o=rG(r).dom;o$(r),oF(rF.fromDom(e),[rF.fromTag("br",o),rF.fromTag("br",o),...r6(r)])};if(!t.collapsed){let t=e.selection.getSelectedBlocks();eg(eb(eb(t,y0),e=>{let r=e.previousSibling;return y0(r)&&eu(t,r)}),e=>{r(e.previousSibling,e)})}},y1.pre||(y1.pre=[]),y1.pre.push(c);let y4=["fontWeight","fontStyle","color","fontSize","fontFamily"],y3=e=>H(e.styles)&&eh(eP(e.styles),e=>eu(y4,e)),y5=e=>ex(e,e=>hc(e)&&"span"===e.inline&&y3(e)),y7=(e,t)=>{let r=e.get(t);return z(r)?y5(r):el.none()},y6=(e,t)=>ut(t,sI.fromRangeStart(e)).isNone(),y8=(e,t)=>!1===ue(t,sI.fromRangeEnd(e)).exists(e=>!nP(e.getNode())||ue(t,e).isSome()),y9=e=>t=>nj(t)&&e.isEditable(t),Ce=e=>{let t=e.getSelectedBlocks(),r=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return y6(r,t[0])&&y8(r,t[0])?t:[];{let e=eM(t).filter(e=>y6(r,e)).toArray(),o=eO(t).filter(e=>y8(r,e)).toArray(),n=t.slice(1,-1);return e.concat(n).concat(o)}},Ct=e=>eb(Ce(e),y9(e.dom)),Cr=e=>eb(e.getSelectedBlocks(),y9(e.dom)),Co=t4.each,Cn=e=>ny(e)&&!uA(e)&&!ua(e)&&!n_(e),Ca=(e,t)=>{for(let r=e;r&&!(nD(r)&&tb(r.data));r=r[t])if(ny(r)&&!uA(r))return r;return e},Cl=(e,t,r)=>{let o=wy(e),n=nC(t)&&e.dom.isEditable(t),a=nC(r)&&e.dom.isEditable(r);if(n&&a){let n=Ca(t,"previousSibling"),a=Ca(r,"nextSibling");if(o.compare(n,a)){for(let e=n.nextSibling;e&&e!==a;){let t=e;e=e.nextSibling,n.appendChild(t)}return e.dom.remove(a),t4.each(t4.grep(a.childNodes),e=>{n.appendChild(e)}),n}}return r},Ci=(e,t,r,o)=>{var n;if(o&&!1!==t.merge_siblings){let t=null!==(n=Cl(e,u1(o),o))&&void 0!==n?n:o;Cl(e,t,u1(t,!0))}},Cs=(e,t,r)=>{if(t.clear_child_styles){let o=t.links?"*:not(a)":"*";Co(e.select(o,r),r=>{Cn(r)&&e.isEditable(r)&&Co(t.styles,(t,o)=>{e.setStyle(r,o,"")})})}},Cd=(e,t,r)=>{Co(e.childNodes,e=>{Cn(e)&&(t(e)&&r(e),e.hasChildNodes()&&Cd(e,t,r))})},Cc=(e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Cm=(e,t)=>r=>!!(r&&he(e,r,t)),Cu=(e,t,r)=>o=>{e.setStyle(o,t,r),""===o.getAttribute("style")&&o.removeAttribute("style"),Cc(e,o)},Ch=dc([{keep:[]},{rename:["name"]},{removed:[]}]),Cf=/^(src|href|style)$/,Cg=t4.each,Cp=e=>/^(TR|TH|TD)$/.test(e.nodeName),Cv=(e,t,r)=>e.isChildOf(t,r)&&t!==r&&!e.isBlock(r),Cb=(e,t,r)=>{let o=t[r?"startContainer":"endContainer"],n=t[r?"startOffset":"endOffset"];if(ny(o)){let e=o.childNodes.length-1;!r&&n&&n--,o=o.childNodes[n>e?e:n]}return nD(o)&&r&&n>=o.data.length&&(o=new nd(o,e.getBody()).next()||o),nD(o)&&!r&&0===n&&(o=new nd(o,e.getBody()).prev()||o),o},Cw=(e,t)=>{let r=t?"firstChild":"lastChild",o=e[r];return Cp(e)&&o?"TR"===e.nodeName&&o[r]||o:e},Cy=(e,t,r,o)=>{var n;let a=e.create(r,o);return null===(n=t.parentNode)||void 0===n||n.insertBefore(a,t),a.appendChild(t),a},CC=(e,t,r,o,n)=>{let a=rF.fromDom(t),l=rF.fromDom(e.create(o,n));return oF(l,r?r7(a):r5(a)),r?(oB(a,l),oP(l,a)):(oH(a,l),oz(l,a)),l.dom},Cx=(e,t)=>t.links&&"A"===e.nodeName,CE=(e,t,r)=>{let o;let n=t.parentNode,a=e.dom,l=dz(e);!hl(r)||n!==a.getRoot()||r.list_block&&u8(t,r.list_block)||eg(eL(t.childNodes),t=>{u2(e,l,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=Cy(a,t,l),a.setAttribs(o,dZ(e))):o=null}),(!hm(r)||u8(r.inline,t))&&a.remove(t,!0)},CS=(e,t,r)=>U(e)?{name:t,value:null}:{name:e,value:u6(t,r)},Ck=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},C_=(e,t,r,o,n)=>{let a=!1;Cg(r.styles,(l,i)=>{let{name:s,value:d}=CS(i,l,o),c=u9(d,s);(r.remove_similar||Z(d)||!ny(n)||u8(he(e,n,s),c))&&e.setStyle(t,s,""),a=!0}),a&&Ck(e,t)},CT=(e,t,r)=>{"removeformat"===t?eg(Cr(e.selection),t=>{eg(y4,r=>e.dom.setStyle(t,r,"")),Ck(e.dom,t)}):y7(e.formatter,t).each(t=>{eg(Cr(e.selection),o=>C_(e.dom,o,t,r,null))})},CA=(e,t,r,o,n)=>{let a=e.dom,l=wy(e),i=e.schema;if(hc(t)&&ab(i,t.inline)&&ay(i,o)&&o.parentElement===e.getBody())return CE(e,o,t),Ch.removed();if(!t.ceFalseOverride&&o&&"false"===a.getContentEditableParent(o)||o&&!yk(a,o,t)&&!Cx(o,t))return Ch.keep();let s=t.preserve_attributes;if(hc(t)&&"all"===t.remove&&z(s)){let e=eb(a.getAttribs(o),e=>eu(s,e.name.toLowerCase()));if(a.removeAllAttribs(o),eg(e,e=>a.setAttrib(o,e.name,e.value)),e.length>0)return Ch.rename("span")}if("all"!==t.remove){C_(a,o,t,r,n),Cg(t.attributes,(e,l)=>{let{name:i,value:s}=CS(l,e,r);if(t.remove_similar||Z(s)||!ny(n)||u8(a.getAttrib(n,i),s)){if("class"===i){let e=a.getAttrib(o,i);if(e){let t="";if(eg(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)}),t){a.setAttrib(o,i,t);return}}}if(Cf.test(i)&&o.removeAttribute("data-mce-"+i),"style"===i&&nS(["li"])(o)&&"none"===a.getStyle(o,"list-style-type")){o.removeAttribute(i),a.setStyle(o,"list-style-type","none");return}"class"===i&&o.removeAttribute("className"),o.removeAttribute(i)}}),Cg(t.classes,e=>{e=u6(e,r),(!ny(n)||a.hasClass(n,e))&&a.removeClass(o,e)});let e=a.getAttribs(o);for(let t=0;t<e.length;t++){let r=e[t].nodeName;if(!l.isAttributeInternal(r))return Ch.keep()}}return"none"!==t.remove?(CE(e,o,t),Ch.removed()):Ch.keep()},CN=(e,t,r,o,n)=>{let a;return t.parentNode&&eg(hr(e.dom,t.parentNode).reverse(),t=>{if(!a&&ny(t)&&"_start"!==t.id&&"_end"!==t.id){let l=yT(e,t,r,o,n);l&&!1!==l.split&&(a=t)}}),a},CR=(e,t,r,o)=>CA(e,t,r,o,o).fold(G(o),t=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,t)),G(null)),CD=(e,t,r,o,n,a,l,i)=>{var s,d;let c,m;let u=e.dom;if(r){let h=r.parentNode;for(let r=o.parentNode;r&&r!==h;r=r.parentNode){let o=u.clone(r,!1);for(let r=0;r<t.length&&null!==(o=CR(e,t[r],i,o));r++);o&&(c&&o.appendChild(c),m||(m=o),c=o)}!a||l.mixed&&u.isBlock(r)||(o=null!==(s=u.split(r,o))&&void 0!==s?s:o),c&&m&&(null===(d=n.parentNode)||void 0===d||d.insertBefore(c,n),m.appendChild(n),hc(l)&&Ci(e,l,i,c))}return o},CM=(e,t,r,o,n)=>{let a=e.formatter.get(t),l=a[0],i=e.dom,s=e.selection,d=o=>{let i=CN(e,o,t,r,n);return CD(e,a,i,o,o,!0,l,r)},c=e=>uA(e)&&ny(e)&&("_start"===e.id||"_end"===e.id),m=t=>eh(a,o=>CL(e,o,r,t,t)),u=t=>{let r=eL(t.childNodes),o=m(t)||eh(a,e=>yk(i,t,e)),n=t.parentNode;if(!o&&$(n)&&hu(l)&&m(n),l.deep&&r.length)for(let e=0;e<r.length;e++)u(r[e]);eg(["underline","line-through","overline"],r=>{ny(t)&&e.dom.getStyle(t,"text-decoration")===r&&t.parentNode&&ht(i,t.parentNode)===r&&CL(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:r}},void 0,t)})},h=e=>{let t=i.get(e?"_start":"_end");if(!t)return null;{let r=t[e?"firstChild":"lastChild"];return c(r)&&(r=r[e?"firstChild":"lastChild"]),nD(r)&&0===r.data.length&&(r=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),i.remove(t,!0),r}},f=t=>{let r,o;let n=hT(i,t,a,t.collapsed);if(l.split){if((r=Cb(e,n=fX(n),!0))!==(o=Cb(e,n))){if(Cv(i,r=Cw(r,!0),o=Cw(o,!1))){d(CC(i,el.from(r.firstChild).getOr(r),!0,"span",{id:"_start","data-mce-type":"bookmark"})),h(!0);return}if(Cv(i,o,r)){d(CC(i,el.from(o.lastChild).getOr(o),!1,"span",{id:"_end","data-mce-type":"bookmark"})),h(!1);return}r=Cy(i,r,"span",{id:"_start","data-mce-type":"bookmark"}),o=Cy(i,o,"span",{id:"_end","data-mce-type":"bookmark"});let e=i.createRng();e.setStartAfter(r),e.setEndBefore(o),hA(i,e,e=>{eg(e,e=>{uA(e)||uA(e.parentNode)||d(e)})}),d(r),d(o),r=h(!0),o=h()}else r=o=d(r);n.startContainer=r.parentNode?r.parentNode:r,n.startOffset=i.nodeIndex(r),n.endContainer=o.parentNode?o.parentNode:o,n.endOffset=i.nodeIndex(o)+1}hA(i,n,e=>{eg(e,u)})};if(o){if(uY(o)){let e=i.createRng();e.setStartBefore(o),e.setEndAfter(o),f(e)}else f(o);h1(e,t,o,r);return}s.isCollapsed()&&hc(l)&&!uz(e).length?yq(e,t,r,n):(uJ(e,()=>uW(e,f),o=>hc(l)&&yA(e,t,r,o)),e.nodeChanged()),CT(e,t,r),h1(e,t,o,r)},CO=(e,t,r,o,n)=>{(o||e.selection.isEditable())&&CM(e,t,r,o,n)},CL=(e,t,r,o,n)=>CA(e,t,r,o,n).fold(en,t=>(e.dom.rename(o,t),!0),ea),CB=t4.each,CH=(e,t,r,o)=>{let n=t=>{if(nC(t)&&ny(t.parentNode)&&e.isEditable(t)){let r=ht(e,t.parentNode);e.getStyle(t,"color")&&r?e.setStyle(t,"text-decoration",r):e.getStyle(t,"text-decoration")===r&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(t4.walk(o,n,"childNodes"),n(o))},CP=(e,t,r,o)=>{if(t.styles&&t.styles.backgroundColor){let n=Cm(e,"fontSize");Cd(o,t=>n(t)&&e.isEditable(t),Cu(e,"backgroundColor",u6(t.styles.backgroundColor,r)))}},Cz=(e,t,r,o)=>{if(hc(t)&&("sub"===t.inline||"sup"===t.inline)){let r=Cm(e,"fontSize");Cd(o,t=>r(t)&&e.isEditable(t),Cu(e,"fontSize",""));let n=eb(e.select("sup"===t.inline?"sub":"sup",o),e.isEditable);e.remove(n,!0)}},CZ=(e,t,r,o)=>{CB(t,t=>{hc(t)&&CB(e.dom.select(t.inline,o),o=>{Cn(o)&&CL(e,t,r,o,t.exact?o:null)}),Cs(e.dom,t,o)})},CI=(e,t,r,o,n)=>{let a=n.parentNode;!(yT(e,a,r,o)&&CL(e,t,o,n))&&t.merge_with_parents&&a&&e.dom.getParent(a,a=>!!yT(e,a,r,o)&&(CL(e,t,o,n),!0))},CF=t4.each,CV=(e,t,r,o)=>{if(!(ch(e)&&hc(t))||!r.parentNode)return!1;{let t=lu(e.schema),n=ni(rF.fromDom(r),e=>ua(e.dom));return eG(t,o)&&n2(e.schema,r.parentNode,{skipBogus:!1,includeZwsp:!0})&&!n}},C$=(e,t,r,o)=>{if(CF(r.styles,(r,n)=>{e.setStyle(t,n,u6(r,o))}),r.styles){let r=e.getAttrib(t,"style");r&&e.setAttrib(t,"data-mce-style",r)}},Cj=(e,t,r,o)=>{let n=e.formatter.get(t),a=n[0],l=!o&&e.selection.isCollapsed(),i=e.dom,s=e.selection,d=(e,t=a)=>{j(t.onformat)&&t.onformat(e,t,r,o),C$(i,e,t,r),CF(t.attributes,(t,o)=>{i.setAttrib(e,o,u6(t,r))}),CF(t.classes,t=>{let o=u6(t,r);i.hasClass(e,o)||i.addClass(e,o)})},c=(e,t)=>{let r=!1;return CF(e,e=>!!hd(e)&&(!!("false"===i.getContentEditable(t)&&!e.ceFalseOverride||$(e.collapsed)&&e.collapsed!==l)||!i.is(t,e.selector)||!!ua(t)||(d(t,e),r=!0,!1))),r},m=e=>{if(!B(e))return null;{let t=i.create(e);return d(t),t}},u=(o,l,i)=>{let s=[],u=!0,h=a.inline||a.block,f=m(h),g=o=>hi(a)&&yT(e,o,t,r),p=(t,r,o)=>{let n=hs(a)&&u0(e.schema,t)&&u2(e,r,h);return o&&n},v=(t,r,n,l)=>{let s=u2(e,h,t.nodeName.toLowerCase())&&u2(e,r,h),d=!i&&nD(t)&&nc(t.data),c=ua(t),m=!hc(a)||!o.isBlock(t);return(n||l)&&s&&!d&&!c&&m};hA(o,l,t=>{let r;let l=t=>{let i=!1,m=u,b=!1,w=t.parentNode,y=w.nodeName.toLowerCase(),C=o.getContentEditable(t);$(C)&&(m=u,u="true"===C,i=!0,b=u7(e,t));let x=u&&!i;if(nP(t)&&!CV(e,a,t,y)){r=null,hl(a)&&o.remove(t);return}if(g(t)){r=null;return}if(p(t,y,x)){let e=o.rename(t,h);d(e),s.push(e),r=null;return}if(hd(a)){let e=c(n,t);if(!e&&$(w)&&hu(a)&&(e=c(n,w)),!hc(a)||e){r=null;return}}$(f)&&v(t,y,x,b)?(r||(r=o.clone(f,!1),w.insertBefore(r,t),s.push(r)),b&&i&&(u=m),r.appendChild(t)):(r=null,eg(eL(t.childNodes),l),i&&(u=m),r=null)};eg(t,l)}),!0===a.links&&eg(s,e=>{let t=e=>{"A"===e.nodeName&&d(e,a),eg(eL(e.childNodes),t)};t(e)}),eg(s,l=>{let i;let c=(i=0,eg(l.childNodes,e=>{!u3(e)&&!uA(e)&&i++}),i);if((s.length>1||!o.isBlock(l))&&0===c){o.remove(l,!0);return}if(hc(a)||hl(a)&&a.wrapper){if(!a.exact&&1===c){var m;l=ex((m=l).childNodes,uG).filter(e=>"false"!==o.getContentEditable(e)&&yk(o,e,a)).map(e=>{let t=o.clone(e,!1);return d(t),o.replace(t,m,!0),o.remove(e,!0),t}).getOr(m)}CZ(e,n,r,l),CI(e,a,t,r,l),CP(o,a,r,l),CH(o,a,r,l),Cz(o,a,r,l),Ci(e,a,r,l)}})},h=uY(o)?o:s.getNode();if("false"===i.getContentEditable(h)&&!u7(e,h)){c(n,o=h),hQ(e,t,o,r);return}if(a){if(o){if(uY(o)){if(!c(n,o)){let e=i.createRng();e.setStartBefore(o),e.setEndAfter(o),u(i,hT(i,e,n),!0)}}else u(i,o,!0)}else l&&hc(a)&&!uz(e).length?yU(e,t,r):(s.setRng(wF(s.getRng())),uJ(e,()=>{uW(e,(e,t)=>{let r=t?e:hT(i,e,n);u(i,r,!1)})},ea),e.nodeChanged()),y7(e.formatter,t).each(t=>{eg(Ct(e.selection),e=>C$(i,e,t,r))});y2(t,e)}hQ(e,t,o,r)},CU=(e,t,r,o)=>{(o||e.selection.isEditable())&&Cj(e,t,r,o)},Cq=e=>eY(e,"vars"),CW=(e,t)=>{e.set({}),t.on("NodeChange",r=>{CX(t,r.element,e.get())}),t.on("FormatApply FormatRemove",r=>{let o=el.from(r.node).map(e=>uY(e)?e:e.startContainer).bind(e=>ny(e)?el.some(e):el.from(e.parentElement)).getOrThunk(()=>CK(t));CX(t,o,e.get())})},CK=e=>e.selection.getStart(),CY=(e,t,r,o,n)=>eC(t,t=>!F(e.formatter.matchNode(t,r,null!=n?n:{},o)),t=>!!yE(e,t,r)||!o&&$(e.formatter.matchNode(t,r,n,!0))),CG=(e,t)=>{let r=null!=t?t:CK(e);return eb(hr(e.dom,r),e=>ny(e)&&!n_(e))},CX=(e,t,r)=>{let o=CG(e,t);eZ(r,(r,n)=>{let a=r=>{let a=CY(e,o,n,r.similar,Cq(r)?r.vars:void 0),l=a.isSome();if(r.state.get()!==l){r.state.set(l);let e=a.getOr(t);Cq(r)?r.callback(l,{node:e,format:n,parents:o}):eg(r.callbacks,t=>t(l,{node:e,format:n,parents:o}))}};eg([r.withSimilar,r.withoutSimilar],a),eg(r.withVars,a)})},CJ=(e,t,r,o,n,a)=>{let l=t.get();eg(r.split(","),t=>{let r=eK(l,t).getOrThunk(()=>{let e={withSimilar:{state:n5(!1),similar:!0,callbacks:[]},withoutSimilar:{state:n5(!1),similar:!1,callbacks:[]},withVars:[]};return l[t]=e,e}),i=()=>{let r=CG(e);return CY(e,r,t,n,a).isSome()};if(F(a)){let e=n?r.withSimilar:r.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(i())}else r.withVars.push({state:n5(i()),similar:n,vars:a,callback:o})}),t.set(l)},CQ=(e,t,r)=>{let o=e.get();eg(t.split(","),e=>eK(o,e).each(t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:eb(t.withSimilar.callbacks,e=>e!==r)},withoutSimilar:{...t.withoutSimilar,callbacks:eb(t.withoutSimilar.callbacks,e=>e!==r)},withVars:eb(t.withVars,e=>e.callback!==r)}})),e.set(o)},C1=(e,t,r,o,n,a)=>(CJ(e,t,r,o,n,a),{unbind:()=>CQ(t,r,o)}),C0=(e,t,r,o)=>{let n=e.formatter.get(t);n&&(!yA(e,t,r,o)||"toggle"in n[0]&&!n[0].toggle?CU(e,t,r,o):CO(e,t,r,o))},C2=t4.explode,C4=()=>{let e={};return{addFilter:(t,r)=>{eg(C2(t),t=>{eY(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(r)})},getFilters:()=>eW(e),removeFilter:(t,r)=>{eg(C2(t),t=>{if(eY(e,t)){if($(r)){let o=e[t],n=eb(o.callbacks,e=>e!==r);n.length>0?o.callbacks=n:delete e[t]}else delete e[t]}})}}},C3=(e,t)=>{eg(t,t=>{e.attr(t,null)})},C5=(e,t,r)=>{e.addNodeFilter("font",e=>{eg(e,e=>{let o=t.parse(e.attr("style")),n=e.attr("color"),a=e.attr("face"),l=e.attr("size");n&&(o.color=n),a&&(o["font-family"]=a),l&&tC(l).each(e=>{o["font-size"]=r[e-1]}),e.name="span",e.attr("style",t.serialize(o)),C3(e,["color","face","size"])})})},C7=(e,t,r)=>{e.addNodeFilter("strike",e=>{let o="html4"!==t.type;eg(e,e=>{if(o)e.name="s";else{let t=r.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",r.serialize(t))}})})},C6=(e,t,r)=>{var o;let n=lT();t.convert_fonts_to_spans&&C5(e,n,t4.explode(null!==(o=t.font_size_legacy_values)&&void 0!==o?o:"")),C7(e,r,n)},C8=(e,t,r)=>{t.inline_styles&&C6(e,t,r)},C9=e=>fetch(e).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),xe=e=>{let t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},xt=e=>{let[t,...r]=e.split(","),o=r.join(","),n=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(!n)return el.none();{let e=";base64"===n[2],t=e?xe(o):decodeURIComponent(o);return el.some({type:n[1],data:t,base64Encoded:e})}},xr=(e,t,r=!0)=>{let o=t;if(r)try{o=atob(t)}catch(e){return el.none()}let n=new Uint8Array(o.length);for(let e=0;e<n.length;e++)n[e]=o.charCodeAt(e);return el.some(new Blob([n],{type:e}))},xo=e=>new Promise((t,r)=>{xt(e).bind(({type:e,data:t,base64Encoded:r})=>xr(e,t,r)).fold(()=>r("Invalid data URI"),t)}),xn=e=>tu(e,"blob:")?C9(e):tu(e,"data:")?xo(e):Promise.reject("Unknown URI format"),xa=e=>new Promise((t,r)=>{let o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;r(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)}),xl=0,xi=e=>(e||"blobid")+xl++,xs=(e,t,r)=>xt(e).bind(({data:e,type:o,base64Encoded:n})=>t&&!n?el.none():r(n?e:btoa(e),o)),xd=(e,t,r)=>{let o=e.create(xi(),t,r);return e.add(o),o},xc=(e,t,r=!1)=>xs(t,r,(t,r)=>el.from(e.getByData(t,r)).orThunk(()=>xr(r,t).map(r=>xd(e,r,t)))),xm=(e,t)=>{let r=()=>Promise.reject("Invalid data URI");if(tu(t,"blob:")){let o=e.getByUri(t);return $(o)?Promise.resolve(o):xn(t).then(t=>xa(t).then(o=>xs(o,!1,r=>el.some(xd(e,t,r))).getOrThunk(r)))}return tu(t,"data:")?xc(e,t).fold(r,e=>Promise.resolve(e)):Promise.reject("Unknown image data format")},xu=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,xh=e=>el.from(e.match(xu)).bind(e=>eD(e,1)).map(e=>tu(e,"www.")?e.substring(4):e),xf=(e,t)=>{el.from(e.attr("src")).bind(xh).forall(e=>!eu(t,e))&&e.attr("sandbox","")},xg=(e,t)=>tu(e,`${t}/`),xp=e=>F(e)?"iframe":xg(e,"image")?"img":xg(e,"video")?"video":xg(e,"audio")?"audio":"iframe",xv=({type:e,src:t,width:r,height:o}={},n,a)=>{let l=xp(e),i=new pp(l,1);return i.attr("audio"===l?{src:t}:{src:t,width:r,height:o}),("audio"===l||"video"===l)&&i.attr("controls",""),"iframe"===l&&n&&xf(i,a),i},xb=e=>$(e.attr("data-mce-bogus")),xw=e=>e.attr("src")===tQ.transparentSrc||$(e.attr("data-mce-placeholder")),xy=(e,t)=>{let{blob_cache:r}=t;if(r){let t=e=>{let t=e.attr("src");xw(e)||xb(e)||V(t)||xc(r,t,!0).each(t=>{e.attr("src",t.blobUri())})};e.addAttributeFilter("src",e=>eg(e,t))}},xC=(e,t)=>{var r,o;let n=e.schema;e.addAttributeFilter("href",e=>{let r=e.length,o=e=>e.split(" ").filter(e=>e.length>0).concat(["noopener"]).sort().join(" "),n=e=>{let t=e?t4.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)for(;r--;){let t=e[r];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",n(t.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",e=>{let t=e.length,r,o,n,a;for(;t--;)if("a"===(a=e[t]).name&&a.firstChild&&!a.attr("href"))for(n=a.parent,r=a.lastChild;r&&n;)o=r.prev,n.insert(r,a),r=o}),t.fix_list_elements&&e.addNodeFilter("ul,ol",e=>{let t=e.length,r,o;for(;t--;)if((o=(r=e[t]).parent)&&("ul"===o.name||"ol"===o.name)){if(r.prev&&"li"===r.prev.name)r.prev.append(r);else{let e=new pp("li",1);e.attr("style","list-style-type: none"),r.wrap(e)}}});let a=n.getValidClasses();t.validate&&a&&e.addAttributeFilter("class",e=>{var t;let r=e.length;for(;r--;){let o=e[r],n=null!==(t=o.attr("class"))&&void 0!==t?t:"",l=t4.explode(n," "),i="";for(let e=0;e<l.length;e++){let t=l[e],r=!1,n=a["*"];n&&n[t]&&(r=!0),n=a[o.name],!r&&n&&n[t]&&(r=!0),r&&(i&&(i+=" "),i+=t)}i.length||(i=null),o.attr("class",i)}}),xy(e,t);let l=null!==(r=t.sandbox_iframes)&&void 0!==r&&r,i=eH(null!==(o=t.sandbox_iframes_exclusions)&&void 0!==o?o:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",e=>eg(e,e=>{e.replace(xv({type:e.attr("type"),src:"object"===e.name?e.attr("data"):e.attr("src"),width:e.attr("width"),height:e.attr("height")},l,i))})),l&&e.addNodeFilter("iframe",e=>eg(e,e=>xf(e,i)))},{entries:xx,setPrototypeOf:xE,isFrozen:xS,getPrototypeOf:xk,getOwnPropertyDescriptor:x_}=Object,{freeze:xT,seal:xA,create:xN}=Object,{apply:xR,construct:xD}="undefined"!=typeof Reflect&&Reflect;xT||(xT=function(e){return e}),xA||(xA=function(e){return e}),xR||(xR=function(e,t,r){return e.apply(t,r)}),xD||(xD=function(e,t){return new e(...t)});let xM=xj(Array.prototype.forEach),xO=xj(Array.prototype.pop),xL=xj(Array.prototype.push),xB=xj(String.prototype.toLowerCase),xH=xj(String.prototype.toString),xP=xj(String.prototype.match),xz=xj(String.prototype.replace),xZ=xj(String.prototype.indexOf),xI=xj(String.prototype.trim),xF=xj(Object.prototype.hasOwnProperty),xV=xj(RegExp.prototype.test),x$=(s=TypeError,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return xD(s,t)});function xj(e){return function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return xR(e,t,o)}}function xU(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xB;xE&&xE(e,null);let o=t.length;for(;o--;){let n=t[o];if("string"==typeof n){let e=r(n);e!==n&&(xS(t)||(t[o]=e),n=e)}e[n]=!0}return e}function xq(e){let t=xN(null);for(let[r,o]of xx(e))xF(e,r)&&(Array.isArray(o)?t[r]=function(e){for(let t=0;t<e.length;t++)xF(e,t)||(e[t]=null);return e}(o):o&&"object"==typeof o&&o.constructor===Object?t[r]=xq(o):t[r]=o);return t}function xW(e,t){for(;null!==e;){let r=x_(e,t);if(r){if(r.get)return xj(r.get);if("function"==typeof r.value)return xj(r.value)}e=xk(e)}return function(){return null}}let xK=xT(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xY=xT(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xG=xT(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xX=xT(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xJ=xT(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xQ=xT(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x1=xT(["#text"]),x0=xT(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),x2=xT(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),x4=xT(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x3=xT(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),x5=xA(/\{\{[\w\W]*|[\w\W]*\}\}/gm),x7=xA(/<%[\w\W]*|[\w\W]*%>/gm),x6=xA(/\${[\w\W]*}/gm),x8=xA(/^data-[\-\w.\u00B7-\uFFFF]/),x9=xA(/^aria-[\-\w]+$/),Ee=xA(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Et=xA(/^(?:\w+script|data):/i),Er=xA(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Eo=xA(/^html$/i);var En=/*#__PURE__*/Object.freeze({__proto__:null,MUSTACHE_EXPR:x5,ERB_EXPR:x7,TMPLIT_EXPR:x6,DATA_ATTR:x8,ARIA_ATTR:x9,IS_ALLOWED_URI:Ee,IS_SCRIPT_OR_DATA:Et,ATTR_WHITESPACE:Er,DOCTYPE_NAME:Eo,CUSTOM_ELEMENT:xA(/^[a-z][.\w]*(-[.\w]+)+$/i)});let Ea={element:1,text:3,progressingInstruction:7,comment:8,document:9},El=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(r=t.getAttribute(o));let n="dompurify"+(r?"#"+r:"");try{return e.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};var Ei=function e(){let t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,o=t=>e(t);if(o.version="3.1.7",o.removed=[],!r||!r.document||r.document.nodeType!==Ea.document)return o.isSupported=!1,o;let{document:n}=r,a=n,l=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:d,Element:c,NodeFilter:m,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:g}=r,p=c.prototype,v=xW(p,"cloneNode"),b=xW(p,"remove"),w=xW(p,"nextSibling"),y=xW(p,"childNodes"),C=xW(p,"parentNode");if("function"==typeof s){let e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let x="",{implementation:E,createNodeIterator:S,createDocumentFragment:k,getElementsByTagName:_}=n,{importNode:T}=a,A={};o.isSupported="function"==typeof xx&&"function"==typeof C&&E&&void 0!==E.createHTMLDocument;let{MUSTACHE_EXPR:N,ERB_EXPR:R,TMPLIT_EXPR:D,DATA_ATTR:M,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:H}=En,{IS_ALLOWED_URI:P}=En,z=null,Z=xU({},[...xK,...xY,...xG,...xJ,...x1]),I=null,F=xU({},[...x0,...x2,...x4,...x3]),V=Object.seal(xN(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,j=null,U=!0,q=!0,W=!1,K=!0,Y=!1,G=!0,X=!1,J=!1,Q=!1,ee=!1,et=!1,er=!1,eo=!0,en=!1,ea=!0,el=!1,ei={},es=null,ed=xU({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ec=null,em=xU({},["audio","video","img","source","image","track"]),eu=null,eh=xU({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ef="http://www.w3.org/1998/Math/MathML",eg="http://www.w3.org/2000/svg",ep="http://www.w3.org/1999/xhtml",ev=ep,eb=!1,ew=null,ey=xU({},[ef,eg,ep],xH),eC=null,ex=["application/xhtml+xml","text/html"],eE=null,eS=null,ek=n.createElement("form"),e_=function(e){return e instanceof RegExp||e instanceof Function},eT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!eS||eS!==e){if(e&&"object"==typeof e||(e={}),e=xq(e),eE="application/xhtml+xml"===(eC=-1===ex.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?xH:xB,z=xF(e,"ALLOWED_TAGS")?xU({},e.ALLOWED_TAGS,eE):Z,I=xF(e,"ALLOWED_ATTR")?xU({},e.ALLOWED_ATTR,eE):F,ew=xF(e,"ALLOWED_NAMESPACES")?xU({},e.ALLOWED_NAMESPACES,xH):ey,eu=xF(e,"ADD_URI_SAFE_ATTR")?xU(xq(eh),e.ADD_URI_SAFE_ATTR,eE):eh,ec=xF(e,"ADD_DATA_URI_TAGS")?xU(xq(em),e.ADD_DATA_URI_TAGS,eE):em,es=xF(e,"FORBID_CONTENTS")?xU({},e.FORBID_CONTENTS,eE):ed,$=xF(e,"FORBID_TAGS")?xU({},e.FORBID_TAGS,eE):{},j=xF(e,"FORBID_ATTR")?xU({},e.FORBID_ATTR,eE):{},ei=!!xF(e,"USE_PROFILES")&&e.USE_PROFILES,U=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,W=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,G=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,et=e.RETURN_DOM_FRAGMENT||!1,er=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,eo=!1!==e.SANITIZE_DOM,en=e.SANITIZE_NAMED_PROPS||!1,ea=!1!==e.KEEP_CONTENT,el=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||Ee,ev=e.NAMESPACE||ep,V=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&e_(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&e_(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(q=!1),et&&(ee=!0),ei&&(z=xU({},x1),I=[],!0===ei.html&&(xU(z,xK),xU(I,x0)),!0===ei.svg&&(xU(z,xY),xU(I,x2),xU(I,x3)),!0===ei.svgFilters&&(xU(z,xG),xU(I,x2),xU(I,x3)),!0===ei.mathMl&&(xU(z,xJ),xU(I,x4),xU(I,x3))),e.ADD_TAGS&&(z===Z&&(z=xq(z)),xU(z,e.ADD_TAGS,eE)),e.ADD_ATTR&&(I===F&&(I=xq(I)),xU(I,e.ADD_ATTR,eE)),e.ADD_URI_SAFE_ATTR&&xU(eu,e.ADD_URI_SAFE_ATTR,eE),e.FORBID_CONTENTS&&(es===ed&&(es=xq(es)),xU(es,e.FORBID_CONTENTS,eE)),ea&&(z["#text"]=!0),X&&xU(z,["html","head","body"]),z.table&&(xU(z,["tbody"]),delete $.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw x$('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw x$('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=El(g,l)),null!==t&&"string"==typeof x&&(x=t.createHTML(""));xT&&xT(e),eS=e}},eA=xU({},["mi","mo","mn","ms","mtext"]),eN=xU({},["annotation-xml"]),eR=xU({},["title","style","font","a","script"]),eD=xU({},[...xY,...xG,...xX]),eM=xU({},[...xJ,...xQ]),eO=function(e){let t=C(e);t&&t.tagName||(t={namespaceURI:ev,tagName:"template"});let r=xB(e.tagName),o=xB(t.tagName);return!!ew[e.namespaceURI]&&(e.namespaceURI===eg?t.namespaceURI===ep?"svg"===r:t.namespaceURI===ef?"svg"===r&&("annotation-xml"===o||eA[o]):!!eD[r]:e.namespaceURI===ef?t.namespaceURI===ep?"math"===r:t.namespaceURI===eg?"math"===r&&eN[o]:!!eM[r]:e.namespaceURI===ep?(t.namespaceURI!==eg||!!eN[o])&&(t.namespaceURI!==ef||!!eA[o])&&!eM[r]&&(eR[r]||!eD[r]):"application/xhtml+xml"===eC&&!!ew[e.namespaceURI])},eL=function(e){xL(o.removed,{element:e});try{C(e).removeChild(e)}catch(t){b(e)}},eB=function(e,t){try{xL(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){xL(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!I[e]){if(ee||et)try{eL(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}},eH=function(e){let r=null,o=null;if(Q)e="<remove></remove>"+e;else{let t=xP(e,/^[\r\n\t ]+/);o=t&&t[0]}"application/xhtml+xml"===eC&&ev===ep&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let a=t?t.createHTML(e):e;if(ev===ep)try{r=new f().parseFromString(a,eC)}catch(e){}if(!r||!r.documentElement){r=E.createDocument(ev,"template",null);try{r.documentElement.innerHTML=eb?x:a}catch(e){}}let l=r.body||r.documentElement;return(e&&o&&l.insertBefore(n.createTextNode(o),l.childNodes[0]||null),ev===ep)?_.call(r,X?"html":"body")[0]:X?r.documentElement:l},eP=function(e){return S.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},ez=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},eZ=function(e){return"function"==typeof d&&e instanceof d},eI=function(e,t,r){A[e]&&xM(A[e],e=>{e.call(o,t,r,eS)})},eF=function(e){let t=null;if(eI("beforeSanitizeElements",e,null),ez(e))return eL(e),!0;let r=eE(e.nodeName);if(eI("uponSanitizeElement",e,{tagName:r,allowedTags:z}),e.hasChildNodes()&&!eZ(e.firstElementChild)&&xV(/<[/\w]/g,e.innerHTML)&&xV(/<[/\w]/g,e.textContent)||e.nodeType===Ea.progressingInstruction||G&&e.nodeType===Ea.comment&&xV(/<[/\w]/g,e.data))return eL(e),!0;if(!z[r]||$[r]){if(!$[r]&&e$(r)&&(V.tagNameCheck instanceof RegExp&&xV(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r)))return!1;if(ea&&!es[r]){let t=C(e)||e.parentNode,r=y(e)||e.childNodes;if(r&&t){let o=r.length;for(let n=o-1;n>=0;--n){let o=v(r[n],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,w(e))}}}return eL(e),!0}return e instanceof c&&!eO(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&xV(/<\/no(script|embed|frames)/i,e.innerHTML)?(eL(e),!0):(Y&&e.nodeType===Ea.text&&(t=e.textContent,xM([N,R,D],e=>{t=xz(t,e," ")}),e.textContent!==t&&(xL(o.removed,{element:e.cloneNode()}),e.textContent=t)),eI("afterSanitizeElements",e,null),!1)},eV=function(e,t,r){if(eo&&("id"===t||"name"===t)&&(r in n||r in ek))return!1;if(q&&!j[t]&&xV(M,t));else if(U&&xV(O,t));else if(!I[t]||j[t]){if(!(e$(e)&&(V.tagNameCheck instanceof RegExp&&xV(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&xV(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&xV(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r))))return!1}else if(eu[t]);else if(xV(P,xz(r,B,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===xZ(r,"data:")&&ec[e]);else if(W&&!xV(L,xz(r,B,"")));else if(r)return!1;return!0},e$=function(e){return"annotation-xml"!==e&&xP(e,H)},ej=function(e){eI("beforeSanitizeAttributes",e,null);let{attributes:r}=e;if(!r)return;let n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I},a=r.length;for(;a--;){let{name:l,namespaceURI:i,value:s}=r[a],d=eE(l),c="value"===l?s:xI(s),m=c;if(n.attrName=d,n.attrValue=c,n.keepAttr=!0,n.forceKeepAttr=void 0,eI("uponSanitizeAttribute",e,n),c=n.attrValue,n.forceKeepAttr)continue;if(!n.keepAttr||!K&&xV(/\/>/i,c)){eB(l,e);continue}Y&&xM([N,R,D],e=>{c=xz(c,e," ")});let u=eE(e.nodeName);if(!eV(u,d,c)||(en&&("id"===d||"name"===d)&&(eB(l,e),c="user-content-"+c),G&&xV(/((--!?|])>)|<\/(style|title)/i,c))){eB(l,e);continue}if(t&&"object"==typeof g&&"function"==typeof g.getAttributeType){if(i);else switch(g.getAttributeType(u,d)){case"TrustedHTML":c=t.createHTML(c);break;case"TrustedScriptURL":c=t.createScriptURL(c)}}if(c!==m)try{i?e.setAttributeNS(i,l,c):e.setAttribute(l,c),ez(e)?eL(e):xO(o.removed)}catch(e){}}eI("afterSanitizeAttributes",e,null)},eU=function e(t){let r=null,o=eP(t);for(eI("beforeSanitizeShadowDOM",t,null);r=o.nextNode();)eI("uponSanitizeShadowNode",r,null),eF(r)||(r.content instanceof i&&e(r.content),ej(r));eI("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,l=null,s=null,c=null;if((eb=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!eZ(e)){if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw x$("dirty is not a string, aborting")}else throw x$("toString is not a function")}if(!o.isSupported)return e;if(J||eT(r),o.removed=[],"string"==typeof e&&(el=!1),el){if(e.nodeName){let t=eE(e.nodeName);if(!z[t]||$[t])throw x$("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)(l=(n=eH("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType===Ea.element&&"BODY"===l.nodeName?n=l:"HTML"===l.nodeName?n=l:n.appendChild(l);else{if(!ee&&!Y&&!X&&-1===e.indexOf("<"))return t&&er?t.createHTML(e):e;if(!(n=eH(e)))return ee?null:er?x:""}n&&Q&&eL(n.firstChild);let m=eP(el?e:n);for(;s=m.nextNode();)eF(s)||(s.content instanceof i&&eU(s.content),ej(s));if(el)return e;if(ee){if(et)for(c=k.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(I.shadowroot||I.shadowrootmode)&&(c=T.call(a,c,!0)),c}let u=X?n.outerHTML:n.innerHTML;return X&&z["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&xV(Eo,n.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+u),Y&&xM([N,R,D],e=>{u=xz(u,e," ")}),t&&er?t.createHTML(u):u},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};eT(e),J=!0},o.clearConfig=function(){eS=null,J=!1},o.isValidAttribute=function(e,t,r){return eS||eT({}),eV(eE(e),eE(t),r)},o.addHook=function(e,t){"function"==typeof t&&(A[e]=A[e]||[],xL(A[e],t))},o.removeHook=function(e){if(A[e])return xO(A[e])},o.removeHooks=function(e){A[e]&&(A[e]=[])},o.removeAllHooks=function(){A={}},o}();let Es=t4.each,Ed=t4.trim,Ec=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Em={ftp:21,http:80,https:443,mailto:25},Eu=["img","video"],Eh=(e,t)=>$(e)?!e:!$(t)||!eu(Eu,t),Ef=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}},Eg=(e,t,r)=>{let o=Ef(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?Eh(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class Ep{static parseDataUri(e){let t;let r=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(r[0]);return o&&(t=o[1]),{type:t,data:r[1]}}static isDomSafe(e,t,r={}){return!!r.allow_script_urls||!Eg(r,aJ.decode(e).replace(/[\s\u0000-\u001F]+/g,""),t)}static getDocumentBaseUrl(e){var t;let r;return r=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(e,t={}){this.path="",this.directory="",e=Ed(e),this.settings=t;let r=t.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){o.source=e;return}let n=0===e.indexOf("//");if(0!==e.indexOf("/")||n||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){let t=r?r.path:new Ep(document.location.href).directory;if((null==r?void 0:r.protocol)==="")e="//mce_host"+o.toAbsPath(t,e);else{let n=/([^#?]*)([#?]?.*)/.exec(e);n&&(e=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(t,n[1])+n[2])}}e=e.replace(/@@/g,"(mce_at)");let a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a&&Es(Ec,(e,t)=>{let r=a[t];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[e]=r}),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),n&&(o.protocol="")}setPath(e){let t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;let t=new Ep(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();let r=this.getURI(),o=t.getURI();if(r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o)return r;let n=this.toRelPath(this.path,t.path);return t.query&&(n+="?"+t.query),t.anchor&&(n+="#"+t.anchor),n}toAbsolute(e,t){let r=new Ep(e,{base_uri:this});return r.getURI(t&&this.isSameOrigin(r))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;let t=this.protocol?Em[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let r=0,o="",n,a,l=e.substring(0,e.lastIndexOf("/")).split("/"),i=t.split("/");if(l.length>=i.length){for(n=0,a=l.length;n<a;n++)if(n>=i.length||l[n]!==i[n]){r=n+1;break}}if(l.length<i.length){for(n=0,a=i.length;n<a;n++)if(n>=l.length||l[n]!==i[n]){r=n+1;break}}if(1===r)return t;for(n=0,a=l.length-(r-1);n<a;n++)o+="../";for(n=r-1,a=i.length;n<a;n++)n!==r-1?o+="/"+i[n]:o+=i[n];return o}toAbsPath(e,t){let r,o=0,n=/\/$/.test(t)?"/":"",a=e.split("/"),l=t.split("/"),i=[];Es(a,e=>{e&&i.push(e)});let s=[];for(let e=l.length-1;e>=0;e--)if(0!==l[e].length&&"."!==l[e]){if(".."===l[e]){o++;continue}if(o>0){o--;continue}s.push(l[e])}let d=i.length-o;return 0!==(r=d<=0?eT(s).join("/"):i.slice(0,d).join("/")+"/"+eT(s).join("/")).indexOf("/")&&(r="/"+r),n&&r.lastIndexOf("/")!==r.length-1&&(r+=n),r}getURI(e=!1){let t;return(!this.source||e)&&(t="",!e&&(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}let Ev=t4.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Eb="data-mce-type",Ew=0,Ey=(e,t,r,o,n)=>{var a,l,i,s;let d=t.validate,c=r.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(a=e.nodeValue)&&void 0!==a?a:"")&&(e.nodeValue=" "+e.nodeValue);let m=null!==(l=null==n?void 0:n.tagName)&&void 0!==l?l:e.nodeName.toLowerCase();if("html"!==o&&r.isValid(o)){$(n)&&(n.allowedTags[m]=!0);return}if(1!==e.nodeType||"body"===m)return;let u=rF.fromDom(e),h=rE(u,Eb),f=rC(u,"data-mce-bogus");if(!h&&B(f)){"all"===f?o$(u):oj(u);return}let g=r.getElementRule(m);if(d&&!g){eY(c,m)?o$(u):oj(u);return}if($(n)&&(n.allowedTags[m]=!0),d&&g&&!h){if(eg(null!==(i=g.attributesForced)&&void 0!==i?i:[],e=>{rw(u,e.name,"{$uid}"===e.value?`mce_${Ew++}`:e.value)}),eg(null!==(s=g.attributesDefault)&&void 0!==s?s:[],e=>{rE(u,e.name)||rw(u,e.name,"{$uid}"===e.value?`mce_${Ew++}`:e.value)}),g.attributesRequired&&!eh(g.attributesRequired,e=>rE(u,e))||g.removeEmptyAttrs&&rk(u)){oj(u);return}g.outputName&&g.outputName!==m&&iN(u,g.outputName)}},EC=(e,t,r,o,n)=>{let a=e.tagName.toLowerCase(),{attrName:l,attrValue:i}=n;n.keepAttr=Ex(t,r,o,a,l,i),n.keepAttr?(n.allowedAttributes[l]=!0,ES(l,r)&&(n.attrValue=l),t.allow_svg_data_urls&&tu(i,"data:image/svg+xml")&&(n.forceKeepAttr=!0)):EE(e,l)&&(n.forceKeepAttr=!0)},Ex=(e,t,r,o,n,a)=>!("html"===r||ae(o))||!(n in Ev&&Eg(e,a,o))&&(!e.validate||t.isValid(o,n)||tu(n,"data-")||tu(n,"aria-")),EE=(e,t)=>e.hasAttribute(Eb)&&("id"===t||"class"===t||"style"===t),ES=(e,t)=>e in t.getBoolAttrs(),Ek=(e,t,r,o)=>{let{attributes:n}=e;for(let a=n.length-1;a>=0;a--){let l=n[a],i=l.name,s=l.value;Ex(t,r,o,e.tagName.toLowerCase(),i,s)||EE(e,i)?ES(i,r)&&e.setAttribute(i,i):e.removeAttribute(i)}},E_=(e,t,r)=>{let o=Ei();return o.addHook("uponSanitizeElement",(o,n)=>{Ey(o,e,t,r.track(o),n)}),o.addHook("uponSanitizeAttribute",(o,n)=>{EC(o,e,t,r.current(),n)}),o},ET=(e,t)=>{let r={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},EA=e=>{let t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(e=>`xlink:${e}`);Ei().sanitize(e,{IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t})},EN=(e,t)=>{let r=Ei();r.addHook("uponSanitizeElement",(e,r)=>{var o;let n=null!==(o=r.tagName)&&void 0!==o?o:e.nodeName.toLowerCase(),a=t.allow_mathml_annotation_encodings;if("annotation"===n&&z(a)&&a.length>0){let t=e.getAttribute("encoding");B(t)&&eu(a,t)&&(r.allowedTags[n]=!0)}}),r.sanitize(e,{IN_PLACE:!0,USE_PROFILES:{mathMl:!0}})},ER=e=>t=>{let r=ar(t);if("svg"===r)EA(t);else if("math"===r)EN(t,e);else throw Error("Not a namespace element")},ED=(e,t)=>{let r=an();if(!e.sanitize)return{sanitizeHtmlElement:(o,n)=>{let a;let l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);for(;a=l.nextNode();){let o=r.track(a);Ey(a,e,t,o),ny(a)&&Ek(a,e,t,o)}r.reset()},sanitizeNamespaceElement:W};{let o=E_(e,t,r);return{sanitizeHtmlElement:(t,n)=>{o.sanitize(t,ET(e,n)),o.removed=[],r.reset()},sanitizeNamespaceElement:ER(e)}}},EM=t4.makeMap,EO=t4.extend,EL=(e,t,r,o)=>{let n=e.name,a=n in r&&"title"!==n&&"textarea"!==n&&"noscript"!==n,l=t.childNodes;for(let t=0,n=l.length;t<n;t++){let n=l[t],i=new pp(n.nodeName.toLowerCase(),n.nodeType);if(ny(n)){let e=n.attributes;for(let t=0,r=e.length;t<r;t++){let r=e[t];i.attr(r.name,r.value)}ae(i.name)&&(o(n),i.value=n.innerHTML)}else nD(n)?(i.value=n.data,a&&(i.raw=!0)):(nL(n)||nM(n)||nO(n))&&(i.value=n.data);ae(i.name)||EL(i,n,r,o),e.append(i)}},EB=(e,t,r)=>{let o=[];for(let r=e,n=r;r;n=r,r=r.walk()){let a=r;eg(t,e=>e(a)),V(a.parent)&&a!==e?r=n:o.push(a)}for(let e=o.length-1;e>=0;e--){let t=o[e];eg(r,e=>e(t))}},EH=(e,t,r,o)=>{let n=r.validate,a=t.getNonEmptyElements(),l=t.getWhitespaceElements(),i=EO(EM("script,style,head,html,body,title,meta,param"),t.getBlockElements()),s=lu(t),d=/[ \t\r\n]+/g,c=/^[ \t\r\n]+/,m=/[ \t\r\n]+$/,u=e=>{let t=e.parent;for(;$(t);){if(t.name in l)return!0;t=t.parent}return!1},h=e=>{let r=e;for(;$(r);){if(r.name in s)return wM(t,a,l,r);r=r.parent}return!1},f=r=>r.name in i||ax(t,r)||ae(r.name)&&r.parent===e,g=(t,r)=>!($(r?t.prev:t.next)||V(t.parent))&&f(t.parent)&&(t.parent!==e||!0===o.isRootContent);return[e=>{var t;if(3===e.type&&!u(e)){let r=null!==(t=e.value)&&void 0!==t?t:"";r=r.replace(d," "),(wO(e.prev,f)||g(e,!0))&&(r=r.replace(c,"")),0===r.length?e.remove():" "===r&&e.prev&&8===e.prev.type&&e.next&&8===e.next.type?e.remove():e.value=r}},e=>{var i;if(1===e.type){let i=t.getElementRule(e.name);if(n&&i){let n=wM(t,a,l,e);i.paddInEmptyBlock&&n&&h(e)?wA(r,o,f,e):i.removeEmpty&&n?f(e)?e.remove():e.unwrap():i.paddEmpty&&(n||wN(e))&&wA(r,o,f,e)}}else if(3===e.type&&!u(e)){let t=null!==(i=e.value)&&void 0!==i?i:"";(e.next&&f(e.next)||g(e,!1))&&(t=t.replace(m,"")),0===t.length?e.remove():e.value=t}}]},EP=(e,t)=>{var r;let o=null!==(r=t.forced_root_block)&&void 0!==r?r:e.forced_root_block;return!1===o?"":!0===o?"p":o},Ez=(e={},t=lf())=>{let r=C4(),o=C4(),n={validate:!0,root_name:"body",sanitize:!0,...e},a=new DOMParser,l=ED(n,t),i=(e,r,o="html")=>{let n="xhtml"===o?"application/xhtml+xml":"text/html",i=eY(t.getSpecialElements(),r.toLowerCase()),s=i?`<${r}>${e}</${r}>`:e,d=a.parseFromString("xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${s}</body></html>`:/^[\s]*<head/i.test(e)||/^[\s]*<html/i.test(e)||/^[\s]*<!DOCTYPE/i.test(e)?`<html>${s}</html>`:`<body>${s}</body>`,n).body;return l.sanitizeHtmlElement(d,n),i?d.firstChild:d},s=r.addFilter,d=r.getFilters,c=r.removeFilter,m=o.addFilter,u=o.getFilters,h=o.removeFilter,f=(e,r)=>{wz(t,e)&&r.push(e)},g=(e,r)=>{let o=B(r.attr(Eb)),n=1===r.type&&!eY(e,r.name)&&!ax(t,r)&&!ae(r.name);return 3===r.type||n&&!o},p=(e,r)=>{let o=EO(EM("script,style,head,html,body,title,meta,param"),t.getBlockElements()),a=/^[ \t\r\n]+/,l=/[ \t\r\n]+$/,i=e.firstChild,s=null,d=e=>{var t,r;e&&((i=e.firstChild)&&3===i.type&&(i.value=null===(t=i.value)||void 0===t?void 0:t.replace(a,"")),(i=e.lastChild)&&3===i.type&&(i.value=null===(r=i.value)||void 0===r?void 0:r.replace(l,"")))};if(t.isValidChild(e.name,r.toLowerCase())){for(;i;){let t=i.next;g(o,i)?(s||((s=new pp(r,1)).attr(n.forced_root_block_attrs),e.insert(s,i)),s.append(i)):(d(s),s=null),i=t}d(s)}},v={schema:t,addAttributeFilter:m,getAttributeFilters:u,removeAttributeFilter:h,addNodeFilter:s,getNodeFilters:d,removeNodeFilter:c,parse:(e,r={})=>{var o;let a=n.validate,s=null!==(o=r.context)&&void 0!==o?o:n.root_name,c=i(e,s,r.format);af(t,c);let m=new pp(s,11);EL(m,c,t.getSpecialElements(),l.sanitizeNamespaceElement),c.innerHTML="";let[h,g]=EH(m,t,n,r),v=[],b={nodes:{},attributes:{}},w=e=>wS(d(),u(),e,b);if(EB(m,[h,w],[g,a?e=>f(e,v):W]),v.reverse(),a&&v.length>0){if(r.context){let{pass:e,fail:o}=ev(v,e=>e.parent===m);wH(o,t,m,w),r.invalid=e.length>0}else wH(v,t,m,w)}let y=EP(n,r);return y&&("body"===m.name||r.isRootContent)&&p(m,y),r.invalid||w_(b,r),m}};return xC(v,n),C8(v,n,t),v},EZ=e=>yf(e)?pZ({validate:!1}).serialize(e):e,EI=(e,t,r)=>{let o=EZ(e),n=t(o);if(n.isDefaultPrevented()||!yf(e))return n;if(n.content===o)return{...n,content:e};{let t=Ez({validate:!1,forced_root_block:!1,...r}).parse(n.content,{context:e.name});return{...n,content:t}}},EF=e=>({sanitize:c3(e),sandbox_iframes:mn(e),sandbox_iframes_exclusions:ma(e)}),EV=(e,t)=>{if(t.no_events)return dd.value(t);{let r=h4(e,t);return r.isDefaultPrevented()?dd.error(h3(e,{content:"",...r}).content):dd.value(r)}},E$=(e,t,r)=>r.no_events?t:EI(t,t=>h3(e,{...r,content:t}),EF(e)).content,Ej=(e,t)=>{if(t.no_events)return dd.value(t);{let r=EI(t.content,r=>h0(e,{...t,content:r}),EF(e));return r.isDefaultPrevented()?(h2(e,r),dd.error(void 0)):dd.value(r)}},EU=(e,t,r)=>{r.no_events||h2(e,{...r,content:t})},Eq=(e,t,r)=>({element:e,width:t,rows:r}),EW=(e,t)=>({element:e,cells:t}),EK=(e,t)=>({x:e,y:t}),EY=(e,t)=>rx(e,t).bind(tC).getOr(1),EG=(e,t,r,o,n)=>{let a=EY(n,"rowspan"),l=EY(n,"colspan"),i=e.rows;for(let e=r;e<r+a;e++){i[e]||(i[e]=EW(iT(o),[]));for(let o=t;o<t+l;o++)i[e].cells[o]=e===r&&o===t?n:i_(n)}},EX=(e,t,r)=>{let o=e.rows;return!!(o[r]?o[r].cells:[])[t]},EJ=(e,t,r)=>{for(;EX(e,t,r);)t++;return t},EQ=e=>ey(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),E1=(e,t)=>{let r=e.rows;for(let e=0;e<r.length;e++){let o=r[e].cells;for(let r=0;r<o.length;r++)if(rW(o[r],t))return el.some(EK(r,e))}return el.none()},E0=(e,t,r,o,n)=>{let a=[],l=e.rows;for(let e=r;e<=n;e++){let r=l[e].cells,n=t<o?r.slice(t,o+1):r.slice(o,t+1);a.push(EW(l[e].element,n))}return a},E2=(e,t,r)=>{let o=t.x,n=t.y,a=r.x,l=r.y,i=n<l?E0(e,o,n,a,l):E0(e,o,l,a,n);return Eq(e.element,EQ(i),i)},E4=(e,t)=>{let r=i_(e.element),o=rF.fromTag("tbody");return oF(o,t),oz(r,o),r},E3=e=>ef(e.rows,e=>{let t=ef(e.cells,e=>{let t=iT(e);return rS(t,"colspan"),rS(t,"rowspan"),t}),r=i_(e.element);return oF(r,t),r}),E5=e=>{let t=Eq(i_(e),0,[]);return eg(na(e,"tr"),(e,r)=>{eg(na(e,"td,th"),(o,n)=>{EG(t,EJ(t,n,r),r,e,o)})}),Eq(t.element,EQ(t.rows),t.rows)},E7=e=>E4(e,E3(e)),E6=(e,t,r)=>E1(e,t).bind(t=>E1(e,r).map(r=>E2(e,t,r))),E8=e=>ex(e,e=>"ul"===rs(e)||"ol"===rs(e)),E9=(e,t)=>ex(e,e=>"li"===rs(e)&&uj(e,t)).fold(G([]),t=>E8(e).map(e=>{let t=rF.fromTag(rs(e));return oA(t,eU(oM(e),(e,t)=>tu(t,"list-style"))),[rF.fromTag("li"),t]}).getOr([])),Se=(e,t)=>{let r=ey(t,(e,t)=>(oz(t,e),t),e);return t.length>0?fB([r]):r},St=e=>iF(e)?rQ(e).filter(iI).fold(G([]),t=>[e,t]):iI(e)?[e]:[],Sr=(e,t,r)=>{let o=rF.fromDom(t.commonAncestorContainer),n=va(o,e),a=eb(n,e=>r.isWrapper(rs(e))),l=E9(n,t);return ef(a.concat(l.length?l:St(o)),i_)},So=()=>fB([]),Sn=(e,t,r)=>Se(rF.fromDom(t.cloneContents()),Sr(e,t,r)),Sa=(e,t)=>ob(t,"table",Q(rW,e)),Sl=(e,t)=>Sa(e,t[0]).bind(e=>{let r=t[0],o=t[t.length-1];return E6(E5(e),r,o).map(e=>fB([E7(e)]))}).getOrThunk(So),Si=(e,t,r)=>t.length>0&&t[0].collapsed?So():Sn(e,t[0],r),Ss=(e,t,r)=>{let o=uP(t,e);return o.length>0?Sl(e,o):Si(e,t,r)},Sd=(e,t)=>t>=0&&t<e.length&&uR(e.charAt(t)),Sc=e=>iG(e.innerText),Sm=e=>e.map(e=>e.nodeName).getOr("div").toLowerCase(),Su=e=>el.from(e.selection.getRng()).map(t=>{var r;let o=el.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),n=e.getBody(),a=Sm(o),l=rF.fromDom(t.cloneContents());pD(l),pM(l);let i=e.dom.add(n,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},l.dom),s=Sc(i),d=iG(null!==(r=i.textContent)&&void 0!==r?r:"");if(e.dom.remove(i),!(Sd(d,0)||Sd(d,d.length-1)))return s;{let e=Sc(o.getOr(n)),t=e.indexOf(s);if(-1===t)return s;{let r=Sd(e,t-1),o=Sd(e,t+s.length);return(r?" ":"")+s+(o?" ":"")}}}).getOr(""),Sh=(e,t)=>{let r=e.selection.getRng(),o=e.dom.create("body"),n=e.selection.getSel(),a=pm(e,uM(n)),l=t.contextual?Ss(rF.fromDom(e.getBody()),a,e.schema).dom:r.cloneContents();return l&&o.appendChild(l),e.selection.serializer.serialize(o,t)},Sf=(e,t)=>{if("text"===t.format)return Su(e);{let r=Sh(e,t);return"tree"===t.format?r:e.selection.isCollapsed()?"":r}},Sg=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),Sp=(e,t,r={})=>EV(e,Sg(r,t)).fold(X,t=>{let r=Sf(e,t);return E$(e,r,t)}),Sv=(e,t)=>{let r=e.length+t.length+2,o=Array(r),n=Array(r),a=(e,t,r)=>({start:e,end:t,diag:r}),l=(r,o,n,a,i)=>{let d=s(r,o,n,a);if(null===d||d.start===o&&d.diag===o-a||d.end===r&&d.diag===r-n){let l=r,s=n;for(;l<o||s<a;)l<o&&s<a&&e[l]===t[s]?(i.push([0,e[l]]),++l,++s):o-r>a-n?(i.push([2,e[l]]),++l):(i.push([1,t[s]]),++s)}else{l(r,d.start,n,d.start-d.diag,i);for(let t=d.start;t<d.end;++t)i.push([0,e[t]]);l(d.end,o,d.end-d.diag,a,i)}},i=(r,o,n,l)=>{let i=r;for(;i-o<l&&i<n&&e[i]===t[i-o];)++i;return a(r,i,o)},s=(r,a,l,s)=>{let d,c,m,u,h;let f=a-r,g=s-l;if(0===f||0===g)return null;let p=f-g,v=g+f,b=(v%2==0?v:v+1)/2;for(d=0,o[1+b]=r,n[1+b]=a+1;d<=b;++d){for(c=-d;c<=d;c+=2){for(m=c+b,c===-d||c!==d&&o[m-1]<o[m+1]?o[m]=o[m+1]:o[m]=o[m-1]+1,h=(u=o[m])-r+l-c;u<a&&h<s&&e[u]===t[h];)o[m]=++u,++h;if(p%2!=0&&p-d<=c&&c<=p+d&&n[m-p]<=o[m])return i(n[m-p],c+r-l,a,s)}for(c=p-d;c<=p+d;c+=2){for(m=c+b-p,c===p-d||c!==p+d&&n[m+1]<=n[m-1]?n[m]=n[m+1]-1:n[m]=n[m-1],h=(u=n[m]-1)-r+l-c;u>=r&&h>=l&&e[u]===t[h];)n[m]=u--,h--;if(p%2==0&&-d<=c&&c<=d&&n[m]<=o[m+p])return i(n[m],c+r-l,a,s)}}return null},d=[];return l(0,e.length,0,t.length,d),d},Sb=e=>ny(e)?e.outerHTML:nD(e)?aJ.encodeRaw(e.data,!1):nL(e)?"\x3c!--"+e.data+"--\x3e":"",Sw=e=>{let t;let r=document.createElement("div"),o=document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)o.appendChild(t);return o},Sy=(e,t,r)=>{let o=Sw(t);if(e.hasChildNodes()&&r<e.childNodes.length){let t=e.childNodes[r];e.insertBefore(o,t)}else e.appendChild(o)},SC=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){let r=e.childNodes[t];e.removeChild(r)}},Sx=(e,t)=>{let r=0;eg(e,e=>{0===e[0]?r++:1===e[0]?(Sy(t,e[1],r),r++):2===e[0]&&SC(t,r)})},SE=(e,t)=>eb(ef(eL(e.childNodes),t?K(iG,Sb):Sb),e=>e.length>0),SS=(e,t)=>(Sx(Sv(ef(eL(t.childNodes),Sb),e),t),t),Sk=e6(()=>document.implementation.createHTMLDocument("undo")),S_=e=>null!==e.querySelector("iframe"),ST=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),SA=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),SN=e=>{let t=e.serializer.getTempAttrs(),r=pR(e.getBody(),t);return S_(r)?ST(SE(r,!0)):SA(iG(r.innerHTML))},SR=(e,t,r)=>{let o=r?t.beforeBookmark:t.bookmark;"fragmented"===t.type?SS(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!($(o)&&um(o))||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},SD=e=>"fragmented"===e.type?e.fragments.join(""):e.content,SM=e=>{let t=rF.fromTag("body",Sk());return oK(t,SD(e)),eg(na(t,"*[data-mce-bogus]"),oj),oW(t)},SO=(e,t)=>SD(e)===SD(t),SL=(e,t)=>SM(e)===SM(t),SB=(e,t)=>!!e&&!!t&&(!!SO(e,t)||SL(e,t)),SH=e=>0===e.get(),SP=(e,t,r)=>{SH(r)&&(e.typing=t)},Sz=(e,t)=>{e.typing&&(SP(e,!1,t),e.add())},SZ=e=>{e.typing&&(e.typing=!1,e.add())},SI=(e,t,r)=>{SH(t)&&r.set(ds(e.selection))},SF=(e,t,r,o,n,a,l)=>{let i=SN(e),s=t4.extend(a||{},i);if(!SH(o)||e.removed)return null;let d=t.data[r.get()];if(e.dispatch("BeforeAddUndo",{level:s,lastLevel:d,originalEvent:l}).isDefaultPrevented()||d&&SB(d,s))return null;t.data[r.get()]&&n.get().each(e=>{t.data[r.get()].beforeBookmark=e});let c=cC(e);if(c&&t.data.length>c){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,r.set(t.data.length)}s.bookmark=ds(e.selection),r.get()<t.data.length-1&&(t.data.length=r.get()+1),t.data.push(s),r.set(t.data.length-1);let m={level:s,lastLevel:d,originalEvent:l};return r.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",m),e.dispatch("change",m)):e.dispatch("AddUndo",m),s},SV=(e,t,r)=>{t.data=[],r.set(0),t.typing=!1,e.dispatch("ClearUndos")},S$=(e,t,r,o,n)=>{if(t.transact(o)){let o=t.data[r.get()].bookmark;SR(e,t.data[r.get()-1],!0),t.transact(n)&&(t.data[r.get()-1].beforeBookmark=o)}},Sj=(e,t,r)=>{let o;return t.get()<r.length-1&&(t.set(t.get()+1),SR(e,o=r[t.get()],!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o},SU=(e,t,r,o)=>{let n;return t.typing&&(t.add(),t.typing=!1,SP(t,!1,r)),o.get()>0&&(o.set(o.get()-1),SR(e,n=t.data[o.get()],!0),e.setDirty(!0),e.dispatch("Undo",{level:n})),n},Sq=e=>{e.clear(),e.add()},SW=(e,t,r)=>r.get()>0||t.typing&&t.data[0]&&!SB(SN(e),t.data[0]),SK=(e,t)=>t.get()<e.data.length-1&&!e.typing,SY=(e,t,r)=>(Sz(e,t),e.beforeChange(),e.ignore(r),e.add()),SG=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},SX=(e,t)=>{let r=e.dom,o=$(t)?t:e.getBody();eg(r.select("table,a",o),t=>{switch(t.nodeName){case"TABLE":let o=cR(e),n=r.getAttrib(t,"border");(!n||"0"===n)&&e.hasVisual?r.addClass(t,o):r.removeClass(t,o);break;case"A":if(!r.getAttrib(t,"href")){let o=r.getAttrib(t,"name")||t.id,n=cD(e);o&&e.hasVisual?r.addClass(t,n):r.removeClass(t,n)}}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},SJ=e=>({init:{bindEvents:W},undoManager:{beforeChange:(t,r)=>SI(e,t,r),add:(t,r,o,n,a,l)=>SF(e,t,r,o,n,a,l),undo:(t,r,o)=>SU(e,t,r,o),redo:(t,r)=>Sj(e,t,r),clear:(t,r)=>SV(e,t,r),reset:e=>Sq(e),hasUndo:(t,r)=>SW(e,t,r),hasRedo:(e,t)=>SK(e,t),transact:(e,t,r)=>SY(e,t,r),ignore:(e,t)=>SG(e,t),extra:(t,r,o,n)=>S$(e,t,r,o,n)},formatter:{match:(t,r,o,n)=>yA(e,t,r,o,n),matchAll:(t,r)=>yN(e,t,r),matchNode:(t,r,o,n)=>yT(e,t,r,o,n),canApply:t=>yD(e,t),closest:t=>yR(e,t),apply:(t,r,o)=>CU(e,t,r,o),remove:(t,r,o,n)=>CO(e,t,r,o,n),toggle:(t,r,o)=>C0(e,t,r,o),formatChanged:(t,r,o,n,a)=>C1(e,t,r,o,n,a)},editor:{getContent:t=>pH(e,t),setContent:(t,r)=>yw(e,t,r),insertContent:(t,r)=>yh(e,t,r),addVisual:t=>SX(e,t)},selection:{getContent:(t,r)=>Sp(e,t,r)},autocompleter:{addDecoration:W,removeDecoration:W},raw:{getModel:()=>el.none()}}),SQ=e=>{let t=e=>H(e)?e:{},{init:r,undoManager:o,formatter:n,editor:a,selection:l,autocompleter:i,raw:s}=e;return{init:{bindEvents:r.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,r)=>o.transact(r),ignore:(e,t)=>o.ignore(t),extra:(e,t,r,n)=>o.extra(r,n)},formatter:{match:(e,r,o,a)=>n.match(e,t(r),a),matchAll:n.matchAll,matchNode:n.matchNode,canApply:e=>n.canApply(e),closest:e=>n.closest(e),apply:(e,r,o)=>n.apply(e,t(r)),remove:(e,r,o,a)=>n.remove(e,t(r)),toggle:(e,r,o)=>n.toggle(e,t(r)),formatChanged:(e,t,r,o,a)=>n.formatChanged(t,r,o,a)},editor:{getContent:e=>a.getContent(e),setContent:(e,t)=>({content:a.setContent(e,t),html:""}),insertContent:(e,t)=>(a.insertContent(e),""),addVisual:a.addVisual},selection:{getContent:(e,t)=>l.getContent(t)},autocompleter:{addDecoration:i.addDecoration,removeDecoration:i.removeDecoration},raw:{getModel:()=>el.some(s.getRawModel())}}},S1=()=>{let e=G(null),t=G("");return{init:{bindEvents:W},undoManager:{beforeChange:W,add:e,undo:e,redo:e,clear:W,reset:W,hasUndo:en,hasRedo:en,transact:e,ignore:W,extra:W},formatter:{match:en,matchAll:G([]),matchNode:G(void 0),canApply:en,closest:t,apply:W,remove:W,toggle:W,formatChanged:G({unbind:W})},editor:{getContent:t,setContent:G({content:"",html:""}),insertContent:G(""),addVisual:W},selection:{getContent:t},autocompleter:{addDecoration:W,removeDecoration:W},raw:{getModel:G(el.none())}}},S0=e=>eY(e.plugins,"rtc"),S2=e=>eK(e.plugins,"rtc").bind(e=>el.from(e.setup)),S4=e=>S2(e).fold(()=>(e.rtcInstance=SJ(e),el.none()),t=>(e.rtcInstance=S1(),el.some(()=>t().then(t=>(e.rtcInstance=SQ(t),t.rtc.isRemote))))),S3=e=>e.rtcInstance?e.rtcInstance:SJ(e),S5=e=>{let t=e.rtcInstance;if(t)return t;throw Error("Failed to get RTC instance not yet initialized.")},S7=(e,t,r)=>{S5(e).undoManager.beforeChange(t,r)},S6=(e,t,r,o,n,a,l)=>S5(e).undoManager.add(t,r,o,n,a,l),S8=(e,t,r,o)=>S5(e).undoManager.undo(t,r,o),S9=(e,t,r)=>S5(e).undoManager.redo(t,r),ke=(e,t,r)=>{S5(e).undoManager.clear(t,r)},kt=(e,t)=>{S5(e).undoManager.reset(t)},kr=(e,t,r)=>S5(e).undoManager.hasUndo(t,r),ko=(e,t,r)=>S5(e).undoManager.hasRedo(t,r),kn=(e,t,r,o)=>S5(e).undoManager.transact(t,r,o),ka=(e,t,r)=>{S5(e).undoManager.ignore(t,r)},kl=(e,t,r,o,n)=>{S5(e).undoManager.extra(t,r,o,n)},ki=(e,t,r,o,n)=>S5(e).formatter.match(t,r,o,n),ks=(e,t,r)=>S5(e).formatter.matchAll(t,r),kd=(e,t,r,o,n)=>S5(e).formatter.matchNode(t,r,o,n),kc=(e,t)=>S5(e).formatter.canApply(t),km=(e,t)=>S5(e).formatter.closest(t),ku=(e,t,r,o)=>{S5(e).formatter.apply(t,r,o)},kh=(e,t,r,o,n)=>{S5(e).formatter.remove(t,r,o,n)},kf=(e,t,r,o)=>{S5(e).formatter.toggle(t,r,o)},kg=(e,t,r,o,n,a)=>S5(e).formatter.formatChanged(t,r,o,n,a),kp=(e,t)=>S3(e).editor.getContent(t),kv=(e,t,r)=>S3(e).editor.setContent(t,r),kb=(e,t,r)=>S3(e).editor.insertContent(t,r),kw=(e,t,r)=>S5(e).selection.getContent(t,r),ky=(e,t)=>S5(e).editor.addVisual(t),kC=e=>S5(e).init.bindEvents(),kx=(e,t={})=>kw(e,t.format?t.format:"html",t),kE=e=>0===e.dom.length?(o$(e),el.none()):el.some(e),kS=(e,t)=>e.filter(e=>hZ.isBookmarkNode(e.dom)).bind(t?r3:r4),kk=(e,t,r,o,n)=>{let a=e.dom,l=t.dom,i=o?a.length:l.length;o?(vX(a,l,n,!1,!o),r.setStart(l,i)):(vX(l,a,n,!1,!o),r.setEnd(l,i))},k_=(e,t,r)=>{rQ(e).each(o=>{let n=e.dom;t&&vB(o,sI(n,0),r)?vY(n,0,r):!t&&vP(o,sI(n,n.length),r)&&vG(n,n.length,r)})},kT=(e,t,r,o,n)=>{e.bind(e=>((o?vG:vY)(e.dom,o?e.dom.length:0,n),t.filter(rf).map(t=>kk(e,t,r,o,n)))).orThunk(()=>kS(t,o).or(t).filter(rf).map(e=>k_(e,o,n)))},kA=(e,t,r)=>{let o=el.from(t.firstChild).map(rF.fromDom),n=el.from(t.lastChild).map(rF.fromDom);e.deleteContents(),e.insertNode(t);let a=o.bind(r4).filter(rf).bind(kE),l=n.bind(r3).filter(rf).bind(kE);kT(a,o,e,!0,r),kT(l,n,e,!1,r),e.collapse(!1)},kN=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),kR=(e,t)=>{if("raw"===t.format)return t.content;{let r=e.selection.getRng(),o=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock),n=o?{context:o.nodeName.toLowerCase()}:{},a=e.parser.parse(t.content,{forced_root_block:!1,...n,...t});return pZ({validate:!1},e.schema).serialize(a)}},kD=(e,t,r={})=>{Ej(e,kN(r,t)).each(t=>{let r=kR(e,t),o=e.selection.getRng();kA(o,o.createContextualFragment(r),e.schema),e.selection.setRng(o),gv(e,o),EU(e,r,t)})},kM=(e,t,r)=>{if(eY(e,t)){let o=eb(e[t],e=>e!==r);0===o.length?delete e[t]:e[t]=o}};var kO=(e,t)=>{let r,o;let n=(t,r)=>ex(r,r=>e.is(r,t)),a=t=>e.getParents(t,void 0,e.getRoot()),l=()=>{r={},o={},t.on("NodeChange",e=>{let t=e.element,l=a(t),i={};eZ(r,(e,t)=>{n(t,l).each(r=>{o[t]||(eg(e,e=>{e(!0,{node:r,selector:t,parents:l})}),o[t]=e),i[t]=e})}),eZ(o,(e,r)=>{i[r]||(delete o[r],eg(e,e=>{e(!1,{node:t,selector:r,parents:l})}))})})};return{selectorChangedWithUnbind:(e,i)=>(r||l(),r[e]||(r[e]=[]),r[e].push(i),n(e,a(t.selection.getStart())).each(()=>{o[e]=r[e]}),{unbind:()=>{kM(r,e,i),kM(o,e,i)}})}};let kL=e=>!!(e&&e.ownerDocument)&&rK(rF.fromDom(e.ownerDocument),rF.fromDom(e)),kB=e=>!!e&&kL(e.startContainer)&&kL(e.endContainer),kH=(e,t,r,o)=>{let n,a;let{selectorChangedWithUnbind:l}=kO(e,o),i=(e,t)=>kD(o,e,t),s=e=>{let t=c();t.collapse(!!e),m(t)},d=()=>t.getSelection?t.getSelection():t.document.selection,c=()=>{let r;let l=(e,t,r)=>{try{return t.compareBoundaryPoints(e,r)}catch(e){return -1}},i=t.document;if($(o.bookmark)&&!g8(o)){let e=gO(o);if(e.isSome())return e.map(e=>pm(o,[e])[0]).getOr(i.createRange())}try{let e=d();e&&!nw(e.anchorNode)&&(r=e.rangeCount>0?e.getRangeAt(0):i.createRange(),r=pm(o,[r])[0])}catch(e){}if(r||(r=i.createRange()),nB(r.startContainer)&&r.collapsed){let t=e.getRoot();r.setStart(t,0),r.setEnd(t,0)}return n&&a&&(0===l(r.START_TO_START,r,n)&&0===l(r.END_TO_END,r,n)?r=a:(n=null,a=null)),r},m=(e,t)=>{if(!kB(e))return;let r=d();if(e=o.dispatch("SetSelectionRange",{range:e,forward:t}).range,r){a=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),n=r.rangeCount>0?r.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==r?void 0:r.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){let t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),(r.anchorNode!==e.startContainer||r.focusNode!==e.endContainer)&&r.setBaseAndExtent(t,0,t,1))}o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},u=()=>{let t=d(),r=null==t?void 0:t.anchorNode,o=null==t?void 0:t.focusNode;if(!t||!r||!o||nw(r)||nw(o))return!0;let n=e.createRng(),a=e.createRng();try{n.setStart(r,t.anchorOffset),n.collapse(!0),a.setStart(o,t.focusOffset),a.collapse(!0)}catch(e){return!0}return 0>=n.compareBoundaryPoints(n.START_TO_START,a)},h={dom:e,win:t,serializer:r,editor:o,expand:(t={type:"word"})=>m(fJ(e).expand(c(),t)),collapse:s,setCursorLocation:(t,r)=>{let n=e.createRng();$(t)&&$(r)?(n.setStart(t,r),n.setEnd(t,r),m(n),s(!1)):(uU(e,n,o.getBody(),!0),m(n))},getContent:e=>kx(o,e),setContent:i,getBookmark:(e,t)=>f.getBookmark(e,t),moveToBookmark:e=>f.moveToBookmark(e),select:(t,r)=>(pc(e,t,r).each(m),t),isCollapsed:()=>{let e=c(),t=d();return!!e&&!e.item&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{if(o.mode.isReadOnly())return!1;let t=c(),r=o.getBody().querySelectorAll('[data-mce-selected="1"]');return r.length>0?e_(r,t=>e.isEditable(t.parentElement)):po(e,t)},isForward:u,setNode:t=>(i(e.getOuterHTML(t)),t),getNode:()=>ps(o.getBody(),c()),getSel:d,setRng:m,getRng:c,getStart:e=>pa(o.getBody(),c(),e),getEnd:e=>pl(o.getBody(),c(),e),getSelectedBlocks:(t,r)=>pd(e,c(),t,r),normalize:()=>{let t=c();if(!uL(d())&&uq(o)){let r=fY(e,t);return r.each(e=>{m(e,u())}),r.getOr(t)}return t},selectorChanged:(e,t)=>(l(e,t),h),selectorChangedWithUnbind:l,getScrollContainer:()=>{let t;let r=e.getRoot();for(;r&&"BODY"!==r.nodeName;){if(r.scrollHeight>r.clientHeight){t=r;break}r=r.parentNode}return t},scrollIntoView:(e,t)=>{$(e)?gp(o,e,t):gv(o,c(),t)},placeCaretAt:(e,t)=>m(fz(e,t,o.getDoc())),getBoundingClientRect:()=>{let e=c();return e.collapsed?sI.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=n=a=null,g.destroy()}},f=hZ(h),g=fd(h,o);return h.bookmarkManager=f,h.controlSelection=g,h},kP=(e,t,r)=>{t.addNodeFilter("br",(t,o,n)=>{let a=t4.extend({},r.getBlockElements()),l=r.getNonEmptyElements(),i=r.getWhitespaceElements();a.body=1;let s=e=>e.name in a||ax(r,e);for(let o=0,d=t.length;o<d;o++){let d=t[o],c=d.parent;if(c&&s(c)&&d===c.lastChild){let t=d.prev;for(;t;){let e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(d=null);break}t=t.prev}if(d&&(d.remove(),wM(r,l,i,c))){let t=r.getElementRule(c.name);t&&(t.removeEmpty?c.remove():t.paddEmpty&&wA(e,n,s,c))}}else{let e=d;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!a[c.name]);)c=c.parent;if(e===c){let e=new pp("#text",3);e.value="",d.replace(e)}}}})},kz=(e,t,r)=>{e.addAttributeFilter("data-mce-tabindex",(e,t)=>{let r=e.length;for(;r--;){let o=e[r];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}}),e.addAttributeFilter("src,href,style",(e,o)=>{let n="data-mce-"+o,a=t.url_converter,l=t.url_converter_scope,i=e.length;for(;i--;){let t=e[i],s=t.attr(n);void 0!==s?(t.attr(o,s.length>0?s:null),t.attr(n,null)):(s=t.attr(o),"style"===o?s=r.serializeStyle(r.parseStyle(s),t.name):a&&(s=a.call(l,s,o,t.name)),t.attr(o,s.length>0?s:null))}}),e.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){let r=e[t],o=r.attr("class");o&&(o=o.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",o.length>0?o:null))}}),e.addAttributeFilter("data-mce-type",(e,t,r)=>{let o=e.length;for(;o--;){let t=e[o];"bookmark"!==t.attr("data-mce-type")||r.cleanup||(el.from(t.firstChild).exists(e=>{var t;return!nc(null!==(t=e.value)&&void 0!==t?t:"")})?t.unwrap():t.remove())}}),e.addNodeFilter("script,style",(e,r)=>{var o;let n=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,""),a=e.length;for(;a--;){let l=e[a],i=l.firstChild,s=null!==(o=null==i?void 0:i.value)&&void 0!==o?o:"";if("script"===r){let e=l.attr("type");e&&l.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&i&&s.length>0&&(i.value="// <![CDATA[\n"+n(s)+"\n// ]]>")}else"xhtml"===t.element_format&&i&&s.length>0&&(i.value="\x3c!--\n"+n(s)+"\n--\x3e")}}),e.addNodeFilter("#comment",e=>{let o=e.length;for(;o--;){let n=e[o],a=n.value;t.preserve_cdata&&(null==a?void 0:a.indexOf("[CDATA["))===0?(n.name="#cdata",n.type=4,n.value=r.decode(a.replace(/^\[CDATA\[|\]\]$/g,""))):(null==a?void 0:a.indexOf("mce:protected "))===0&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(a).substr(14))}}),e.addNodeFilter("xml:namespace,input",(e,t)=>{let r=e.length;for(;r--;){let o=e[r];7===o.type?o.remove():1!==o.type||"input"!==t||o.attr("type")||o.attr("type","text")}}),e.addAttributeFilter("data-mce-type",t=>{eg(t,t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}),t.remove_trailing_brs&&kP(t,e,e.schema)},kZ=e=>{let t=e=>(null==e?void 0:e.name)==="br",r=e.lastChild;if(t(r)){let e=r.prev;t(e)&&(r.remove(),e.remove())}},kI=(e,t,r)=>{let o;let n=e.dom,a=t.cloneNode(!0),l=document.implementation;if(l.createHTMLDocument){let e=l.createHTMLDocument("");t4.each("BODY"===a.nodeName?a.childNodes:[a],t=>{e.body.appendChild(e.importNode(t,!0))}),a="BODY"!==a.nodeName?e.body.firstChild:e.body,o=n.doc,n.doc=e}return hF(e,{...r,node:a}),o&&(n.doc=o),a},kF=(e,t)=>$(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,kV=(e,t,r)=>kF(e,r)?kI(e,t,r):t,k$=(e,t,r)=>{-1===t4.inArray(t,r)&&(e.addAttributeFilter(r,(e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}),t.push(r))},kj=(e,t,r)=>!t.no_events&&e?hV(e,{...t,content:r}).content:r,kU=(e,t,r)=>{let o=iG(r.getInner?t.innerHTML:e.getOuterHTML(t));return r.selection||ij(rF.fromDom(t))?o:t4.trim(o)},kq=(e,t,r)=>{let o=r.selection?{forced_root_block:!1,...r}:r,n=e.parse(t,o);return kZ(n),n},kW=(e,t,r)=>pZ(e,t).serialize(r),kK=(e,t,r,o,n)=>kj(e,n,kW(t,r,o)),kY=(e,t)=>{let r=["data-mce-selected"],o={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},n=t&&t.dom?t.dom:lJ.DOM,a=t&&t.schema?t.schema:lf(o),l=Ez(o,a);return kz(l,o,n),{schema:a,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:(e,r={})=>{let i={format:"html",...r},s=kq(l,kU(n,kV(t,e,i),i),i);return"tree"===i.format?s:kK(t,o,a,s,i)},addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:Q(k$,l,r),getTempAttrs:G(r),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter}},kG=(e,t)=>{let r=kY(e,t);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}},kX=(e,t)=>({...e,format:t,get:!0,getInner:!0}),kJ=(e,t={})=>{let r=t.format?t.format:"html";return EV(e,kX(t,r)).fold(X,t=>{let r=kp(e,t);return E$(e,r,t)})},kQ=(e,t)=>({format:"html",...e,set:!0,content:t}),k1=(e,t,r={})=>Ej(e,kQ(r,t)).map(t=>{let r=kv(e,t.content,t);return EU(e,r.html,t),r.content}).getOr(t),k0="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),k2=[],k4="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),k3=[],k5=(e,t)=>eR(eb(t,t=>eY(e,t))),k7=e=>{let t=k5(e,k0),r=e.forced_root_block;return(!1===r||""===r)&&t.push("forced_root_block (false only)"),eR(t)},k6=e=>k5(e,k2),k8=(e,t)=>{let r=t4.makeMap(e.plugins," ");return eR(eb(t,e=>eY(r,e)))},k9=e=>k8(e,k4),_e=e=>k8(e,k3.map(e=>e.name)),_t=(e,t)=>{let r=k7(e),o=k9(t),n=o.length>0,a=r.length>0,l="mobile"===t.theme;(n||a||l)&&console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+(l?`

Themes:
- mobile`:"")+(n?`

Plugins:
- ${o.join("\n- ")}`:"")+(a?`

Options:
- ${r.join("\n- ")}`:""))},_r=e=>ex(k3,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),_o=(e,t)=>{let r=k6(e),o=_e(t),n=o.length>0,a=r.length>0;(n||a)&&console.warn("The following deprecated features are currently enabled but will be removed soon."+(n?`

Plugins:
- ${o.map(_r).join("\n- ")}`:"")+(a?`

Options:
- ${r.join("\n- ")}`:""))},_n=(e,t)=>{_t(e,t),_o(e,t)},_a=lJ.DOM,_l=e=>{_a.setStyle(e.id,"display",e.orgDisplay)},_i=e=>el.from(e).each(e=>e.destroy()),_s=e=>{e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null;let t=e.selection;if(t){let r=t.dom;e.selection=t.win=t.dom=r.doc=null}},_d=e=>{let t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),_a.unbind(t,"submit reset",e.formEventDelegate))},_c=e=>{if(!e.removed){let{_selectionOverrides:t,editorUpload:r}=e,o=e.getBody(),n=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&$(null==n?void 0:n.nextSibling)&&_a.remove(n.nextSibling),h$(e),e.editorManager.remove(e),!e.inline&&o&&_l(e),hj(e),_a.remove(e.getContainer()),_i(t),_i(r),e.destroy()}},_m=(e,t)=>{let{selection:r,dom:o}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),_i(r),_i(o)),_d(e),_s(e),e.destroyed=!0}},_u=(()=>{let e={};return{add:(t,r)=>{e[t]=r},get:t=>e[t]?e[t]:{icons:{}},has:t=>eY(e,t)}})(),_h=l8.ModelManager,_f=(e,t)=>t.dom[e],_g=(e,t)=>parseInt(oN(t,e),10),_p=Q(_f,"clientWidth"),_v=Q(_f,"clientHeight"),_b=Q(_g,"margin-top"),_w=Q(_g,"margin-left"),_y=e=>e.dom.getBoundingClientRect(),_C=(e,t,r)=>{let o=_p(e),n=_v(e);return t>=0&&r>=0&&t<=o&&r<=n},_x=(e,t,r,o)=>{let n=_y(t);return{x:r-(e?n.left+t.dom.clientLeft+_w(t):0),y:o-(e?n.top+t.dom.clientTop+_b(t):0)}},_E=(e,t,r)=>{let o=rF.fromDom(e.getBody()),n=e.inline?o:rX(o),a=_x(e.inline,n,t,r);return _C(n,a.x,a.y)},_S=e=>el.from(e).map(rF.fromDom),_k=e=>_S(e.inline?e.getBody():e.getContentAreaContainer()).map(om).getOr(!1);var __=()=>{let e=()=>{throw Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};let _T=e=>{let t=[],r=()=>{let t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():__()},o=()=>el.from(t[0]),n=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout,a=()=>{o().each(e=>{e.reposition()})},l=e=>{t.push(e)},i=e=>{eE(t,t=>t===e).each(e=>{t.splice(e,1)})},s=(o,s=!0)=>e.removed||!_k(e)?{}:(s&&e.dispatch("BeforeOpenNotification",{notification:o}),ex(t,e=>n(r().getArgs(e),o)).getOrThunk(()=>{e.editorManager.setActive(e);let t=r().open(o,()=>{i(t)},()=>g9(e));return l(t),a(),e.dispatch("OpenNotification",{notification:{...t}}),t})),d=G(t);return e.on("SkinLoaded",()=>{let t=ca(e);t&&s({text:t,type:"warning",timeout:0},!1),a()}),e.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(a)}),e.on("remove",()=>{eg(t.slice(),e=>{r().close(e)})}),e.on("keydown",e=>{var t;let r=(null===(t=e.key)||void 0===t?void 0:t.toLowerCase())==="f12"||123===e.keyCode;e.altKey&&r&&(e.preventDefault(),o().map(e=>rF.fromDom(e.getEl())).each(e=>gb(e)))}),{open:s,close:()=>{o().each(e=>{r().close(e),i(e),a()})},getNotifications:d}},_A=l8.PluginManager,_N=l8.ThemeManager;var _R=()=>{let e=()=>{throw Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};let _D=e=>{let t=[],r=()=>{let t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():_R()},o=(e,t)=>(...r)=>t?t.apply(e,r):void 0,n=t=>{e.dispatch("OpenWindow",{dialog:t})},a=t=>{e.dispatch("CloseWindow",{dialog:t})},l=e=>{t.push(e),n(e)},i=r=>{a(r),0===(t=eb(t,e=>e!==r)).length&&e.focus()},s=()=>el.from(t[t.length-1]),d=t=>{e.editorManager.setActive(e),gM(e),e.ui.show();let r=t();return l(r),r};return e.on("remove",()=>{eg(t,e=>{r().close(e)})}),{open:(e,t)=>d(()=>r().open(e,t,i)),openUrl:e=>d(()=>r().openUrl(e,i)),alert:(e,t,n)=>{let a=r();a.alert(e,o(n||a,t))},confirm:(e,t,n)=>{let a=r();a.confirm(e,o(n||a,t))},close:()=>{s().each(e=>{r().close(e),i(e)})}}},_M=(e,t)=>{e.notificationManager.open({type:"error",text:t})},_O=(e,t)=>{e._skinLoaded?_M(e,t):e.on("SkinLoaded",()=>{_M(e,t)})},_L=(e,t)=>{_O(e,l6.translate(["Failed to upload image: {0}",t]))},_B=(e,t,r)=>{hJ(e,t,{message:r}),console.error(r)},_H=(e,t,r)=>r?`Failed to load ${e}: ${r} from url ${t}`:`Failed to load ${e} url: ${t}`,_P=(e,t,r)=>{_B(e,"PluginLoadError",_H("plugin",t,r))},_z=(e,t,r)=>{_B(e,"IconsLoadError",_H("icons",t,r))},_Z=(e,t,r)=>{_B(e,"LanguageLoadError",_H("language",t,r))},_I=(e,t,r)=>{_B(e,"ThemeLoadError",_H("theme",t,r))},_F=(e,t,r)=>{_B(e,"ModelLoadError",_H("model",t,r))},_V=(e,t,r)=>{let o=l6.translate(["Failed to initialize plugin: {0}",t]);hJ(e,"PluginLoadError",{message:o}),_$(o,r),_O(e,o)},_$=(e,...t)=>{let r=window.console;r&&(r.error?r.error(e,...t):r.log(e,...t))},_j=e=>/^[a-z0-9\-]+$/i.test(e),_U=e=>"content/"+e+"/content.css",_q=e=>tinymce.Resource.has(_U(e)),_W=e=>_Y(e,d7(e)),_K=e=>_Y(e,d8(e)),_Y=(e,t)=>{let r=e.editorManager.baseURL+"/skins/content",o=e.editorManager.suffix,n=`content${o}.css`;return ef(t,t=>_q(t)?t:_j(t)&&!e.inline?`${r}/${t}/${n}`:e.documentBaseURI.toAbsolute(t))},_G=e=>{e.contentCSS=e.contentCSS.concat(_W(e),_K(e))},_X=e=>e?eL(e.getElementsByTagName("img")):[],_J=(e,t)=>{let r={};return{findAll:(o,n=ea)=>Promise.all(ef(eb(_X(o),t=>{let r=t.src;return!(t.hasAttribute("data-mce-bogus")||t.hasAttribute("data-mce-placeholder"))&&!!r&&r!==tQ.transparentSrc&&(tu(r,"blob:")?!e.isUploaded(r)&&n(t):!!tu(r,"data:")&&n(t))}),e=>{let o=e.src;if(eY(r,o))return r[o].then(t=>B(t)?t:{image:e,blobInfo:t.blobInfo});{let n=xm(t,o).then(t=>(delete r[o],{image:e,blobInfo:t})).catch(e=>(delete r[o],e));return r[o]=n,n}}))}},_Q=()=>{let e={},t=(e,t)=>({status:e,resultUri:t}),r=t=>t in e;return{hasBlobUri:r,getResultUri:t=>{let r=e[t];return r?r.resultUri:null},isPending:t=>!!r(t)&&1===e[t].status,isUploaded:t=>!!r(t)&&2===e[t].status,markPending:r=>{e[r]=t(1,null)},markUploaded:(r,o)=>{e[r]=t(2,o)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}},_1=0,_0=()=>{let e=()=>Math.round(0xffffffff*iy()).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},_2=e=>e+_1+++_0(),_4=()=>{let e=[],t=e=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[e.toLowerCase()]||"dat",r=e=>{if(!e.blob||!e.base64)throw Error("blob and base64 representations of the image are required for BlobInfo to be created");let r=e.id||_2("blobid"),o=e.name||r,n=e.blob;return{id:G(r),name:G(o),filename:G(e.filename||o+"."+t(n.type)),blob:G(n),base64:G(e.base64),blobUri:G(e.blobUri||URL.createObjectURL(n)),uri:G(e.uri)}},o=t=>ex(e,t).getOrUndefined(),n=e=>o(t=>t.id()===e);return{create:(e,t,o,n,a)=>{if(B(e))return r({id:e,name:n,filename:a,blob:t,base64:o});if(H(e))return r(e);throw Error("Unknown input type")},add:t=>{n(t.id())||e.push(t)},get:n,getByUri:e=>o(t=>t.blobUri()===e),getByData:(e,t)=>o(r=>r.base64()===e&&r.blob().type===t),findFirst:o,removeByUri:t=>{e=eb(e,e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1))},destroy:()=>{eg(e,e=>{URL.revokeObjectURL(e.blobUri())}),e=[]}}},_3=(e,t)=>{let r={},o=(e,t)=>e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t,n=(e,r)=>new Promise((n,a)=>{let l=new XMLHttpRequest;l.open("POST",t.url),l.withCredentials=t.credentials,l.upload.onprogress=e=>{r(e.loaded/e.total*100)},l.onerror=()=>{a("Image upload failed due to a XHR Transport error. Code: "+l.status)},l.onload=()=>{if(l.status<200||l.status>=300){a("HTTP Error: "+l.status);return}let e=JSON.parse(l.responseText);if(!e||!B(e.location)){a("Invalid JSON: "+l.responseText);return}n(o(t.basePath,e.location))};let i=new FormData;i.append("file",e.blob(),e.filename()),l.send(i)}),a=j(t.handler)?t.handler:n,l=()=>new Promise(e=>{e([])}),i=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),d=(e,t)=>{t4.each(r[e],e=>{e(t)}),delete r[e]},c=(t,r,o)=>(e.markPending(t.blobUri()),new Promise(n=>{let a,l;try{let c=()=>{a&&(a.close(),l=W)},m=r=>{c(),e.removeFailed(t.blobUri()),d(t.blobUri(),s(t,r)),n(s(t,r))};l=e=>{e<0||e>100||el.from(a).orThunk(()=>el.from(o).map(er)).each(t=>{a=t,t.progressBar.value(e)})},r(t,l).then(r=>{c(),e.markUploaded(t.blobUri(),r),d(t.blobUri(),i(t,r)),n(i(t,r))},e=>{m(B(e)?{message:e}:e)})}catch(e){n(s(t,e))}})),m=e=>e===n,u=e=>{let t=e.blobUri();return new Promise(e=>{r[t]=r[t]||[],r[t].push(e)})},h=(t,r)=>(t=t4.grep(t,t=>!e.isUploaded(t.blobUri())),Promise.all(t4.map(t,t=>e.isPending(t.blobUri())?u(t):c(t,a,r))));return{upload:(e,r)=>!t.url&&m(a)?l():h(e,r)}},_5=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),_7=(e,t)=>_3(t,{url:dG(e),basePath:dX(e),credentials:dJ(e),handler:dQ(e)}),_6=(e,t)=>e.dom.isEmpty(t.dom)&&$(e.schema.getTextBlockElements()[rs(t)]),_8=e=>t=>{_6(e,t)&&oz(t,rF.fromHtml('<br data-mce-bogus="1" />'))},_9=e=>{let t,r;let o=_4(),n=_Q(),a=[],l=t=>r=>e.selection?t(r):[],i=e=>e+(-1===e.indexOf("?")?"?":"&")+new Date().getTime(),s=(e,t,r)=>{let o=0;do -1!==(o=e.indexOf(t,o))&&(e=e.substring(0,o)+r+e.substr(o+t.length),o+=r.length-t.length+1);while(-1!==o)return e},d=(e,t,r)=>(e=s(e,`src="${t}"`,`src="${r}"${r===tQ.transparentSrc?' data-mce-placeholder="1"':""}`),e=s(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')),c=(t,r)=>{eg(e.undoManager.data,e=>{"fragmented"===e.type?e.fragments=ef(e.fragments,e=>d(e,t,r)):e.content=d(e.content,t,r)})},m=(t,r)=>{let o=e.convertURL(r,"src");c(t.src,r),ry(rF.fromDom(t),{src:dq(e)?i(r):r,"data-mce-src":o})},u=()=>(t||(t=_7(e,n)),g().then(l(r=>{let n=ef(r,e=>e.blobInfo);return t.upload(n,_5(e)).then(l(t=>{let n=[],a=!1,l=ef(t,(t,l)=>{let{blobInfo:i,image:s}=r[l],d=!1;return t.status&&dW(e)?(t.url&&!tm(s.src,t.url)&&(a=!0),o.removeByUri(s.src),S0(e)||m(s,t.url)):t.error&&(t.error.remove&&(c(s.src,tQ.transparentSrc),n.push(s),d=!0),_L(e,t.error.message)),{element:s,status:t.status,uploadUri:t.url,blobInfo:i,removed:d}});return n.length>0&&!S0(e)?e.undoManager.transact(()=>{eg(oq(n),t=>{let r=rQ(t);o$(t),r.each(_8(e)),o.removeByUri(t.dom.src)})}):a&&e.undoManager.dispatchChange(),l}))}))),h=()=>dU(e)?u():Promise.resolve([]),f=e=>e_(a,t=>t(e)),g=()=>(r||(r=_J(n,o)),r.findAll(e.getBody(),f).then(l(t=>{let r=eb(t,t=>B(t)?(_O(e,t),!1):"blob"!==t.uriType);return S0(e)||eg(r,e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),r}))),p=t=>t.replace(/src="(blob:[^"]+)"/g,(t,r)=>{let a=n.getResultUri(r);if(a)return'src="'+a+'"';let l=o.getByUri(r);return(l||(l=ey(e.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r),void 0)),l)?'src="data:'+l.blob().type+";base64,"+l.base64()+'"':t});return e.on("SetContent",()=>{dU(e)?h():g()}),e.on("RawSaveContent",e=>{e.content=p(e.content)}),e.on("GetContent",e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=p(e.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",e=>{eg(e,e=>{let t=e.attr("src");if(!t||o.getByUri(t))return;let r=n.getResultUri(t);r&&e.attr("src",r)})})}),{blobCache:o,addFilter:e=>{a.push(e)},uploadImages:u,uploadImagesAuto:h,scanForImages:g,destroy:()=>{o.destroy(),n.destroy(),r=t=null}}},Te=e=>{let t=e.dom,r=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{let e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==r?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,r)=>ny(e)&&e.hasAttribute("href"),onformat:(e,r,o)=>{t4.each(o,(r,o)=>{t.setAttrib(e,o,r)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return t4.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),e=>{o[e]={block:e,remove:"all"}}),o},Tt={remove_similar:!0,inherit:!1},Tr={selector:"td,th",...Tt},To=G({tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Tr},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Tr},tablecellbordercolor:{styles:{borderColor:"%value"},...Tr},tablecellclass:{classes:["%value"],...Tr},tableclass:{selector:"table",classes:["%value"],...Tt},tablecellborderstyle:{styles:{borderStyle:"%value"},...Tr},tablecellborderwidth:{styles:{borderWidth:"%value"},...Tr}}),Tn=e=>{let t={},r=(e,o)=>{e&&(B(e)?(z(o)||(o=[o]),eg(o,e=>{F(e.deep)&&(e.deep=!hd(e)),F(e.split)&&(e.split=!hd(e)||hc(e)),F(e.remove)&&hd(e)&&!hc(e)&&(e.remove="none"),hd(e)&&hc(e)&&(e.mixed=!0,e.block_expand=!0),B(e.classes)&&(e.classes=e.classes.split(/\s+/))}),t[e]=o):eZ(e,(e,t)=>{r(t,e)}))};return r(Te(e)),r(To()),r(cm(e)),{get:e=>$(e)?t[e]:t,has:e=>eY(t,e),register:r,unregister:e=>(e&&t[e]&&delete t[e],t)}},Ta=t4.each,Tl=lJ.DOM,Ti=e=>$(e)&&H(e),Ts=(e,t)=>{let r=t&&t.schema||lf({}),o=(e,t)=>{t.classes.length>0&&Tl.addClass(e,t.classes.join(" ")),Tl.setAttribs(e,t.attrs)},n=e=>{let t=B(e)?{name:e,classes:[],attrs:{}}:e,r=Tl.create(t.name);return o(r,t),r},a=(e,t)=>{let o=r.getElementRule(e.nodeName.toLowerCase()),n=null==o?void 0:o.parentsRequired;return!!n&&!!n.length&&(t&&eu(n,t)?t:n[0])},l=(e,t,r)=>{let o;let i=t[0],s=Ti(i)?i.name:void 0,d=a(e,s);if(d)s===d?(o=i,t=t.slice(1)):o=d;else if(i)o=i,t=t.slice(1);else if(!r)return e;let c=o?n(o):Tl.create("div");return c.appendChild(e),r&&t4.each(r,t=>{let r=n(t);c.insertBefore(r,e)}),l(c,t,Ti(o)?o.siblings:void 0)},i=Tl.create("div");if(e.length>0){let t=e[0],r=n(t),o=Ti(t)?t.siblings:void 0;i.appendChild(l(r,e.slice(1),o))}return i},Td=e=>{e=t4.trim(e);let t="div",r={name:t,classes:[],attrs:{},selector:e};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,o,n,a)=>{switch(t){case"#":r.attrs.id=o;break;case".":r.classes.push(o);break;case":":-1!==t4.inArray("checked disabled enabled read-only required".split(" "),o)&&(r.attrs[o]=o)}if("["===n){let e=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(r.attrs[e[1]]=e[2])}return""})),r.name=t||"div",r},Tc=e=>B(e)?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t4.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{let t=t4.map(e.split(/(?:~\+|~|\+)/),Td),r=t.pop();return t.length&&(r.siblings=t),r}).reverse()):[],Tm=(e,t)=>{let r,o="",n=cu(e);if(""===n)return"";let a=e=>B(e)?e.replace(/%(\w+)/g,""):"",l=(t,r)=>Tl.getStyle(null!=r?r:e.getBody(),t,!0);if(B(t)){let r=e.formatter.get(t);if(!r)return"";t=r[0]}if("preview"in t){let e=t.preview;if(!1===e)return"";n=e||n}let i=t.block||t.inline||"span",s=Tc(t.selector);s.length>0?(s[0].name||(s[0].name=i),i=t.selector,r=Ts(s,e)):r=Ts([i],e);let d=Tl.select(i,r)[0]||r.firstChild;Ta(t.styles,(e,t)=>{let r=a(e);r&&Tl.setStyle(d,t,r)}),Ta(t.attributes,(e,t)=>{let r=a(e);r&&Tl.setAttrib(d,t,r)}),Ta(t.classes,e=>{let t=a(e);Tl.hasClass(d,t)||Tl.addClass(d,t)}),e.dispatch("PreviewFormats"),Tl.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r);let c=l("fontSize"),m=/px$/.test(c)?parseInt(c,10):0;return Ta(n.split(" "),e=>{let t=l(e,d);if((!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t))||"#ffffff"!==l_(t=l(e)).toLowerCase())&&("color"!==e||"#000000"!==l_(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===m)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*m+"px"}"border"===e&&t&&(o+="padding:0 2px;"),o+=e+":"+t+";"}}),e.dispatch("AfterPreviewFormats"),Tl.remove(r),o},Tu=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Th=e=>{let t=Tn(e),r=n5({});return Tu(e),yY(e),S0(e)||CW(r,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,r,o)=>{ku(e,t,r,o)},remove:(t,r,o,n)=>{kh(e,t,r,o,n)},toggle:(t,r,o)=>{kf(e,t,r,o)},match:(t,r,o,n)=>ki(e,t,r,o,n),closest:t=>km(e,t),matchAll:(t,r)=>ks(e,t,r),matchNode:(t,r,o,n)=>kd(e,t,r,o,n),canApply:t=>kc(e,t),formatChanged:(t,o,n,a)=>kg(e,r,t,o,n,a),getCssText:Q(Tm,e)}},Tf=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Tg=(e,t,r)=>{let o=n5(!1),n=e=>{SP(t,!1,r),t.add({},e)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",e=>{Tf(e.command)||(Sz(t,r),t.beforeChange())}),e.on("ExecCommand",e=>{Tf(e.command)||n(e)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",n),e.on("dragend",n),e.on("keyup",r=>{let a=r.keyCode;if(r.isDefaultPrevented())return;let l=tQ.os.isMacOS()&&"Meta"===r.key;(a>=33&&a<=36||a>=37&&a<=40||45===a||r.ctrlKey||l)&&(n(),e.nodeChanged()),(46===a||8===a)&&e.nodeChanged(),o.get()&&t.typing&&!SB(SN(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged())}),e.on("keydown",e=>{let a=e.keyCode;if(e.isDefaultPrevented())return;if(a>=33&&a<=36||a>=37&&a<=40||45===a){t.typing&&n(e);return}let l=e.ctrlKey&&!e.altKey||e.metaKey;if((a<16||a>20)&&224!==a&&91!==a&&!t.typing&&!l){t.beforeChange(),SP(t,!0,r),t.add({},e),o.set(!0);return}(tQ.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()}),e.on("mousedown",e=>{t.typing&&n(e)});let a=e=>"insertReplacementText"===e.inputType,l=e=>"insertText"===e.inputType&&null===e.data,i=e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType;e.on("input",e=>{e.inputType&&(a(e)||l(e)||i(e))&&n(e)}),e.on("AddUndo Undo Redo ClearUndos",t=>{t.isDefaultPrevented()||e.nodeChanged()})},Tp=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Tv=e=>{let t=n8(),r=n5(0),o=n5(0),n={data:[],typing:!1,beforeChange:()=>{S7(e,r,t)},add:(a,l)=>S6(e,n,o,r,t,a,l),dispatchChange:()=>{e.setDirty(!0);let t=SN(e);t.bookmark=ds(e.selection),e.dispatch("change",{level:t,lastLevel:eD(n.data,o.get()).getOrUndefined()})},undo:()=>S8(e,n,r,o),redo:()=>S9(e,o,n.data),clear:()=>{ke(e,n,o)},reset:()=>{kt(e,n)},hasUndo:()=>kr(e,n,o),hasRedo:()=>ko(e,n,o),transact:t=>kn(e,n,r,t),ignore:t=>{ka(e,r,t)},extra:(t,r)=>{kl(e,n,o,t,r)}};return S0(e)||Tg(e,n,r),Tp(e),n},Tb=[9,27,fo.HOME,fo.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,fo.DOWN,fo.UP,fo.LEFT,fo.RIGHT].concat(tQ.browser.isFirefox()?[224]:[]),Tw="data-mce-placeholder",Ty=e=>"keydown"===e.type||"keyup"===e.type,TC=e=>{let t=e.keyCode;return t===fo.BACKSPACE||t===fo.DELETE},Tx=e=>{if(!Ty(e))return!1;{let t=e.keyCode;return!TC(e)&&(fo.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||eu(Tb,t))}},TE=e=>Ty(e)&&!(TC(e)||"keyup"===e.type&&229===e.keyCode),TS=(e,t,r)=>{if(!e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0}))return!1;{let o=t.firstElementChild;return!o||!(e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right"))&&r===o.nodeName.toLowerCase()}},Tk=e=>{var t;let r=e.dom,o=dz(e),n=null!==(t=co(e))&&void 0!==t?t:"",a=(t,l)=>{if(Tx(t))return;let i=e.getBody(),s=!TE(t)&&TS(r,i,o);(""!==r.getAttrib(i,Tw)!==s||l)&&(r.setAttrib(i,Tw,s?n:null),hX(e,s),e.on(s?"keydown":"keyup",a),e.off(s?"keyup":"keydown",a))};tb(n)&&e.on("init",t=>{a(t,!0),e.on("change SetContent ExecCommand",a),e.on("paste",t=>gz.setEditorTimeout(e,()=>a(t)))})},T_=(e,t)=>({block:e,position:t}),TT=(e,t)=>({from:e,to:t}),TA=(e,t)=>bS(rF.fromDom(e),rF.fromDom(t.container())).map(e=>T_(e,t)),TN=e=>!(rK(e.to.block,e.from.block)||rK(e.from.block,e.to.block)),TR=e=>!rW(e.from.block,e.to.block),TD=(e,t)=>of(t,e=>i$(e)||nZ(e.dom),t=>rW(t,e)).filter(rh).getOr(e),TM=(e,t)=>{let r=rF.fromDom(e);return rW(TD(r,t.from.block),TD(r,t.to.block))},TO=e=>!1===nI(e.from.block.dom)&&!1===nI(e.to.block.dom),TL=e=>{let t=e=>iZ(e)||av(e.dom)||iF(e);return t(e.from.block)&&t(e.to.block)},TB=(e,t,r,o)=>nP(o.position.getNode())&&!n4(e,o.block)?m9(!1,o.block.dom).bind(e=>e.isEqual(o.position)?m7(r,t,e).bind(e=>TA(t,e)):el.some(o)).getOr(o):o,TH=(e,t,r,o)=>{let n=TA(t,sI.fromRangeStart(o)),a=n.bind(o=>m7(r,t,o.position).bind(o=>TA(t,o).map(o=>TB(e,t,r,o))));return t6(n,a,TT).filter(e=>TR(e)&&TM(t,e)&&TO(e)&&TL(e)&&TN(e))},TP=(e,t,r,o)=>o.collapsed?TH(e,t,r,o):el.none(),Tz=(e,t)=>{let r=r6(e);return eE(r,e=>t.isBlock(rs(e))).fold(G(r),e=>r.slice(0,e))},TZ=(e,t)=>{let r=Tz(e,t);return eg(r,o$),r},TI=(e,t,r)=>ex(va(r,t).reverse(),t=>n4(e,t)).each(o$),TF=(e,t)=>0===eb(r5(t),t=>!n4(e,t)).length,TV=(e,t,r,o,n)=>{if(n4(o,r))return iK(r),ur(r.dom);TF(o,n)&&n4(o,t)&&oB(n,rF.fromTag("br"));let a=ut(r.dom,sI.before(n.dom));return eg(TZ(t,o),e=>{oB(n,e)}),TI(o,e,t),a},T$=(e,t)=>e.isInline(rs(t)),Tj=(e,t,r,o)=>{if(n4(o,r)){if(n4(o,t)){let e=ew((e=>{let t=(e,r)=>r9(e).fold(()=>r,e=>T$(o,e)?t(e,r.concat(i_(e))):r);return t(e,[])})(r),(e,t)=>(oZ(e,t),t),iW());oV(t),oz(t,e)}return o$(r),ur(t.dom)}let n=uo(r.dom);return eg(TZ(t,o),e=>{oz(r,e)}),TI(o,e,t),n},TU=(e,t)=>{let r=va(t,e);return el.from(r[r.length-1])},Tq=(e,t)=>rK(t,e)?TU(t,e):el.none(),TW=(e,t)=>{m9(e,t.dom).bind(e=>el.from(e.getNode())).map(rF.fromDom).filter(iz).each(o$)},TK=(e,t,r,o)=>(TW(!0,t),TW(!1,r),Tq(t,r).fold(Q(Tj,e,t,r,o),Q(TV,e,t,r,o))),TY=(e,t,r,o,n)=>t?TK(e,o,r,n):TK(e,r,o,n),TG=(e,t)=>{let r=rF.fromDom(e.getBody());return TP(e.schema,r.dom,t,e.selection.getRng()).map(o=>()=>{TY(r,t,o.from.block,o.to.block,e.schema).each(t=>{e.selection.setRng(t.toRange())})})},TX=(e,t,r)=>{let o=t.getRng();return t6(bS(e,rF.fromDom(o.startContainer)),bS(e,rF.fromDom(o.endContainer)),(n,a)=>rW(n,a)?el.none():el.some(()=>{o.deleteContents(),TY(e,!0,n,a,r).each(e=>{t.setRng(e.toRange())})})).getOr(el.none())},TJ=(e,t)=>oh(rF.fromDom(t),i$,Q(rW,e)).isSome(),TQ=(e,t)=>TJ(e,t.startContainer)||TJ(e,t.endContainer),T1=(e,t)=>{let r=ut(e.dom,sI.fromRangeStart(t)).isNone(),o=ue(e.dom,sI.fromRangeEnd(t)).isNone();return!TQ(e,t)&&r&&o},T0=e=>el.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),T2=e=>{let t=rF.fromDom(e.getBody());return T1(t,e.selection.getRng())?T0(e):TX(t,e.selection,e.schema)},T4=(e,t)=>e.selection.isCollapsed()?el.none():T2(e),T3=(e,t,r,o,n)=>el.from(t._selectionOverrides.showCaret(e,r,o,n)),T5=e=>{let t=e.ownerDocument.createRange();return t.selectNode(e),t},T7=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?el.none():el.some(T5(t)),T6=(e,t,r)=>{let o=mZ(1,e.getBody(),t),n=sI.fromRangeStart(o),a=n.getNode();if(mE(a))return T3(1,e,a,!n.isAtEnd(),!1);let l=n.getNode(!0);if(mE(l))return T3(1,e,l,!1,!1);let i=wv(e.dom.getRoot(),n.getNode());return mE(i)?T3(1,e,i,!1,r):el.none()},T8=(e,t,r)=>t.collapsed?T6(e,t,r).getOr(t):t,T9=e=>ve(e)||p7(e),Ae=e=>vt(e)||p6(e),At=(e,t)=>{nD(t)&&0===t.data.length&&e.remove(t)},Ar=(e,t,r,o,n,a)=>{T3(o,e,a.getNode(!n),n,!0).each(r=>{if(t.collapsed){let e=t.cloneRange();n?e.setEnd(r.startContainer,r.startOffset):e.setStart(r.endContainer,r.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(r)}),At(e.dom,r)},Ao=(e,t)=>{let r=e.selection.getRng();if(!nD(r.commonAncestorContainer))return el.none();let o=t?g.Forwards:g.Backwards,n=mJ(e.getBody()),a=Q(mj,t?n.next:n.prev),l=t?T9:Ae,i=mF(o,e.getBody(),r),s=a(i),d=s?bg(t,s):s;if(!d||!mU(i,d))return el.none();if(l(d))return el.some(()=>Ar(e,r,i.getNode(),o,t,d));let c=a(d);return c&&l(c)&&mU(d,c)?el.some(()=>Ar(e,r,i.getNode(),o,t,c)):el.none()},An=(e,t)=>Ao(e,t),Aa=(e,t)=>{let r=e.getBody();return t?ur(r).filter(ve):uo(r).filter(vt)},Al=e=>{let t=e.selection.getRng();return!t.collapsed&&(Aa(e,!0).exists(e=>e.isEqual(sI.fromRangeStart(t)))||Aa(e,!1).exists(e=>e.isEqual(sI.fromRangeEnd(t))))},Ai=e=>$(e)&&(i$(rF.fromDom(e))||iF(rF.fromDom(e))),As=dc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Ad=(e,t)=>{let r=t.getNode(!e);return ny(r)&&r.getAttribute("data-mce-caret")===(e?"after":"before")},Ac=(e,t,r,o,n)=>{let a=t=>n.isInline(t.nodeName.toLowerCase())&&!mM(r,o,e);return mI(!t,r).fold(()=>mI(t,o).fold(en,a),a)},Am=(e,t,r,o,n)=>{let a=n.getNode(!r);return bS(rF.fromDom(t),rF.fromDom(o.getNode())).map(t=>n4(e,t)?As.remove(t.dom):As.moveToElement(a)).orThunk(()=>el.some(As.moveToElement(a)))},Au=(e,t,r,o)=>m7(t,e,r).bind(n=>Ai(n.getNode())||Ac(e,t,r,n,o)?el.none():t&&nI(n.getNode())||!t&&nI(n.getNode(!0))?Am(o,e,t,r,n):t&&vt(r)?el.some(As.moveToPosition(n)):!t&&ve(r)?el.some(As.moveToPosition(n)):el.none()),Ah=(e,t)=>V(t)?el.none():e&&nI(t.nextSibling)?el.some(As.moveToElement(t.nextSibling)):!e&&nI(t.previousSibling)?el.some(As.moveToElement(t.previousSibling)):el.none(),Af=(e,t,r)=>r.fold(e=>el.some(As.remove(e)),e=>el.some(As.moveToElement(e)),r=>mM(t,r,e)?el.none():el.some(As.moveToPosition(r))),Ag=(e,t,r,o)=>Ad(t,r)?Ah(t,r.getNode(!t)).orThunk(()=>Au(e,t,r,o)):Au(e,t,r,o).bind(t=>Af(e,r,t)),Ap=(e,t,r,o)=>{let n=mZ(t?1:-1,e,r),a=sI.fromRangeStart(n),l=rF.fromDom(e);return!t&&vt(a)?el.some(As.remove(a.getNode(!0))):t&&ve(a)?el.some(As.remove(a.getNode())):!t&&ve(a)&&vb(l,a,o)?vw(l,a,o).map(e=>As.remove(e.getNode())):t&&vt(a)&&vv(l,a,o)?vy(l,a,o).map(e=>As.remove(e.getNode())):Ag(e,t,a,o)},Av=(e,t)=>r=>(e._selectionOverrides.hideFakeCaret(),bl(e,t,rF.fromDom(r)),!0),Ab=(e,t)=>r=>{let o=t?sI.before(r):sI.after(r);return e.selection.setRng(o.toRange()),!0},Aw=e=>t=>(e.selection.setRng(t.toRange()),!0),Ay=(e,t)=>el.from(wv(e.getBody(),t)),AC=(e,t)=>{let r=e.selection.getNode();return Ay(e,r).filter(nI).fold(()=>Ap(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Av(e,t),Ab(e,t),Aw(e))),()=>el.some(W))},Ax=e=>{eg(na(e,".mce-offscreen-selection"),o$)},AE=(e,t)=>{let r=e.selection.getNode();return nI(r)&&!nF(r)?Ay(e,r.parentNode).filter(nI).fold(()=>el.some(()=>{Ax(rF.fromDom(e.getBody())),bl(e,t,rF.fromDom(e.selection.getNode())),bk(e)}),()=>el.some(W)):Al(e)?el.some(()=>{bA(e,e.selection.getRng(),rF.fromDom(e.getBody()))}):el.none()},AS=e=>{let t=e.dom,r=e.selection,o=wv(e.getBody(),r.getNode());if(nZ(o)&&t.isBlock(o)&&t.isEmpty(o)){let e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),r.setRng(sI.before(e).toRange())}return!0},Ak=(e,t)=>e.selection.isCollapsed()?AC(e,t):AE(e,t),A_=e=>e.hasOwnProperty("text"),AT=e=>e.hasOwnProperty("marker"),AA=(e,t)=>{let r=(e,r)=>{if(nD(e))return{text:e,offset:r};{let o=t(),n=e.childNodes;return r<n.length?(e.insertBefore(o,n[r]),{marker:o,before:!0}):(e.appendChild(o),{marker:o,before:!1})}},o=r(e.endContainer,e.endOffset);return{start:r(e.startContainer,e.startOffset),end:o}},AN=e=>{var t,r;let{start:o,end:n}=e,a=new window.Range;return A_(o)?a.setStart(o.text,o.offset):AT(o)&&(o.before?a.setStartBefore(o.marker):a.setStartAfter(o.marker),null===(t=o.marker.parentNode)||void 0===t||t.removeChild(o.marker)),A_(n)?a.setEnd(n.text,n.offset):AT(n)&&(n.before?a.setEndBefore(n.marker):a.setEndAfter(n.marker),null===(r=n.marker.parentNode)||void 0===r||r.removeChild(n.marker)),a},AR=(e,t)=>{var r;let o=e.dom,n=o.getParent(e.selection.getStart(),o.isBlock),a=o.getParent(e.selection.getEnd(),o.isBlock),l=e.getBody();if("div"===(null===(r=null==n?void 0:n.nodeName)||void 0===r?void 0:r.toLowerCase())&&n&&a&&n===l.firstChild&&a===l.lastChild&&!o.isEmpty(l)){let r=n.cloneNode(!1);return el.some(()=>{if(t?bC(e):by(e),l.firstChild!==n){let t=AA(e.selection.getRng(),()=>document.createElement("span"));Array.from(l.childNodes).forEach(e=>r.appendChild(e)),l.appendChild(r),e.selection.setRng(AN(t))}})}return el.none()},AD=(e,t)=>{let r=sI.fromRangeStart(e.selection.getRng());return m7(t,e.getBody(),r).filter(e=>t?p3(e):p5(e)).bind(e=>mO(t?0:-1,e)).map(t=>()=>e.selection.select(t))},AM=(e,t)=>e.selection.isCollapsed()?AD(e,t):el.none(),AO=e=>nD(e)&&"\uFEFF"===e.data[0],AL=e=>nD(e)&&"\uFEFF"===e.data[e.data.length-1],AB=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode("\uFEFF")},AH=e=>{var t;if(nD(e.previousSibling))return AL(e.previousSibling)||e.previousSibling.appendData("\uFEFF"),e.previousSibling;if(nD(e))return AO(e)||e.insertData(0,"\uFEFF"),e;{let r=AB(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(r,e),r}},AP=e=>{var t,r;if(nD(e.nextSibling))return AO(e.nextSibling)||e.nextSibling.insertData(0,"\uFEFF"),e.nextSibling;if(nD(e))return AL(e)||e.appendData("\uFEFF"),e;{let o=AB(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e.nextSibling):null===(r=e.parentNode)||void 0===r||r.appendChild(o),o}},Az=(e,t)=>e?AH(t):AP(t),AZ=Q(Az,!0),AI=Q(Az,!1),AF=(e,t)=>nD(e.container())?Az(t,e.container()):Az(t,e.getNode()),AV=(e,t)=>{let r=t.get();return r&&e.container()===r&&iQ(r)},A$=(e,t)=>t.fold(t=>{mb(e.get());let r=AZ(t);return e.set(r),el.some(sI(r,r.length-1))},t=>ur(t).map(t=>{if(AV(t,e))return sI(e.get(),1);{mb(e.get());let r=AF(t,!0);return e.set(r),sI(r,1)}}),t=>uo(t).map(t=>{if(AV(t,e)){let t=e.get();return sI(t,t.length-1)}{mb(e.get());let r=AF(t,!1);return e.set(r),sI(r,r.length-1)}}),t=>{mb(e.get());let r=AI(t);return e.set(r),el.some(sI(r,1))}),Aj=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r].apply(null,t);if(o.isSome())return o}return el.none()},AU=dc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Aq=(e,t)=>mD(t,e)||e,AW=(e,t,r)=>{let o=bp(r),n=Aq(t,o.container());return bu(e,n,o).fold(()=>ue(n,o).bind(Q(bu,e,n)).map(e=>AU.before(e)),el.none)},AK=(e,t)=>null===ul(e,t),AY=(e,t,r)=>bu(e,t,r).filter(Q(AK,t)),AG=(e,t,r)=>{let o=bv(r);return AY(e,t,o).bind(e=>ut(e,o).isNone()?el.some(AU.start(e)):el.none())},AX=(e,t,r)=>{let o=bp(r);return AY(e,t,o).bind(e=>ue(e,o).isNone()?el.some(AU.end(e)):el.none())},AJ=(e,t,r)=>{let o=bv(r),n=Aq(t,o.container());return bu(e,n,o).fold(()=>ut(n,o).bind(Q(bu,e,n)).map(e=>AU.after(e)),el.none)},AQ=e=>!bc(A0(e)),A1=(e,t,r)=>Aj([AW,AG,AX,AJ],[e,t,r]).filter(AQ),A0=e=>e.fold(X,X,X,X),A2=e=>e.fold(G("before"),G("start"),G("end"),G("after")),A4=e=>e.fold(AU.before,AU.before,AU.after,AU.after),A3=e=>e.fold(AU.start,AU.start,AU.end,AU.end),A5=(e,t)=>A2(e)===A2(t)&&A0(e)===A0(t),A7=(e,t,r,o,n,a)=>t6(bu(t,r,o),bu(t,r,n),(t,o)=>t!==o&&bh(r,t,o)?AU.after(e?t:o):a).getOr(a),A6=(e,t)=>e.fold(ea,e=>!A5(e,t)),A8=(e,t,r,o,n)=>{let a=bg(e,n);return m7(e,r,a).map(Q(bg,e)).fold(()=>o.map(A4),n=>A1(t,r,n).map(Q(A7,e,t,r,a,n)).filter(Q(A6,o))).filter(AQ)},A9=(e,t)=>e?t.fold(K(el.some,AU.start),el.none,K(el.some,AU.after),el.none):t.fold(el.none,K(el.some,AU.before),el.none,K(el.some,AU.end)),Ne=(e,t,r,o)=>{let n=bg(e,o),a=A1(t,r,n);return A1(t,r,n).bind(Q(A9,e)).orThunk(()=>A8(e,t,r,a,o))},Nt=e=>j(e.selection.getSel().modify),Nr=(e,t,r)=>(t.setRng(sI(r.container(),r.offset()+(e?1:-1)).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0),No=(e,t)=>{let r=t.selection.getRng(),o=e?sI.fromRangeEnd(r):sI.fromRangeStart(r);return!!Nt(t)&&(e&&i4(o)?Nr(!0,t.selection,o):!!(!e&&i3(o))&&Nr(!1,t.selection,o))};(m=v||(v={}))[m.Br=0]="Br",m[m.Block=1]="Block",m[m.Wrap=2]="Wrap",m[m.Eol=3]="Eol";let Nn=(e,t)=>e===g.Backwards?eT(t):t,Na=(e,t,r)=>e===g.Forwards?t.next(r):t.prev(r),Nl=(e,t,r,o)=>nP(o.getNode(t===g.Forwards))?v.Br:!1===mM(r,o)?v.Block:v.Wrap,Ni=(e,t,r,o)=>{let n=mJ(r),a=o,l=[];for(;a;){let o=Na(t,n,a);if(!o)break;if(nP(o.getNode(!1))){if(t===g.Forwards)return{positions:Nn(t,l).concat([o]),breakType:v.Br,breakAt:el.some(o)};return{positions:Nn(t,l),breakType:v.Br,breakAt:el.some(o)}}if(!o.isVisible()){a=o;continue}if(e(a,o)){let e=Nl(r,t,a,o);return{positions:Nn(t,l),breakType:e,breakAt:el.some(o)}}l.push(o),a=o}return{positions:Nn(t,l),breakType:v.Eol,breakAt:el.none()}},Ns=(e,t,r,o)=>t(r,o).breakAt.map(o=>{let n=t(r,o).positions;return e===g.Backwards?n.concat(o):[o].concat(n)}).getOr([]),Nd=(e,t)=>ey(e,(e,r)=>e.fold(()=>el.some(r),o=>t6(eM(o.getClientRects()),eM(r.getClientRects()),(e,n)=>{let a=Math.abs(t-e.left);return Math.abs(t-n.left)<=a?r:o}).or(e)),el.none()),Nc=(e,t)=>eM(t.getClientRects()).bind(t=>Nd(e,t.left)),Nm=Q(Ni,sI.isAbove,-1),Nu=Q(Ni,sI.isBelow,1),Nh=Q(Ns,-1,Nm),Nf=Q(Ns,1,Nu),Ng=(e,t)=>Nm(e,t).breakAt.isNone(),Np=(e,t)=>Nu(e,t).breakAt.isNone(),Nv=e=>ur(e).map(t=>[t].concat(Nu(e,t).positions)).getOr([]),Nb=e=>uo(e).map(t=>Nm(e,t).positions.concat(t)).getOr([]),Nw=(e,t)=>Nc(Nh(e,t),t),Ny=(e,t)=>Nc(Nf(e,t),t),NC=(e,t)=>Math.abs(e.left-t),Nx=(e,t)=>Math.abs(e.right-t),NE=e=>eG(e,"node"),NS=(e,t)=>e3(e,(e,r)=>{let o=Math.min(NC(e,t),Nx(e,t)),n=Math.min(NC(r,t),Nx(r,t));return n===o&&NE(r)&&nI(r.node)||n<o?r:e}),Nk=e=>{let t=t=>ef(t,t=>{let r=sr(t);return r.node=e,r});if(ny(e))return t(e.getClientRects());if(!nD(e))return[];{let r=e.ownerDocument.createRange();return r.setStart(e,0),r.setEnd(e,e.data.length),t(r.getClientRects())}},N_=e=>ek(e,Nk);(u=b||(b={}))[u.Up=-1]="Up",u[u.Down=1]="Down";let NT=(e,t,r,o)=>{let n=o;for(;n=mN(n,e,sS,t);)if(r(n))return},NA=(e,t,r,o,n,a)=>{let l=0,i=[],s=o=>{let a=N_([o]);-1===e&&(a=a.reverse());for(let e=0;e<a.length;e++){let o=a[e];if(!r(o,d)){if(i.length>0&&t(o,e7(i))&&l++,o.line=l,n(o))return!0;i.push(o)}}return!1},d=e7(a.getClientRects());if(!d)return i;let c=a.getNode();return c&&(s(c),NT(e,o,s,c)),i},NN=(e,t)=>t.line>e,NR=(e,t)=>t.line===e,ND=Q(NA,b.Up,sl,si),NM=Q(NA,b.Down,si,sl),NO=e=>e7(e.getClientRects()),NL=(e,t,r,o)=>{let n,a,l,i;let s=mJ(t),d=[],c=0;1===e?(n=s.next,a=si,l=sl,i=sI.after(o)):(n=s.prev,a=sl,l=si,i=sI.before(o));let m=NO(i);do{if(!i.isVisible())continue;let e=NO(i);if(l(e,m))continue;d.length>0&&a(e,e7(d))&&c++;let t=sr(e);if(t.position=i,t.line=c,r(t))break;d.push(t)}while(i=n(i))return d},NB=e=>t=>NN(e,t),NH=e=>t=>NR(e,t),NP=(e,t)=>{e.selection.setRng(t),gv(e,e.selection.getRng())},Nz=(e,t,r)=>el.some(T8(e,t,r)),NZ=(e,t,r,o,n,a)=>{let l=t===g.Forwards,i=mJ(e.getBody()),s=Q(mj,l?i.next:i.prev),d=l?o:n;if(!r.collapsed){let o=su(r);if(a(o))return T3(t,e,o,t===g.Backwards,!1);if(Al(e)){let e=r.cloneRange();return e.collapse(t===g.Backwards),el.from(e)}}let c=mF(t,e.getBody(),r);if(d(c))return T7(e,c.getNode(!l));let m=s(c),u=se(r);if(!m)return u?el.some(r):el.none();if(d(m=bg(l,m)))return T3(t,e,m.getNode(!l),l,!1);let h=s(m);return h&&d(h)&&mU(m,h)?T3(t,e,h.getNode(!l),l,!1):u?Nz(e,m.toRange(),!1):el.none()},NI=(e,t,r,o,n,a)=>{let l;let i=mF(t,e.getBody(),r),s=e7(i.getClientRects()),d=t===b.Down,c=e.getBody();if(!s)return el.none();if(Al(e)){let e=d?sI.fromRangeEnd(r):sI.fromRangeStart(r);return(d?Ny:Nw)(c,e).orThunk(()=>el.from(e)).map(e=>e.toRange())}let m=eb((d?NM:ND)(c,NB(1),i),NH(1)),u=s.left,h=NS(m,u);if(h&&a(h.node)){let r=Math.abs(u-h.left),o=Math.abs(u-h.right);return T3(t,e,h.node,r<o,!1)}if(l=o(i)?i.getNode():n(i)?i.getNode(!0):su(r)){let r=NL(t,c,NB(1),l),o=NS(eb(r,NH(1)),u);if(o||(o=e7(eb(r,NH(0)))))return Nz(e,o.position.toRange(),!1)}return 0===m.length?NF(e,d).filter(d?n:o).map(t=>T8(e,t.toRange(),!1)):el.none()},NF=(e,t)=>{let r=e.selection.getRng(),o=t?sI.fromRangeEnd(r):sI.fromRangeStart(r),n=mR(o.container(),e.getBody());return t?eO(Nu(n,o).positions):eM(Nm(n,o).positions)},NV=(e,t,r)=>NF(e,t).filter(r).exists(t=>(e.selection.setRng(t.toRange()),!0)),N$=(e,t)=>{let r=e.dom.createRng();r.setStart(t.container(),t.offset()),r.setEnd(t.container(),t.offset()),e.selection.setRng(r)},Nj=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},NU=(e,t,r)=>A$(t,r).map(t=>(N$(e,t),r)),Nq=(e,t,r)=>{let o=sI.fromRangeStart(e);if(e.collapsed)return o;{let n=sI.fromRangeEnd(e);return r?ut(t,n).getOr(n):ue(t,o).getOr(o)}},NW=(e,t,r)=>{let o=e.getBody(),n=Nq(e.selection.getRng(),o,r);return Ne(r,Q(bd,e),o,n).bind(r=>NU(e,t,r))},NK=(e,t,r)=>{let o=eb(ef(na(rF.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),e=>e.dom),e),n=eb(r,e);eg(eA(o,n),Q(Nj,!1)),eg(eA(n,o),Q(Nj,!0))},NY=(e,t)=>{let r=t.get();if(e.selection.isCollapsed()&&!e.composing&&r){let o=sI.fromRangeStart(e.selection.getRng());sI.isTextPosition(o)&&!bf(o)&&(N$(e,mv(r,o)),t.set(null))}},NG=(e,t,r,o)=>{t.selection.isCollapsed()&&eg(eb(o,e),o=>{let n=sI.fromRangeStart(t.selection.getRng());A1(e,t.getBody(),n).bind(e=>NU(t,r,e))})},NX=(e,t,r)=>!!cc(e)&&NW(e,t,r).isSome(),NJ=(e,t,r)=>!!cc(t)&&No(e,t),NQ=e=>{let t=n5(null),r=Q(bd,e);return e.on("NodeChange",o=>{cc(e)&&(NK(r,e.dom,o.parents),NY(e,t),NG(r,e,t,o.parents))}),t},N1=Q(NJ,!0),N0=Q(NJ,!1),N2=(e,t,r)=>{if(!cc(e))return!1;{let o=NF(e,t).getOrThunk(()=>{let r=e.selection.getRng();return t?sI.fromRangeEnd(r):sI.fromRangeStart(r)});return A1(Q(bd,e),e.getBody(),o).exists(t=>A$(r,A4(t)).exists(t=>(N$(e,t),!0)))}},N4=(e,t)=>{let r=document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},N3=e=>t6(ur(e),uo(e),(t,r)=>{let o=bg(!0,t),n=bg(!1,r);return ue(e,o).forall(e=>e.isEqual(n))}).getOr(!0),N5=(e,t)=>r=>A$(t,r).map(t=>()=>N$(e,t)),N7=(e,t,r,o)=>{let n=e.getBody(),a=Q(bd,e);e.undoManager.ignore(()=>{e.selection.setRng(N4(r,o)),by(e),A1(a,n,sI.fromRangeStart(e.selection.getRng())).map(A3).bind(N5(e,t)).each(eo)}),e.nodeChanged()},N6=(e,t)=>mD(t,e)||e,N8=(e,t,r,o)=>{let n=N6(e.getBody(),o.container()),a=Q(bd,e),l=A1(a,n,o);return l.bind(e=>r?e.fold(G(el.some(A3(e))),el.none,G(el.some(A4(e))),el.none):e.fold(el.none,G(el.some(A4(e))),el.none,G(el.some(A3(e))))).map(N5(e,t)).getOrThunk(()=>{let i=m6(r,n,o),s=i.bind(e=>A1(a,n,e));return t6(l,s,()=>bu(a,n,o).bind(t=>N3(t)?el.some(()=>{bl(e,r,rF.fromDom(t))}):el.none())).getOrThunk(()=>s.bind(()=>i.map(n=>()=>{r?N7(e,t,o,n):N7(e,t,n,o)})))})},N9=(e,t,r)=>{if(e.selection.isCollapsed()&&cc(e)){let o=sI.fromRangeStart(e.selection.getRng());return N8(e,t,r,o)}return el.none()},Re=e=>ot(e)>1,Rt=(e,t)=>{let r=rF.fromDom(e.getBody()),o=va(rF.fromDom(e.selection.getStart()),r);return eE(o,t).fold(G(o),e=>o.slice(0,e))},Rr=e=>1===ot(e),Ro=e=>Rt(e,t=>e.schema.isBlock(rs(t))||Re(t)),Rn=e=>Rt(e,t=>e.schema.isBlock(rs(t))),Ra=(e,t)=>{let r=Q(yQ,e);return ek(t,e=>r(e)?[e.dom]:[])},Rl=e=>{let t=Rn(e);return Ra(e,t)},Ri=(e,t,r,o)=>{let n=Ra(t,o);if(0===n.length)bl(t,e,r);else{let e=yX(r.dom,n);t.selection.setRng(e.toRange())}},Rs=(e,t)=>{let r=eb(Ro(e),Rr);return eO(r).bind(o=>b_(t,sI.fromRangeStart(e.selection.getRng()),o.dom)&&!hg(o)?el.some(()=>Ri(t,e,o,r)):el.none())},Rd=(e,t)=>{let r=t.parentElement;return nP(t)&&!Z(r)&&e.dom.isEmpty(r)},Rc=e=>hg(rF.fromDom(e)),Rm=(e,t)=>{let r=e.selection.getStart(),o=Rd(e,r)||Rc(r)?yX(r,t):yJ(e.selection.getRng(),t);e.selection.setRng(o.toRange())},Ru=(e,t)=>{let r=eA(t,Rl(e));r.length>0&&Rm(e,r)},Rh=e=>nD(e.startContainer),Rf=e=>0===e.startOffset&&Rh(e),Rg=(e,t)=>{let r=t.startContainer.parentElement;return!Z(r)&&yQ(e,rF.fromDom(r))},Rp=e=>{let t=e.startContainer.parentNode,r=e.endContainer.parentNode;return!Z(t)&&!Z(r)&&t.isEqualNode(r)},Rv=e=>{let t=e.endContainer;return e.endOffset===(nD(t)?t.length:t.childNodes.length)},Rb=e=>Rp(e)&&Rv(e),Rw=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),Ry=e=>Rb(e)||Rw(e),RC=e=>{let t=e.selection.getRng();return Rf(t)&&Rg(e,t)&&Ry(t)},Rx=e=>{if(!RC(e))return el.none();{let t=Rl(e);return el.some(()=>{by(e),Ru(e,t)})}},RE=(e,t)=>e.selection.isCollapsed()?Rs(e,t):Rx(e),RS=(e,t)=>nl(e,e=>ua(e.dom),e=>t.isBlock(rs(e))),Rk=e=>RS(rF.fromDom(e.selection.getStart()),e.schema),R_=e=>{let t=e.selection.getRng();return t.collapsed&&(Rh(t)||e.dom.isEmpty(t.startContainer))&&!Rk(e)},RT=e=>(R_(e)&&Rm(e,[]),!0),RA=(e,t,r)=>$(r)?el.some(()=>{e._selectionOverrides.hideFakeCaret(),bl(e,t,rF.fromDom(r))}):el.none(),RN=(e,t)=>{let r=t?p7:p6,o=mF(t?g.Forwards:g.Backwards,e.getBody(),e.selection.getRng());return r(o)?RA(e,t,o.getNode(!t)):el.from(bg(t,o)).filter(e=>r(e)&&mU(o,e)).bind(r=>RA(e,t,r.getNode(!t)))},RR=(e,t)=>{let r=e.selection.getNode();return n$(r)?RA(e,t,r):el.none()},RD=(e,t)=>e.selection.isCollapsed()?RN(e,t):RR(e,t),RM=e=>of(e,e=>nZ(e.dom)||nI(e.dom)).exists(e=>nZ(e.dom)),RO=e=>tC(null!=e?e:"").getOr(0),RL=(e,t)=>(e||iP(t)?"margin":"padding")+("rtl"===oN(t,"direction")?"-right":"-left"),RB=(e,t,r,o,n,a)=>{let l=RL(r,rF.fromDom(a)),i=RO(e.getStyle(a,l));if("outdent"===t){let t=Math.max(0,i-o);e.setStyle(a,l,t?t+n:"")}else e.setStyle(a,l,i+o+n)},RH=(e,t)=>e_(t,t=>{let r=RL(d3(e),t),o=oD(t,r).map(RO).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&o>0}),RP=e=>{let t=RI(e);return!e.mode.isReadOnly()&&(t.length>1||RH(e,t))},Rz=e=>iI(e)||iF(e),RZ=e=>rQ(e).exists(Rz),RI=e=>eb(oq(e.selection.getSelectedBlocks()),e=>!Rz(e)&&!RZ(e)&&RM(e)),RF=(e,t)=>{var r,o;if(e.mode.isReadOnly())return;let{dom:n}=e,a=d5(e),l=null!==(o=null===(r=/[a-z%]+$/i.exec(a))||void 0===r?void 0:r[0])&&void 0!==o?o:"px",i=RO(a),s=d3(e);eg(RI(e),e=>{RB(n,t,s,i,l,e.dom)})},RV=e=>RF(e,"indent"),R$=e=>RF(e,"outdent"),Rj=e=>{if(e.selection.isCollapsed()&&RP(e)){let t=e.dom,r=e.selection.getRng(),o=sI.fromRangeStart(r),n=t.getParent(r.startContainer,t.isBlock);if(null!==n&&vm(rF.fromDom(n),o,e.schema))return el.some(()=>R$(e))}return el.none()},RU=(e,t,r)=>eB([Rj,Ak,An,(e,r)=>N9(e,t,r),TG,wp,AM,RD,T4,RE,AR],t=>t(e,r)).filter(t=>e.selection.isEditable()),Rq=(e,t)=>{RU(e,t,!1).fold(()=>{e.selection.isEditable()&&(by(e),bk(e))},eo)},RW=(e,t)=>{RU(e,t,!0).fold(()=>{e.selection.isEditable()&&bC(e)},eo)},RK=(e,t)=>{e.addCommand("delete",()=>{Rq(e,t)}),e.addCommand("forwardDelete",()=>{RW(e,t)})},RY=e=>void 0===e.touches||1!==e.touches.length?el.none():el.some(e.touches[0]),RG=(e,t)=>{let r=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return r>5||o>5},RX=e=>{let t=n8(),r=n5(!1),o=ie(t=>{e.dispatch("longpress",{...t,type:"longpress"}),r.set(!0)},400);e.on("touchstart",e=>{RY(e).each(n=>{o.cancel();let a={x:n.clientX,y:n.clientY,target:e.target};o.throttle(e),r.set(!1),t.set(a)})},!0),e.on("touchmove",n=>{o.cancel(),RY(n).each(o=>{t.on(n=>{RG(o,n)&&(t.clear(),r.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",n=>{o.cancel(),"touchcancel"!==n.type&&t.get().filter(e=>e.target.isEqualNode(n.target)).each(()=>{r.get()?n.preventDefault():e.dispatch("tap",{...n,type:"tap"})})},!0)},RJ=(e,t)=>eY(e,t.nodeName),RQ=(e,t)=>!!nD(t)||!!ny(t)&&!RJ(e.getBlockElements(),t)&&!uA(t)&&!ay(e,t)&&!at(t),R1=(e,t,r)=>eh(vn(rF.fromDom(r),rF.fromDom(t)),t=>RJ(e,t.dom)),R0=(e,t)=>{if(nD(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||RJ(e,t.nextSibling)||at(t.nextSibling)}return!1},R2=e=>e.dom.create(dz(e),dZ(e)),R4=e=>{let t,r;let o=e.dom,n=e.selection,a=e.schema,l=a.getBlockElements(),i=n.getStart(),s=e.getBody(),d=null,c=dz(e);if(!i||!ny(i))return;let m=s.nodeName.toLowerCase();if(!a.isValidChild(m,c.toLowerCase())||R1(l,s,i))return;if(s.firstChild===s.lastChild&&nP(s.firstChild)){(t=R2(e)).appendChild(iW().dom),s.replaceChild(t,s.firstChild),e.selection.setCursorLocation(t,0),e.nodeChanged();return}let u=s.firstChild;for(;u;)if(ny(u)&&ag(a,u),RQ(a,u)){if(R0(l,u)){r=u,u=u.nextSibling,o.remove(r);continue}if(!t){if(!d&&e.hasFocus()&&(d=AA(e.selection.getRng(),()=>document.createElement("span"))),!u.parentNode){u=null;break}t=R2(e),s.insertBefore(t,u)}r=u,u=u.nextSibling,t.appendChild(r)}else t=null,u=u.nextSibling;d&&(e.selection.setRng(AN(d)),e.nodeChanged())},R3=(e,t,r)=>{let o=rF.fromDom(R2(e)),n=iW();oz(o,n),r(t,o);let a=document.createRange();return a.setStartBefore(n.dom),a.setEndBefore(n.dom),a},R5=e=>{e.on("NodeChange",()=>R4(e))},R7=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),R6=(e,t,r)=>function(o){let n=arguments,a=n[n.length-2],l=a>0?t.charAt(a-1):"";if('"'===l)return o;if(">"===l){let e=t.lastIndexOf("<",a);if(-1!==e&&-1!==t.substring(e,a).indexOf('contenteditable="false"'))return o}return'<span class="'+r+'" data-mce-content="'+e.dom.encode(n[0])+'">'+e.dom.encode("string"==typeof n[1]?n[1]:n[0])+"</span>"},R8=(e,t,r)=>{let o=t.length,n=r.content;if("raw"!==r.format){for(;o--;)n=n.replace(t[o],R6(e,n,cQ(e)));r.content=n}},R9=(e,t)=>e_(e,e=>{let r=t.match(e);return null!==r&&r[0].length===t.length}),De=e=>{let t="contenteditable",r=" "+t4.trim(c1(e))+" ",o=" "+t4.trim(cQ(e))+" ",n=R7(r),a=R7(o),l=c0(e);l.length>0&&e.on("BeforeSetContent",t=>{R8(e,l,t)}),e.parser.addAttributeFilter("class",e=>{let r=e.length;for(;r--;){let o=e[r];n(o)?o.attr(t,"true"):a(o)&&o.attr(t,"false")}}),e.serializer.addAttributeFilter(t,e=>{let r=e.length;for(;r--;){let o=e[r];if(!n(o)&&!a(o))continue;let i=o.attr("data-mce-content");l.length>0&&i?R9(l,i)?(o.name="#text",o.type=3,o.raw=!0,o.value=i):o.remove():o.attr(t,null)}})},Dt=e=>ow(rF.fromDom(e.getBody()),"*[data-mce-caret]").map(e=>e.dom).getOrNull(),Dr=(e,t)=>{t.hasAttribute("data-mce-caret")&&(i9(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},Do=(e,t)=>{let r=Dt(e);if(r){if("compositionstart"===t.type){t.preventDefault(),t.stopPropagation(),Dr(e,r);return}i0(r)&&(Dr(e,r),e.undoManager.add())}},Dn=e=>{e.on("keyup compositionstart",Q(Do,e))},Da=(e,t,r)=>NZ(t,e,r,ve,vt,nI),Dl=(e,t,r)=>NI(t,e,r,e=>ve(e)||p8(e),e=>vt(e)||p9(e),nI),Di=e=>{let t=e.dom.create(dz(e));return t.innerHTML='<br data-mce-bogus="1">',t},Ds=(e,t,r)=>{let o=mJ(e.getBody()),n=Q(mj,1===t?o.next:o.prev);if(r.collapsed){let o=e.dom.getParent(r.startContainer,"PRE");if(!o)return;if(!n(sI.fromRangeStart(r))){let r=rF.fromDom(Di(e));1===t?oH(rF.fromDom(o),r):oB(rF.fromDom(o),r),e.selection.select(r.dom,!0),e.selection.collapse()}}},Dd=(e,t)=>{let r=t?g.Forwards:g.Backwards,o=e.selection.getRng();return Da(r,e,o).orThunk(()=>(Ds(e,r,o),el.none()))},Dc=(e,t)=>{let r=t?1:-1,o=e.selection.getRng();return Dl(r,e,o).orThunk(()=>(Ds(e,r,o),el.none()))},Dm=(e,t)=>bc(t?e.getEnd(!0):e.getStart(!0))?!t:t,Du=(e,t)=>Dd(e,Dm(e.selection,t)).exists(t=>(NP(e,t),!0)),Dh=(e,t)=>Dc(e,t).exists(t=>(NP(e,t),!0)),Df=(e,t)=>NV(e,t,t?vt:ve),Dg=(e,t)=>Aa(e,!t).map(r=>{let o=r.toRange(),n=e.selection.getRng();return t?o.setStart(n.startContainer,n.startOffset):o.setEnd(n.endContainer,n.endOffset),o}).exists(t=>(NP(e,t),!0)),Dp=e=>eu(["figcaption"],rs(e)),Dv=(e,t,r)=>{let o=Q(rW,t);return of(rF.fromDom(e.container()),e=>r.isBlock(rs(e)),o).filter(Dp)},Db=(e,t,r)=>t?Np(e.dom,r):Ng(e.dom,r),Dw=(e,t)=>{let r=rF.fromDom(e.getBody()),o=sI.fromRangeStart(e.selection.getRng());return Dv(o,r,e.schema).exists(()=>{if(!Db(r,t,o))return!1;{let o=R3(e,r,t?oz:oP);return e.selection.setRng(o),!0}})},Dy=(e,t)=>!!e.selection.isCollapsed()&&Dw(e,t),DC=(e,t,r)=>{let o=e.selection.getRng(),n=sI.fromRangeStart(o);return!!(e.getBody().firstChild===t&&Ng(r,n))&&(e.execCommand("InsertNewBlockBefore"),!0)},Dx=(e,t)=>{let r=e.selection.getRng(),o=sI.fromRangeStart(r);return!!(e.getBody().lastChild===t&&Np(t,o))&&(e.execCommand("InsertNewBlockAfter"),!0)},DE=(e,t)=>t?el.from(e.dom.getParent(e.selection.getNode(),"details")).map(t=>Dx(e,t)).getOr(!1):el.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(t=>el.from(e.dom.getParent(t,"details")).map(r=>DC(e,r,t))).getOr(!1),DS=(e,t)=>DE(e,t),Dk={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},D_=e=>ef(e,e=>({...Dk,...e})),DT=e=>ef(e,e=>({...Dk,...e})),DA=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,DN=(e,t)=>ek(D_(e),e=>DA(e,t)?[e]:[]),DR=(e,t)=>ek(DT(e),e=>DA(e,t)?[e]:[]),DD=(e,...t)=>()=>e.apply(null,t),DM=(e,t)=>ex(DN(e,t),e=>e.action()),DO=(e,t)=>eB(DR(e,t),e=>e.action()),DL=(e,t)=>{let r=t?g.Forwards:g.Backwards,o=e.selection.getRng();return NZ(e,r,o,p7,p6,n$).exists(t=>(NP(e,t),!0))},DB=(e,t)=>{let r=e.selection.getRng();return NI(e,t?1:-1,r,p7,p6,n$).exists(t=>(NP(e,t),!0))},DH=(e,t)=>NV(e,t,t?p6:p7),DP=dc([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Dz={...DP,none:e=>DP.none(e)},DZ=(e,t)=>DI(e,t,ea),DI=(e,t,r)=>ek(r6(e),e=>r$(e,t)?r(e)?[e]:[]:DI(e,t,r)),DF=(e,t,r=en)=>r(t)?el.none():eu(e,rs(t))?el.some(t):ob(t,e.join(","),e=>r$(e,"table")||r(e)),DV=(e,t)=>DF(["td","th"],e,t),D$=e=>DZ(e,"th,td"),Dj=(e,t)=>oy(e,"table",t),DU=(e,t,r,o,n=ea)=>{let a=1===o;if(!a&&r<=0)return Dz.first(e[0]);{if(a&&r>=e.length-1)return Dz.last(e[e.length-1]);let l=r+o,i=e[l];return n(i)?Dz.middle(t,i):DU(e,t,l,o,n)}},Dq=(e,t)=>Dj(e,t).bind(t=>{let r=D$(t);return eE(r,t=>rW(e,t)).map(e=>({index:e,all:r}))}),DW=(e,t,r)=>Dq(e,r).fold(()=>Dz.none(e),r=>DU(r.all,e,r.index,1,t)),DK=(e,t,r)=>Dq(e,r).fold(()=>Dz.none(),r=>DU(r.all,e,r.index,-1,t)),DY=e=>iL(e).filter(e=>0!==e.trim().length||e.indexOf("")>-1).isSome(),DG=e=>ru(e)&&"false"===rC(e,"contenteditable"),DX=["img","br"],DJ=e=>DY(e)||eu(DX,rs(e))||DG(e),DQ=e=>ov(e,DJ),D1=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}),D0=(e,t)=>ek(t,t=>{let r=D1(sr(t.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]}),D2=(e,t,r)=>ey(e,(e,o)=>e.fold(()=>el.some(o),e=>{let n=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-r)),a=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-r));return el.some(a<n?o:e)}),el.none()),D4=(e,t,r,o,n)=>D2(eb(D0(e,na(rF.fromDom(r),"td,th,caption").map(e=>e.dom)),e=>t(e,n)),o,n).map(e=>e.cell),D3=Q(D4,e=>e.bottom,(e,t)=>e.y<t),D5=Q(D4,e=>e.top,(e,t)=>e.y>t),D7=(e,t)=>eM(t.getClientRects()).bind(t=>D3(e,t.left,t.top)).bind(e=>Nc(Nb(e),t)),D6=(e,t)=>eO(t.getClientRects()).bind(t=>D5(e,t.left,t.top)).bind(e=>Nc(Nv(e),t)),D8=(e,t,r)=>r.breakAt.exists(r=>e(t,r).breakAt.isSome()),D9=e=>e.breakType===v.Wrap&&0===e.positions.length,Me=e=>e.breakType===v.Br&&1===e.positions.length,Mt=(e,t,r)=>{let o=e(t,r);return D9(o)||!nP(r.getNode())&&Me(o)?!D8(e,t,o):o.breakAt.isNone()},Mr=Q(Mt,Nm),Mo=Q(Mt,Nu),Mn=(e,t,r)=>{let o=sI.fromRangeStart(t);return m9(!e,r).exists(e=>e.isEqual(o))},Ma=(e,t,r,o)=>{let n=e.selection.getRng();return!!(mx()&&Mn(t,n,r))&&(T3(t?1:-1,e,r,!t,!1).each(t=>{NP(e,t)}),!0)},Ml=(e,t,r)=>D7(t,r).orThunk(()=>eM(r.getClientRects()).bind(r=>Nd(Nh(e,sI.before(t)),r.left))).getOr(sI.before(t)),Mi=(e,t,r)=>D6(t,r).orThunk(()=>eM(r.getClientRects()).bind(r=>Nd(Nf(e,sI.after(t)),r.left))).getOr(sI.after(t)),Ms=(e,t)=>{let r=t.getNode(e);return nA(r)?el.some(r):el.none()},Md=(e,t,r)=>{t.undoManager.transact(()=>{let o=R3(t,rF.fromDom(r),e?oH:oB);NP(t,o)})},Mc=(e,t,r)=>{let o=t?Ms(!0,r):Ms(!1,r),n=!1===t;o.fold(()=>NP(e,r.toRange()),o=>m9(n,e.getBody()).filter(e=>e.isEqual(r)).fold(()=>NP(e,r.toRange()),r=>Md(t,e,o)))},Mm=(e,t,r,o)=>{let n=e.selection.getRng(),a=sI.fromRangeStart(n),l=e.getBody();return!t&&Mr(o,a)?(Mc(e,t,Ml(l,r,a)),!0):!!(t&&Mo(o,a))&&(Mc(e,t,Mi(l,r,a)),!0)},Mu=(e,t,r)=>el.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(o=>el.from(e.dom.getParent(o,"table")).map(n=>r(e,t,n,o))).getOr(!1),Mh=(e,t)=>Mu(e,t,Ma),Mf=(e,t)=>Mu(e,t,Mm),Mg=e=>fH(fN(e,0,e,0)),Mp=(e,t,r)=>r.fold(el.none,el.none,(e,t)=>DQ(t).map(e=>Mg(e)),r=>e.mode.isReadOnly()?el.none():(e.execCommand("mceTableInsertRowAfter"),Mv(e,t,r))),Mv=(e,t,r)=>Mp(e,t,DW(r,ox)),Mb=(e,t,r)=>Mp(e,t,DK(r,ox)),Mw=(e,t)=>{let r=["table","li","dl"],o=rF.fromDom(e.getBody()),n=e=>{let t=rs(e);return rW(e,o)||eu(r,t)},a=e.selection.getRng();return DV(rF.fromDom(t?a.endContainer:a.startContainer),n).map(r=>(Dj(r,n).each(t=>{e.model.table.clearSelectedCells(t.dom)}),e.selection.collapse(!t),(t?Mv:Mb)(e,n,r).each(t=>{e.selection.setRng(t)}),!0)).getOr(!1)},My=(e,t,r)=>{let o=tQ.os.isMacOS()||tQ.os.isiOS();DM([{keyCode:fo.RIGHT,action:DD(Du,e,!0)},{keyCode:fo.LEFT,action:DD(Du,e,!1)},{keyCode:fo.UP,action:DD(Dh,e,!1)},{keyCode:fo.DOWN,action:DD(Dh,e,!0)},...o?[{keyCode:fo.UP,action:DD(Dg,e,!1),metaKey:!0,shiftKey:!0},{keyCode:fo.DOWN,action:DD(Dg,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:fo.RIGHT,action:DD(Mh,e,!0)},{keyCode:fo.LEFT,action:DD(Mh,e,!1)},{keyCode:fo.UP,action:DD(Mf,e,!1)},{keyCode:fo.DOWN,action:DD(Mf,e,!0)},{keyCode:fo.UP,action:DD(Mf,e,!1)},{keyCode:fo.UP,action:DD(DS,e,!1)},{keyCode:fo.DOWN,action:DD(DS,e,!0)},{keyCode:fo.RIGHT,action:DD(DL,e,!0)},{keyCode:fo.LEFT,action:DD(DL,e,!1)},{keyCode:fo.UP,action:DD(DB,e,!1)},{keyCode:fo.DOWN,action:DD(DB,e,!0)},{keyCode:fo.RIGHT,action:DD(NX,e,t,!0)},{keyCode:fo.LEFT,action:DD(NX,e,t,!1)},{keyCode:fo.RIGHT,ctrlKey:!o,altKey:o,action:DD(N1,e,t)},{keyCode:fo.LEFT,ctrlKey:!o,altKey:o,action:DD(N0,e,t)},{keyCode:fo.UP,action:DD(Dy,e,!1)},{keyCode:fo.DOWN,action:DD(Dy,e,!0)}],r).each(e=>{r.preventDefault()})},MC=(e,t)=>{e.on("keydown",r=>{r.isDefaultPrevented()||My(e,t,r)})},Mx=(e,t)=>({container:e,offset:t}),ME=lJ.DOM,MS=e=>t=>e===t?-1:0,Mk=e=>t=>e.isBlock(t)||eu(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t),M_=(e,t,r)=>{if(nD(e)&&t>=0)return el.some(Mx(e,t));{let o=iD(ME);return el.from(o.backwards(e,t,MS(e),r)).map(e=>Mx(e.container,e.container.data.length))}},MT=(e,t,r)=>{if(nD(e)&&t>=e.length)return el.some(Mx(e,t));{let o=iD(ME);return el.from(o.forwards(e,t,MS(e),r)).map(e=>Mx(e.container,0))}},MA=(e,t,r)=>{if(!nD(e))return el.none();let o=e.data;if(t>=0&&t<=o.length)return el.some(Mx(e,t));{let o=iD(ME);return el.from(o.backwards(e,t,MS(e),r)).bind(e=>{let o=e.container.data;return MA(e.container,t+o.length,r)})}},MN=(e,t,r)=>{if(!nD(e))return el.none();let o=e.data;if(t<=o.length)return el.some(Mx(e,t));{let n=iD(ME);return el.from(n.forwards(e,t,MS(e),r)).bind(e=>MN(e.container,t-o.length,r))}},MR=(e,t,r,o,n)=>{let a=iD(e,Mk(e));return el.from(a.backwards(t,r,o,n))},MD=e=>e.collapsed&&nD(e.startContainer),MM=e=>iG(e.toString().replace(/\u00A0/g," ")),MO=e=>""!==e&&-1!==" \uFEFF\f\n\r	\v".indexOf(e),ML=(e,t)=>e.substring(t.length),MB=(e,t,r,o=!1)=>{let n;let a=r.charAt(0);for(n=t-1;n>=0;n--){let l=e.charAt(n);if(!o&&MO(l))return el.none();if(a===l&&tm(e,r,n,t))break}return el.some(n)},MH=(e,t,r,o=!1)=>{if(!MD(t))return el.none();let n={text:"",offset:0},a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return MR(e,t.startContainer,t.startOffset,(e,t,a)=>(n.text=a+n.text,n.offset+=t,MB(n.text,n.offset,r,o).getOr(t)),a).bind(e=>{let o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return el.none();let n=MM(o);return 0!==n.lastIndexOf(r)?el.none():el.some({text:ML(n,r),range:o,trigger:r})})},MP=e=>3===e.nodeType,Mz=e=>1===e.nodeType,MZ=e=>{if(MP(e))return Mx(e,e.data.length);{let t=e.childNodes;return t.length>0?MZ(t[t.length-1]):Mx(e,t.length)}},MI=(e,t)=>{let r=e.childNodes;return r.length>0&&t<r.length?MI(r[t],0):r.length>0&&Mz(e)&&r.length===t?MZ(r[r.length-1]):Mx(e,t)},MF=(e,t)=>{var r;let o=null!==(r=e.getParent(t.container,e.isBlock))&&void 0!==r?r:e.getRoot();return MR(e,t.container,t.offset,(e,t)=>0===t?-1:t,o).filter(e=>!MO(e.container.data.charAt(e.offset-1))).isSome()},MV=e=>t=>!MF(e,MI(t.startContainer,t.startOffset)),M$=(e,t,r)=>eB(r.triggers,r=>MH(e,t,r)),Mj=(e,t)=>{let r=t(),o=e.selection.getRng();return M$(e.dom,o,r).bind(r=>MU(e,t,r))},MU=(e,t,r,o={})=>{var n;let a=t(),l=null!==(n=e.selection.getRng().startContainer.nodeValue)&&void 0!==n?n:"",i=eb(a.lookupByTrigger(r.trigger),t=>r.text.length>=t.minChars&&t.matches.getOrThunk(()=>MV(e.dom))(r.range,l,r.text));if(0===i.length)return el.none();let s=Promise.all(ef(i,e=>e.fetch(r.text,e.maxResults,o).then(t=>({matchText:r.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))));return el.some({lookupData:s,context:r})};(h=w||(w={}))[h.Error=0]="Error",h[h.Value=1]="Value";let Mq=(e,t,r)=>e.stype===w.Error?t(e.serror):r(e.svalue),MW={toResult:e=>Mq(e,dd.error,dd.value),svalue:e=>({stype:w.Value,svalue:e}),partition:e=>{let t=[],r=[];return eg(e,e=>{Mq(e,e=>r.push(e),e=>t.push(e))}),{values:t,errors:r}},serror:e=>({stype:w.Error,serror:e}),bindError:(e,t)=>e.stype===w.Error?t(e.serror):e,map:(e,t)=>e.stype===w.Value?{stype:w.Value,svalue:t(e.svalue)}:e,mapError:(e,t)=>e.stype===w.Error?{stype:w.Error,serror:t(e.serror)}:e,fold:Mq},MK=e=>H(e)&&eP(e).length>100?" removed due to size":JSON.stringify(e,null,2),MY=e=>ef(e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:G("... (only showing first ten failures)")}]):e,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()),MG=(e,t)=>MW.serror([{path:e,getErrorInfo:t}]),MX=(e,t,r)=>MG(e,()=>'Could not find valid *required* value for "'+t+'" in '+MK(r)),MJ=(e,t)=>MG(e,()=>'Choice schema did not contain choice key: "'+t+'"'),MQ=(e,t,r)=>MG(e,()=>'The chosen schema: "'+r+'" did not exist in branches: '+MK(t)),M1=(e,t)=>MG(e,G(t)),M0=(e,t,r,o)=>eK(r,o).fold(()=>MQ(e,r,o),r=>r.extract(e.concat(["branch: "+o]),t)),M2=(e,t)=>({extract:(r,o)=>eK(o,e).fold(()=>MJ(r,e),e=>M0(r,o,t,e)),toString:()=>"chooseOn("+e+"). Possible values: "+eP(t)}),M4=e=>(...t)=>{if(0===t.length)throw Error("Can't merge zero objects");let r={};for(let o=0;o<t.length;o++){let n=t[o];for(let t in n)eY(n,t)&&(r[t]=e(r[t],n[t]))}return r},M3=M4((e,t)=>P(e)&&P(t)?M3(e,t):t),M5=M4((e,t)=>t),M7=()=>({tag:"required",process:{}}),M6=e=>({tag:"defaultedThunk",process:e}),M8=e=>M6(G(e)),M9=()=>({tag:"option",process:{}}),Oe=e=>K(MW.serror,eS)(e),Ot=e=>{let t=MW.partition(e);return t.errors.length>0?Oe(t.errors):MW.svalue(t.values)},Or=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},Oo=e=>({extract:(t,r)=>MW.bindError(e(r),e=>M1(t,e)),toString:G("val")}),On=Oo(MW.svalue),Oa=(e,t,r,o)=>eK(t,r).fold(()=>MX(e,r,t),o),Ol=(e,t,r,o)=>o(eK(e,t).getOrThunk(()=>r(e))),Oi=(e,t,r)=>r(eK(e,t)),Os=(e,t,r,o)=>o(eK(e,t).map(t=>!0===t?r(e):t)),Od=(e,t,r,o,n)=>{let a=e=>n.extract(t.concat([o]),e),l=e=>e.fold(()=>MW.svalue(el.none()),e=>{let r=n.extract(t.concat([o]),e);return MW.map(r,el.some)});switch(e.tag){case"required":return Oa(t,r,o,a);case"defaultedThunk":return Ol(r,o,e.process,a);case"option":return Oi(r,o,l);case"defaultedOptionThunk":return Os(r,o,e.process,l);case"mergeWithThunk":return Ol(r,o,G({}),t=>a(M3(e.process(r),t)))}},Oc=(e,t,r)=>{let o={},n=[];for(let a of r)Or(a,(r,a,l,i)=>{let s=Od(l,e,t,r,i);MW.fold(s,e=>{n.push(...e)},e=>{o[a]=e})},(e,r)=>{o[e]=r(t)});return n.length>0?MW.serror(n):MW.svalue(o)},Om=e=>({extract:(t,r)=>Oc(t,r,e),toString:()=>"obj{\n"+ef(e,e=>Or(e,(e,t,r,o)=>e+" -> "+o.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}),Ou=e=>({extract:(t,r)=>Ot(ef(r,(r,o)=>e.extract(t.concat(["["+o+"]"]),r))),toString:()=>"array("+e.toString()+")"}),Oh=e=>Oo(t=>e(t).fold(MW.serror,MW.svalue)),Of=(e,t,r)=>{let o=t.extract([e],r);return MW.mapError(o,e=>({input:r,errors:e}))},Og=(e,t,r)=>MW.toResult(Of(e,t,r)),Op=e=>"Errors: \n"+MY(e.errors).join("\n")+"\n\nInput object: "+MK(e.input),Ov=(e,t)=>M2(e,eI(t,Om)),Ob=G(On),Ow=(e,t)=>Oo(r=>{let o=typeof r;return e(r)?MW.svalue(r):MW.serror(`Expected type: ${t} but got: ${o}`)}),Oy=Ow(U,"number"),OC=Ow(B,"string"),Ox=Ow(I,"boolean"),OE=Ow(j,"function"),OS=(e,t,r,o)=>({tag:"field",key:e,newKey:t,presence:r,prop:o}),Ok=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),O_=e=>Oh(t=>eu(e,t)?dd.value(t):dd.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),OT=(e,t)=>OS(e,e,M7(),t),OA=e=>OT(e,OC),ON=e=>OT(e,OE),OR=(e,t)=>OS(e,e,M9(),t),OD=e=>OR(e,OC),OM=(e,t,r)=>OS(e,e,M8(t),r),OO=(e,t)=>OM(e,t,Oy),OL=(e,t)=>OM(e,t,OC),OB=(e,t,r)=>OM(e,t,O_(r)),OH=(e,t)=>OM(e,t,Ox),OP=(e,t)=>OM(e,t,OE),Oz=OA("type"),OZ=ON("fetch"),OI=ON("onAction"),OF=OP("onSetup",()=>W),OV=OD("text"),O$=OD("icon"),Oj=OD("tooltip"),OU=OD("label"),Oq=OH("active",!1),OW=OH("enabled",!0),OK=OH("primary",!1),OY=e=>OL("type",e),OG=Om([Oz,OA("trigger"),OO("minChars",1),OS(i="columns",i,M8(1),Ob()),OO("maxResults",10),OR("matches",OE),OZ,OI,OM("highlightOn",[],Ou(OC))]),OX=e=>Og("Autocompleter",OG,e),OJ=[OW,Oj,O$,OV,OF,OL("context","mode:design")],OQ=[Oq].concat(OJ),O1=[OP("predicate",en),OB("scope","node",["node","editor"]),OB("position","selection",["node","selection","line"])],O0=OJ.concat([OY("contextformbutton"),OK,OI,Ok("original",X)]),O2=OQ.concat([OY("contextformbutton"),OK,OI,Ok("original",X)]),O4=OJ.concat([OY("contextformbutton")]),O3=OQ.concat([OY("contextformtogglebutton")]),O5=Ov("type",{contextformbutton:O0,contextformtogglebutton:O2});Om([OY("contextform"),OP("initValue",G("")),OU,OS(a="commands",a,M7(),Ou(O5)),OR("launch",Ov("type",{contextformbutton:O4,contextformtogglebutton:O3}))].concat(O1));let O7=e=>{let t=eI(e.ui.registry.getAll().popups,e=>OX(e).fold(e=>{throw Error(Op(e))},X)),r=eJ(eq(t,e=>e.trigger)),o=eW(t);return{dataset:t,triggers:r,lookupByTrigger:e=>eb(o,t=>t.trigger===e)}},O6=(e,t)=>{let r=ie(t.load,50);e.on("input",t=>{("insertCompositionText"!==t.inputType||e.composing)&&r.throttle()}),e.on("keydown",e=>{let o=e.which;8===o?r.throttle():27===o?(r.cancel(),t.cancelIfNecessary()):(38===o||40===o)&&r.cancel()},!0),e.on("remove",r.cancel)},O8=e=>{let t=n8(),r=n5(!1),o=t.isSet,n=()=>{o()&&(h8(e),r.set(!1),t.clear())},a=e=>{o()||t.set({trigger:e.trigger,matchLength:e.text.length})},l=e6(()=>O7(e)),i=r=>t.get().map(t=>MH(e.dom,e.selection.getRng(),t.trigger,!0).bind(t=>MU(e,l,t,r))).getOrThunk(()=>Mj(e,l)),s=o=>{i(o).fold(n,o=>{a(o.context),o.lookupData.then(n=>{t.get().map(a=>{let l=o.context;a.trigger===l.trigger&&(t.set({...a,matchLength:l.text.length}),r.get()?(h6(e,{range:l.range}),h7(e,{lookupData:n})):(r.set(!0),h6(e,{range:l.range}),h5(e,{lookupData:n})))})})})},d=(e,t)=>{let r=e.compareBoundaryPoints(window.Range.START_TO_START,t),o=e.compareBoundaryPoints(window.Range.END_TO_END,t);return r>=0&&o<=0},c=()=>t.get().bind(({trigger:t})=>{let o=e.selection.getRng();return MH(e.dom,o,t,r.get()).filter(({range:e})=>d(o,e)).map(({range:e})=>e)});e.addCommand("mceAutocompleterReload",(e,t)=>{s(H(t)?t.fetchOptions:{})}),e.addCommand("mceAutocompleterClose",n),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{c().each(t=>{h6(e,{range:t})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>c().isSome()),O6(e,{cancelIfNecessary:n,load:s})},O9=tq().browser.isSafari(),Le=e=>iK(rF.fromDom(e)),Lt=(e,t)=>{var r;return 0===e.startOffset&&e.endOffset===(null===(r=t.textContent)||void 0===r?void 0:r.length)},Lr=(e,t)=>el.from(e.getParent(t.container(),"details")),Lo=(e,t)=>Lr(e,t).isSome(),Ln=(e,t)=>{let r=el.from(e.getParent(t.startContainer,"details")),o=el.from(e.getParent(t.endContainer,"details"));if(!(r.isSome()||o.isSome()))return el.none();{let t=r.bind(t=>el.from(e.select("summary",t)[0]));return el.some({startSummary:t,startDetails:r,endDetails:o})}},La=(e,t)=>ur(t).exists(t=>t.isEqual(e)),Ll=(e,t)=>uo(t).exists(r=>nP(r.getNode())&&ut(t,r).exists(t=>t.isEqual(e))||r.isEqual(e)),Li=(e,t)=>t.startSummary.exists(t=>La(e,t)),Ls=(e,t)=>t.startSummary.exists(t=>Ll(e,t)),Ld=(e,t)=>t.startDetails.exists(r=>ut(r,e).forall(r=>t.startSummary.exists(t=>!t.contains(e.container())&&t.contains(r.container())))),Lc=(e,t,r)=>r.startDetails.exists(r=>ue(e,t).forall(e=>!r.contains(e.container()))),Lm=(e,t)=>{let r=t.getNode();F(r)||e.selection.setCursorLocation(r,t.offset())},Lu=(e,t,r)=>{let o=e.dom.getParent(t.container(),"details");if(o&&!o.open){let t=e.dom.select("summary",o)[0];t&&(r?ur(t):uo(t)).each(t=>Lm(e,t))}else Lm(e,t)},Lh=(e,t)=>{let r=t.startSummary.exists(t=>t.contains(e.startContainer)),o=t.startSummary.exists(t=>t.contains(e.endContainer)),n=t.startDetails.forall(e=>t.endDetails.forall(t=>e!==t));return(r||o)&&!(r&&o)||n},Lf=(e,t,r)=>{let{dom:o,selection:n}=e,a=e.getBody();if("character"!==r)return!1;{let r=sI.fromRangeStart(n.getRng()),l=o.getParent(r.container(),o.isBlock),i=Lr(o,r),s=l&&o.isEmpty(l),d=Z(null==l?void 0:l.previousSibling),c=Z(null==l?void 0:l.nextSibling);return!!(s&&(t?c:d)&&m6(!t,a,r).exists(e=>Lo(o,e)&&!t5(i,Lr(o,e))))||m6(t,a,r).fold(en,r=>{let n=Lr(o,r);if(!Lo(o,r)||t5(i,n))return!1;if(t||Lu(e,r,!1),l&&s){if(t&&d||!t&&c)return!0;Lu(e,r,t),e.dom.remove(l)}return!0})}},Lg=(e,t,r,o)=>{let n=e.selection.getRng(),a=sI.fromRangeStart(n),l=e.getBody();return"selection"===o?Lh(n,t):r?Ls(a,t)||Lc(l,a,t):Li(a,t)||Ld(a,t)},Lp=(e,t,r)=>Ln(e.dom,e.selection.getRng()).fold(()=>Lf(e,t,r),o=>Lg(e,o,t,r)||Lf(e,t,r)),Lv=(e,t,r)=>{let o=e.selection,n=o.getNode(),a=o.getRng(),l=sI.fromRangeStart(a);return!!nq(n)&&("selection"===r&&Lt(a,n)||b_(t,l,n)?Le(n):e.undoManager.transact(()=>{let a=o.getSel(),{anchorNode:l,anchorOffset:i,focusNode:s,focusOffset:d}=null!=a?a:{},c=()=>{$(l)&&$(i)&&$(s)&&$(d)&&(null==a||a.setBaseAndExtent(l,i,s,d))},m=(e,t)=>{eg(e.childNodes,e=>{uY(e)&&t.appendChild(e)})},u=e.dom.create("span",{"data-mce-bogus":"1"});m(n,u),n.appendChild(u),c(),("word"===r||"line"===r)&&(null==a||a.modify("extend",t?"right":"left",r)),!o.isCollapsed()&&Lt(o.getRng(),u)?Le(n):(e.execCommand(t?"ForwardDelete":"Delete"),l=null==a?void 0:a.anchorNode,i=null==a?void 0:a.anchorOffset,s=null==a?void 0:a.focusNode,d=null==a?void 0:a.focusOffset,m(u,n),c()),e.dom.remove(u)}),!0)},Lb=(e,t,r)=>Lp(e,t,r)||O9&&Lv(e,t,r)?el.some(W):el.none(),Lw=e=>(t,r,o={})=>{let n=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:n,currentTarget:n,eventPhase:Event.AT_TARGET,originalTarget:n,explicitOriginalTarget:n,isTrusted:!1,srcElement:n,cancelable:!1,preventDefault:W,inputType:r},l=lM(new InputEvent(e));return t.dispatch(e,{...l,...a,...o})},Ly=Lw("input"),LC=Lw("beforeinput"),Lx=tq(),LE=Lx.os,LS=LE.isMacOS()||LE.isiOS(),Lk=Lx.browser.isFirefox(),L_=(e,t,r)=>{let o=r.keyCode===fo.BACKSPACE?"deleteContentBackward":"deleteContentForward",n=e.selection.isCollapsed(),a=n?"character":"selection",l=e=>n?e?"word":"line":"selection";DO([{keyCode:fo.BACKSPACE,action:DD(Rj,e)},{keyCode:fo.BACKSPACE,action:DD(Ak,e,!1)},{keyCode:fo.DELETE,action:DD(Ak,e,!0)},{keyCode:fo.BACKSPACE,action:DD(An,e,!1)},{keyCode:fo.DELETE,action:DD(An,e,!0)},{keyCode:fo.BACKSPACE,action:DD(N9,e,t,!1)},{keyCode:fo.DELETE,action:DD(N9,e,t,!0)},{keyCode:fo.BACKSPACE,action:DD(wp,e,!1)},{keyCode:fo.DELETE,action:DD(wp,e,!0)},{keyCode:fo.BACKSPACE,action:DD(Lb,e,!1,a)},{keyCode:fo.DELETE,action:DD(Lb,e,!0,a)},...LS?[{keyCode:fo.BACKSPACE,altKey:!0,action:DD(Lb,e,!1,l(!0))},{keyCode:fo.DELETE,altKey:!0,action:DD(Lb,e,!0,l(!0))},{keyCode:fo.BACKSPACE,metaKey:!0,action:DD(Lb,e,!1,l(!1))}]:[{keyCode:fo.BACKSPACE,ctrlKey:!0,action:DD(Lb,e,!1,l(!0))},{keyCode:fo.DELETE,ctrlKey:!0,action:DD(Lb,e,!0,l(!0))}],{keyCode:fo.BACKSPACE,action:DD(AM,e,!1)},{keyCode:fo.DELETE,action:DD(AM,e,!0)},{keyCode:fo.BACKSPACE,action:DD(RD,e,!1)},{keyCode:fo.DELETE,action:DD(RD,e,!0)},{keyCode:fo.BACKSPACE,action:DD(T4,e,!1)},{keyCode:fo.DELETE,action:DD(T4,e,!0)},{keyCode:fo.BACKSPACE,action:DD(TG,e,!1)},{keyCode:fo.DELETE,action:DD(TG,e,!0)},{keyCode:fo.BACKSPACE,action:DD(RE,e,!1)},{keyCode:fo.DELETE,action:DD(RE,e,!0)},{keyCode:fo.BACKSPACE,action:DD(AR,e,!1)},{keyCode:fo.DELETE,action:DD(AR,e,!0)}],r).filter(t=>e.selection.isEditable()).each(t=>{r.preventDefault(),LC(e,o).isDefaultPrevented()||(t(),Ly(e,o))})},LT=(e,t,r)=>DM([{keyCode:fo.BACKSPACE,action:DD(AS,e)},{keyCode:fo.DELETE,action:DD(AS,e)},...LS?[{keyCode:fo.BACKSPACE,altKey:!0,action:DD(RT,e)},{keyCode:fo.DELETE,altKey:!0,action:DD(RT,e)},...r?[{keyCode:Lk?224:91,action:DD(RT,e)}]:[]]:[{keyCode:fo.BACKSPACE,ctrlKey:!0,action:DD(RT,e)},{keyCode:fo.DELETE,ctrlKey:!0,action:DD(RT,e)}]],t),LA=(e,t)=>{let r=!1;e.on("keydown",o=>{r=o.keyCode===fo.BACKSPACE,o.isDefaultPrevented()||L_(e,t,o)}),e.on("keyup",t=>{t.isDefaultPrevented()||LT(e,t,r),r=!1})},LN=e=>{for(;e;){if(ny(e)||nD(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},LR=(e,t)=>{let r=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){let e=LN(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(r.doc.createTextNode(""),t.firstChild)}let n=r.createRng();if(t.normalize(),t.hasChildNodes()){let e;let r=new nd(t,t),a=t;for(;e=r.current();){if(nD(e)){n.setStart(e,0),n.setEnd(e,0);break}if(o[e.nodeName.toLowerCase()]){n.setStartBefore(e),n.setEndBefore(e);break}a=e,e=r.next()}e||(n.setStart(a,0),n.setEnd(a,0))}else nP(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)):(n.setStart(t,0),n.setEnd(t,0));e.selection.setRng(n),gv(e,n)},LD=(e,t)=>{let r;let o=e.getRoot(),n=t;for(;n!==o&&n&&"false"!==e.getContentEditable(n);){if("true"===e.getContentEditable(n)){r=n;break}n=n.parentNode}return n!==o?r:o},LM=e=>el.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),LO=e=>LM(e).fold(G(""),e=>e.nodeName.toUpperCase()),LL=e=>LM(e).filter(e=>iF(rF.fromDom(e))).isSome(),LB=e=>{e.innerHTML='<br data-mce-bogus="1">'},LH=(e,t,r)=>{let o=e.dom;el.from(r.style).map(o.parseStyle).each(e=>{let r={...oM(rF.fromDom(t)),...e};o.setStyles(t,r)}),t6(el.from(r.class).map(e=>e.split(/\s+/)),el.from(t.className).map(e=>eb(e.split(/\s+/),e=>""!==e)),(e,r)=>{let n=eb(r,t=>!eu(e,t)),a=[...e,...n];o.setAttrib(t,"class",a.join(" "))});let n=["style","class"],a=eU(r,(e,t)=>!eu(n,t));o.setAttribs(t,a)},LP=(e,t)=>{if(dz(e).toLowerCase()===t.tagName.toLowerCase()){let r=dZ(e);LH(e,t,r)}},Lz=(e,t,r,o,n=!0,a,l)=>{let i;let s=e.dom,d=e.schema,c=dz(e),m=r?r.nodeName.toUpperCase():"",u=t,h=d.getTextInlineElements(),f=i=a||"TABLE"===m||"HR"===m?s.create(a||c,l||{}):r.cloneNode(!1);if(n)do if(h[u.nodeName]){if(ua(u)||uA(u))continue;let e=u.cloneNode(!1);s.setAttrib(e,"id",""),i.hasChildNodes()?e.appendChild(i.firstChild):f=e,i.appendChild(e)}while((u=u.parentNode)&&u!==o)else s.setAttrib(i,"style",null),s.setAttrib(i,"class",null);return LP(e,i),LB(f),i},LZ=(e,t)=>e.dom.getParent(t,nU),LI=(e,t,r)=>{let o=t;for(;o&&o!==e&&Z(o.nextSibling);){let e=o.parentElement;if(!e||!r(e))return nU(e);o=e}return!1},LF=(e,t,r)=>!t&&r.nodeName.toLowerCase()===dz(e)&&e.dom.isEmpty(r)&&LI(e.getBody(),r,t=>eY(e.schema.getTextBlockElements(),t.nodeName.toLowerCase())),LV=(e,t,r)=>{var o,n,a;let l=t(dz(e)),i=LZ(e,r);i&&(e.dom.insertAfter(l,i),LR(e,l),(null!==(a=null===(n=null===(o=r.parentElement)||void 0===o?void 0:o.childNodes)||void 0===n?void 0:n.length)&&void 0!==a?a:0)>1&&e.dom.remove(r))},L$=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Lj=e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e},LU=(e,t)=>{let r=null==e?void 0:e.parentNode;return $(r)&&r.nodeName===t},Lq=e=>$(e)&&/^(OL|UL|LI)$/.test(e.nodeName),LW=e=>$(e)&&/^(LI|DT|DD)$/.test(e.nodeName),LK=e=>Lq(e)&&Lq(e.parentNode),LY=e=>{let t=e.parentNode;return LW(t)?t:e},LG=(e,t,r)=>{let o=e[r?"firstChild":"lastChild"];for(;o&&!ny(o);)o=o[r?"nextSibling":"previousSibling"];return o===t},LX=e=>ey(eq(oM(rF.fromDom(e)),(e,t)=>`${t}: ${e};`),(e,t)=>e+t,""),LJ=(e,t,r,o,n)=>{let a=e.dom,l=e.selection.getRng(),i=r.parentNode;if(r===e.getBody()||!i)return;LK(r)&&(n="LI");let s=LW(o)?LX(o):void 0,d=LW(o)&&s?t(n,{style:LX(o)}):t(n);if(LG(r,o,!0)&&LG(r,o,!1)){if(LU(r,"LI")){let e=LY(r);a.insertAfter(d,e),Lj(r)?a.remove(e):a.remove(r)}else a.replace(d,r)}else if(LG(r,o,!0))LU(r,"LI")?(a.insertAfter(d,LY(r)),d.appendChild(a.doc.createTextNode(" ")),d.appendChild(r)):i.insertBefore(d,r),a.remove(o);else if(LG(r,o,!1))a.insertAfter(d,LY(r)),a.remove(o);else{r=LY(r);let e=l.cloneRange();e.setStartAfter(o),e.setEndAfter(r);let t=e.extractContents();if("LI"===n&&L$(t,"LI")){let e=eb(ef(d.children,rF.fromDom),ee(rv("br")));d=t.firstChild,a.insertAfter(t,r),eg(e,e=>oP(rF.fromDom(d),e)),s&&d.setAttribute("style",s)}else a.insertAfter(t,r),a.insertAfter(d,r);a.remove(o)}LR(e,d)},LQ=e=>{eg(nn(rF.fromDom(e),rf),e=>{let t=e.dom;t.nodeValue=iG(t.data)})},L1=(e,t)=>{let r=e.dom.getParent(t,"ol,ul,dl");return null!==r&&"false"===e.dom.getContentEditableParent(r)},L0=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),L2=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,L4=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,L3=(e,t)=>$(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),L5=(e,t,r)=>{var o;let n=[];if(!r)return;let a=r;for(;a=a.firstChild;){if(e.isBlock(a))return;ny(a)&&!t[a.nodeName.toLowerCase()]&&n.push(a)}let l=n.length;for(;l--;)(a=n[l]).hasChildNodes()&&(a.firstChild!==a.lastChild||(null===(o=a.firstChild)||void 0===o?void 0:o.nodeValue)!=="")?L0(e,a)&&e.remove(a):e.remove(a)},L7=(e,t,r)=>nD(t)?e?1===r&&"\uFEFF"===t.data.charAt(r-1)?0:r:r===t.data.length-1&&"\uFEFF"===t.data.charAt(r)?t.data.length:r:r,L6=e=>{let t=e.cloneRange();return t.setStart(e.startContainer,L7(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,L7(!1,e.endContainer,e.endOffset)),t},L8=e=>{let t=e;do nD(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},L9=(e,t,r,o,n)=>{var a,l;let i=e.dom,s=null!==(a=LD(i,o))&&void 0!==a?a:i.getRoot(),d=i.getParent(o,i.isBlock);if(!d||!L3(i,d)){let a;if(!(d=d||s).hasChildNodes()){let o=i.create(t);return LP(e,o),d.appendChild(o),r.setStart(o,0),r.setEnd(o,0),o}let c=o;for(;c&&c.parentNode!==d;)c=c.parentNode;for(;c&&!i.isBlock(c);)a=c,c=c.previousSibling;let m=null===(l=null==a?void 0:a.parentElement)||void 0===l?void 0:l.nodeName;if(a&&m&&e.schema.isValidChild(m,t.toLowerCase())){let l=a.parentNode,s=i.create(t);for(LP(e,s),l.insertBefore(s,a),c=a;c&&!i.isBlock(c);){let e=c.nextSibling;s.appendChild(c),c=e}r.setStart(o,n),r.setEnd(o,n)}}return o},Be=(e,t)=>{t.normalize();let r=t.lastChild;(!r||ny(r)&&/^(left|right)$/gi.test(e.getStyle(r,"float",!0)))&&e.add(t,"br")},Bt=(e,t)=>{let r=dj(e);return!V(t)&&(B(r)?eu(t4.explode(r),t.nodeName.toLowerCase()):r)},Br={insert:(e,t)=>{let r,o,n,a,l;let i=!1,s=e.dom,d=e.schema.getNonEmptyElements(),c=e.selection.getRng(),m=dz(e),u=rF.fromDom(c.startContainer),h=r8(u,c.startOffset),f=h.exists(e=>ru(e)&&!ox(e)),g=c.collapsed&&f,p=(t,o)=>Lz(e,r,x,C,d$(e),t,o),v=e=>{let t;let n=L7(e,r,o);if(nD(r)&&(e?n>0:n<r.data.length))return!1;if((r.parentNode===x||r===x)&&i&&!e||e&&ny(r)&&r===x.firstChild)return!0;if(L2(r,"TABLE")||L2(r,"HR"))return L4(r,"BR")?!e:i&&!e||!i&&e;let a=new nd(r,x);for(nD(r)&&(e&&0===n?a.prev():e||n!==r.data.length||a.next());t=a.current();){if(ny(t)){if(!t.getAttribute("data-mce-bogus")){let e=t.nodeName.toLowerCase();if(d[e]&&"br"!==e)return!1}}else if(nD(t)&&!nu(t.data))return!1;e?a.prev():a.next()}return!0},b=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(n)&&"HGROUP"!==E?p(m):p(),Bt(e,a)&&L3(s,a)&&s.isEmpty(x,void 0,{includeZwsp:!0})?t=s.split(a,x):s.insertAfter(t,x),LR(e,t),t};fY(s,c).each(e=>{c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)}),r=c.startContainer,o=c.startOffset;let w=!!(t&&t.shiftKey),y=!!(t&&t.ctrlKey);ny(r)&&r.hasChildNodes()&&!g&&(i=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=i&&nD(r)?r.data.length:0);let C=LD(s,r);if(!C||L1(e,r))return;w||(r=L9(e,m,c,r,o));let x=s.getParent(r,s.isBlock)||s.getRoot();a=$(null==x?void 0:x.parentNode)?s.getParent(x.parentNode,s.isBlock):null,n=x?x.nodeName.toUpperCase():"";let E=a?a.nodeName.toUpperCase():"";if("LI"===E&&!y){let e=a;x=e,a=e.parentNode,n=E}if(ny(a)&&LF(e,w,x))return LV(e,p,x);if(/^(LI|DT|DD)$/.test(n)&&ny(a)&&s.isEmpty(x)){LJ(e,p,a,x,m);return}if(!g&&(x===e.getBody()||!L3(s,x)))return;let S=x.parentNode;if(g)l=p(m),h.fold(()=>{oz(u,rF.fromDom(l))},e=>{oB(e,rF.fromDom(l))}),e.selection.setCursorLocation(l,0);else if(iJ(x))l=i9(x),s.isEmpty(x)&&LB(x),LP(e,l),LR(e,l);else if(v(!1))l=b();else if(v(!0)&&S){let t=sI.fromRangeStart(c),r=p9(t),o=rF.fromDom(x),n=vb(o,t,e.schema)?vw(o,t,e.schema).bind(e=>el.from(e.getNode())):el.none();l=S.insertBefore(p(),x),LR(e,L2(x,"HR")||r?l:n.getOr(x))}else{let t=L6(c).cloneRange();t.setEndAfter(x);let r=t.extractContents();LQ(r),L8(r),l=r.firstChild,s.insertAfter(r,x),L5(s,d,l),Be(s,x),s.isEmpty(x)&&LB(x),l.normalize(),s.isEmpty(l)?(s.remove(l),b()):(LP(e,l),LR(e,l))}s.setAttrib(l,"id",""),e.dispatch("NewBlock",{newBlock:l})},fakeEventName:"insertParagraph"},Bo=(e,t,r)=>{let o;let n=new nd(t,r),a=e.getNonEmptyElements();for(;o=n.next();)if(a[o.nodeName.toLowerCase()]||nD(o)&&o.length>0)return!0;return!1},Bn=(e,t,r)=>{let o=e.dom.createRng();r?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),gv(e,o)},Ba=(e,t)=>{let r;let o=e.selection,n=e.dom,a=o.getRng(),l=!1;fY(n,a).each(e=>{a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});let i=a.startOffset,s=a.startContainer;if(ny(s)&&s.hasChildNodes()){let e=i>s.childNodes.length-1;s=s.childNodes[Math.min(i,s.childNodes.length-1)]||s,i=e&&nD(s)?s.data.length:0}let d=n.getParent(s,n.isBlock),c=d&&d.parentNode?n.getParent(d.parentNode,n.isBlock):null,m=c?c.nodeName.toUpperCase():"",u=!!(t&&t.ctrlKey);"LI"!==m||u||(d=c),nD(s)&&i>=s.data.length&&!Bo(e.schema,s,d||n.getRoot())&&(r=n.create("br"),a.insertNode(r),a.setStartAfter(r),a.setEndAfter(r),l=!0),r=n.create("br"),sj(n,a,r),Bn(e,r,l),e.undoManager.add()},Bl=(e,t)=>{let r=rF.fromTag("br");oB(rF.fromDom(t),r),e.undoManager.add()},Bi=(e,t)=>{Bd(e.getBody(),t)||oH(rF.fromDom(t),rF.fromTag("br"));let r=rF.fromTag("br");oH(rF.fromDom(t),r),Bn(e,r.dom,!1),e.undoManager.add()},Bs=e=>nP(e.getNode()),Bd=(e,t)=>!!Bs(sI.after(t))||ue(e,sI.after(t)).map(e=>nP(e.getNode())).getOr(!1),Bc=e=>e&&"A"===e.nodeName&&"href"in e,Bm=e=>e.fold(en,Bc,Bc,en),Bu=e=>{let t=Q(bd,e),r=sI.fromRangeStart(e.selection.getRng());return A1(t,e.getBody(),r).filter(Bm)},Bh=(e,t)=>{t.fold(W,Q(Bl,e),Q(Bi,e),W)},Bf={insert:(e,t)=>{let r=Bu(e);r.isSome()?r.each(Q(Bh,e)):Ba(e,t)},fakeEventName:"insertLineBreak"},Bg=(e,t)=>LM(e).filter(e=>t.length>0&&r$(rF.fromDom(e),t)).isSome(),Bp=e=>Bg(e,dF(e)),Bv=e=>Bg(e,dV(e)),Bb=dc([{br:[]},{block:[]},{none:[]}]),Bw=(e,t)=>Bv(e),By=e=>(t,r)=>LL(t)===e,BC=(e,t)=>(r,o)=>LO(r)===e.toUpperCase()===t,Bx=e=>V(LD(e.dom,e.selection.getStart())),BE=e=>BC("pre",e),BS=()=>BC("summary",!0),Bk=e=>(t,r)=>dP(t)===e,B_=(e,t)=>Bp(e),BT=(e,t)=>t,BA=e=>{let t=dz(e),r=LD(e.dom,e.selection.getStart());return $(r)&&e.schema.isValidChild(r.nodeName,t)},BN=e=>{let t=e.selection.getRng(),r=r8(rF.fromDom(t.startContainer),t.startOffset).map(e=>ru(e)&&!ox(e));return t.collapsed&&r.getOr(!0)},BR=(e,t)=>(r,o)=>ey(e,(e,t)=>e&&t(r,o),!0)?el.some(t):el.none(),BD=(e,t)=>Aj([BR([Bw],Bb.none()),BR([BE(!0),Bx],Bb.none()),BR([BS()],Bb.br()),BR([BE(!0),Bk(!1),BT],Bb.br()),BR([BE(!0),Bk(!1)],Bb.block()),BR([BE(!0),Bk(!0),BT],Bb.block()),BR([BE(!0),Bk(!0)],Bb.br()),BR([By(!0),BT],Bb.br()),BR([By(!0)],Bb.block()),BR([B_],Bb.br()),BR([BT],Bb.br()),BR([BA],Bb.block()),BR([BN],Bb.block())],[e,!!(t&&t.shiftKey)]).getOr(Bb.none()),BM=(e,t,r)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||bw(t),!($(r)&&LC(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,r),$(r)&&Ly(t,e.fakeEventName)))},BO=(e,t)=>{if(e.mode.isReadOnly())return;let r=()=>BM(Bf,e,t),o=()=>BM(Br,e,t),n=BD(e,t);switch(dI(e)){case"linebreak":n.fold(r,r,W);break;case"block":n.fold(o,o,W);break;case"invert":n.fold(o,r,W);break;default:n.fold(r,o,W)}},BL=tq(),BB=BL.os.isiOS()&&BL.browser.isSafari(),BH=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),SZ(e.undoManager),e.undoManager.transact(()=>{BO(e,t)}))},BP=e=>{if(!e.collapsed)return!1;let t=e.startContainer;if(!nD(t))return!1;{let r=t.data.charAt(e.startOffset-1);return/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/.test(r)}},Bz=e=>{let t=el.none(),r=e=>{t=el.some(e.selection.getBookmark()),e.undoManager.add()},o=(e,r)=>{e.undoManager.undo(),t.fold(W,t=>e.selection.moveToBookmark(t)),BH(e,r),t=el.none()};e.on("keydown",t=>{t.keyCode===fo.ENTER&&(BB&&BP(e.selection.getRng())?r(e):BH(e,t))}),e.on("keyup",r=>{r.keyCode===fo.ENTER&&t.each(()=>o(e,r))})},BZ=(e,t,r)=>{let o=tQ.os.isMacOS()||tQ.os.isiOS();DM([{keyCode:fo.END,action:DD(Df,e,!0)},{keyCode:fo.HOME,action:DD(Df,e,!1)},...o?[]:[{keyCode:fo.HOME,action:DD(Dg,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:fo.END,action:DD(Dg,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:fo.END,action:DD(DH,e,!0)},{keyCode:fo.HOME,action:DD(DH,e,!1)},{keyCode:fo.END,action:DD(N2,e,!0,t)},{keyCode:fo.HOME,action:DD(N2,e,!1,t)}],r).each(e=>{r.preventDefault()})},BI=(e,t)=>{e.on("keydown",r=>{r.isDefaultPrevented()||BZ(e,t,r)})},BF=e=>{e.on("input",t=>{t.isComposing||vW(e)})},BV=tq(),B$=(e,t,r)=>{DM([{keyCode:fo.PAGE_UP,action:DD(N2,e,!1,t)},{keyCode:fo.PAGE_DOWN,action:DD(N2,e,!0,t)}],r)},Bj=e=>e.stopImmediatePropagation(),BU=e=>e.keyCode===fo.PAGE_UP||e.keyCode===fo.PAGE_DOWN,Bq=(e,t,r)=>{r&&!e.get()?t.on("NodeChange",Bj,!0):!r&&e.get()&&t.off("NodeChange",Bj),e.set(r)},BW=(e,t)=>{if(BV.os.isMacOS())return;let r=n5(!1);e.on("keydown",t=>{BU(t)&&Bq(r,e,!0)}),e.on("keyup",o=>{o.isDefaultPrevented()||B$(e,t,o),BU(o)&&r.get()&&(Bq(r,e,!1),e.nodeChanged())})},BK=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||eh(t.getTargetRanges(),t=>!po(e.dom,t)))&&t.preventDefault()})},BY=(e,t)=>{let r=t.container(),o=t.offset();return nD(r)?(r.insertData(o,e),el.some(sI(r,o+e.length))):mV(t).map(r=>{let o=rF.fromText(e);return t.isAtEnd()?oH(r,o):oB(r,o),sI(o.dom,e.length)})},BG=Q(BY,""),BX=Q(BY," "),BJ=(e,t,r)=>vL(e,t,r)?BG(t):BX(t),BQ=e=>t=>t.fold(t=>ut(e.dom,sI.before(t)),e=>ur(e),e=>uo(e),t=>ue(e.dom,sI.after(t))),B1=(e,t,r)=>o=>vL(e,o,r)?BG(t):BX(t),B0=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},B2=(e,t)=>e.isEditable(e.getParent(t,"summary")),B4=e=>{let t=sI.fromRangeStart(e.selection.getRng()),r=rF.fromDom(e.getBody());if(!e.selection.isCollapsed())return el.none();{let o=Q(bd,e),n=sI.fromRangeStart(e.selection.getRng());return A1(o,e.getBody(),n).bind(BQ(r)).map(o=>()=>B1(r,t,e.schema)(o).each(B0(e)))}},B3=e=>t9(tQ.browser.isFirefox()&&e.selection.isEditable()&&B2(e.dom,e.selection.getRng().startContainer),()=>{let t=rF.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete"),BJ(t,sI.fromRangeStart(e.selection.getRng()),e.schema).each(B0(e))}),B5=(e,t)=>{DO([{keyCode:fo.SPACEBAR,action:DD(B4,e)},{keyCode:fo.SPACEBAR,action:DD(B3,e)}],t).each(r=>{t.preventDefault(),LC(e,"insertText",{data:" "}).isDefaultPrevented()||(r(),Ly(e,"insertText",{data:" "}))})},B7=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||B5(e,t)})},B6=e=>mt(e)?[{keyCode:fo.TAB,action:DD(Mw,e,!0)},{keyCode:fo.TAB,shiftKey:!0,action:DD(Mw,e,!1)}]:[],B8=(e,t)=>{DM([...B6(e)],t).each(e=>{t.preventDefault()})},B9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||B8(e,t)})},He=e=>{if(e.addShortcut("Meta+P","","mcePrint"),O8(e),S0(e))return n5(null);{let t=NQ(e);return BK(e),Dn(e),MC(e,t),LA(e,t),Bz(e),B7(e),BF(e),B9(e),BI(e,t),BW(e,t),t}};class Ht{constructor(e){let t;this.lastPath=[],this.editor=e;let r=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",r=>{let o=e.selection.getRng(),n={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==r.type&&fZ(n,t)||e.dispatch("SelectionChange"),t=n}),e.on("contextmenu",()=>{gM(e),e.dispatch("SelectionChange")}),e.on("SelectionChange",()=>{let t=e.selection.getStart(!0);t&&uq(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",t=>{!t.isDefaultPrevented()&&uq(e)&&("IMG"===e.selection.getNode().nodeName?gz.setEditorTimeout(e,()=>{e.nodeChanged()}):e.nodeChanged())})}nodeChanged(e={}){let t;let r=this.editor,o=r.selection;if(r.initialized&&o&&!cx(r)){let n=r.getBody();(t=o.getStart(!0)||n).ownerDocument===r.getDoc()&&r.dom.isChildOf(t,n)||(t=n);let a=[];r.dom.getParent(t,e=>e===n||(a.push(e),!1)),r.dispatch("NodeChange",{...e,element:t,parents:a})}}isSameElementPath(e){let t;let r=this.editor,o=eT(r.dom.getParents(e,ea,r.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}let Hr=ix("image"),Ho=e=>el.from(e[Hr]),Hn=(e,t)=>{e[Hr]=t},Ha=ix("event"),Hl=e=>el.from(e[Ha]),Hi=e=>t=>{t[Ha]=e},Hs=(e,t)=>Hi(t)(e),Hd=Hi(0),Hc=Hi(2),Hm=Hi(1),Hu=e=>el.from(e[Ha]).exists(e=>0===e),Hh=()=>Object.freeze({length:0,item:e=>null}),Hf=ix("mode"),Hg=e=>el.from(e[Hf]),Hp=e=>t=>{t[Hf]=e},Hv=(e,t)=>Hp(t)(e),Hb=Hp(0),Hw=Hp(2),Hy=Hp(1),HC=e=>t=>el.from(t[Hf]).exists(t=>t===e),Hx=HC(0),HE=HC(1),HS=(e,t)=>({...t,get length(){return t.length},add:(r,o)=>{if(Hx(e)){if(!B(r))return t.add(r);if(!F(o))return t.add(r,o)}return null},remove:r=>{Hx(e)&&t.remove(r)},clear:()=>{Hx(e)&&t.clear()}}),Hk=["none","copy","link","move"],H_=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],HT=()=>{let e=new window.DataTransfer,t="move",r="all",o={get dropEffect(){return t},set dropEffect(effect){eu(Hk,effect)&&(t=effect)},get effectAllowed(){return r},set effectAllowed(allowed){Hu(o)&&eu(H_,allowed)&&(r=allowed)},get items(){return HS(o,e.items)},get files(){if(HE(o))return Hh();return e.files},get types(){return e.types},setDragImage:(t,r,n)=>{Hx(o)&&(Hn(o,{image:t,x:r,y:n}),e.setDragImage(t,r,n))},getData:t=>HE(o)?"":e.getData(t),setData:(t,r)=>{Hx(o)&&e.setData(t,r)},clearData:t=>{Hx(o)&&e.clearData(t)}};return Hb(o),o},HA=e=>{let t=HT(),r=Hg(e);return Hw(e),Hd(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Ho(e).each(e=>t.setDragImage(e.image,e.x,e.y)),eg(e.types,r=>{"Files"!==r&&t.setData(r,e.getData(r))}),eg(e.files,e=>t.items.add(e)),Hl(e).each(e=>{Hs(t,e)}),r.each(r=>{Hv(e,r),Hv(t,r)}),t},HN=e=>{let t=e.getData("text/html");return""===t?el.none():el.some(t)},HR=(e,t)=>e.setData("text/html",t),HD="x-tinymce/html",HM=G(HD),HO="\x3c!-- "+HD+" --\x3e",HL=e=>HO+e,HB=e=>e.replace(HO,""),HH=e=>-1!==e.indexOf(HO),HP=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Hz=(e,t)=>{let r="<"+e,o=eq(t,(e,t)=>t+'="'+aJ.encodeAllRaw(e)+'"');return o.length&&(r+=" "+o.join(" ")),r+">"},HZ=(e,t,r)=>{let o=e.split(/\n\n/),n=Hz(t,r),a="</"+t+">",l=ef(o,e=>e.split(/\n/).join("<br />"));return 1===l.length?l[0]:ef(l,e=>n+e+a).join("")},HI="%MCEPASTEBIN%",HF=(e,t)=>{let{dom:r,selection:o}=e,n=e.getBody();t.set(o.getRng());let a=r.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},HI);tQ.browser.isFirefox()&&r.setStyle(a,"left","rtl"===r.getStyle(n,"direction",!0)?65535:-65535),r.bind(a,"beforedeactivate focusin focusout",e=>{e.stopPropagation()}),a.focus(),o.select(a,!0)},HV=(e,t)=>{let r=e.dom;if(H$(e)){let o;let n=t.get();for(;o=H$(e);)r.remove(o),r.unbind(o);n&&e.selection.setRng(n)}t.set(null)},H$=e=>e.dom.get("mcepastebin"),Hj=e=>$(e)&&"mcepastebin"===e.id,HU=e=>{let t=e.dom,r=(e,r)=>{e.appendChild(r),t.remove(r,!0)},[o,...n]=eb(e.getBody().childNodes,Hj);eg(n,e=>{r(o,e)});let a=t.select("div[id=mcepastebin]",o);for(let e=a.length-1;e>=0;e--){let n=t.create("div");o.insertBefore(n,a[e]),r(n,a[e])}return o?o.innerHTML:""},Hq=e=>e===HI,HW=e=>{let t=n5(null);return{create:()=>HF(e,t),remove:()=>HV(e,t),getEl:()=>H$(e),getHtml:()=>HU(e),getLastRng:t.get}},HK=(e,t)=>(t4.each(t,t=>{e=L(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])}),e),HY=e=>{let t=lf(),r=Ez({},t),o="",n=t.getVoidElements(),a=t4.makeMap("script noscript style textarea video audio iframe object"," "),l=t.getBlockElements(),i=e=>{let r=e.name;if("br"===r){o+="\n";return}if("wbr"!==r){if(n[r]&&(o+=" "),a[r]){o+=" ";return}if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do i(t);while(t=t.next)}l[r]&&e.next&&(o+="\n","p"===r&&(o+="\n"))}};return e=HK(e,[/<!\[[^\]]+\]>/g]),i(r.parse(e)),o},HG=e=>e=HK(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,r)=>t||r?"":" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),HX=e=>{let t=e.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return t4.hasOwn(r,t)?"image/"+r[t]:"image/"+t},HJ=(e,t)=>{let r=Ez({sanitize:c3(e),sandbox_iframes:mn(e),sandbox_iframes_exclusions:ma(e),convert_unsafe_embeds:ml(e)},e.schema);r.addNodeFilter("meta",e=>{t4.each(e,e=>{e.remove()})});let o=r.parse(t,{forced_root_block:!1,isRootContent:!0});return pZ({validate:!0},e.schema).serialize(o)},HQ=(e,t)=>({content:e,cancelled:t}),H1=(e,t,r)=>{let o=e.dom.create("div",{style:"display:none"},t),n=fe(e,o,r);return HQ(n.node.innerHTML,n.isDefaultPrevented())},H0=(e,t,r)=>{let o=h9(e,t,r),n=HJ(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?H1(e,n,r):HQ(n,o.isDefaultPrevented())},H2=(e,t,r)=>H0(e,t,r),H4=(e,t)=>(e.insertContent(t,{merge:cq(e),paste:!0}),!0),H3=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),H5=(e,t)=>H3(t)&&eh(me(e),e=>th(t.toLowerCase(),`.${e.toLowerCase()}`)),H7=(e,t,r)=>(e.undoManager.extra(()=>{r(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),H6=(e,t,r)=>(e.undoManager.extra(()=>{r(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),H8=(e,t,r)=>!!(!e.selection.isCollapsed()&&H3(t))&&H6(e,t,r),H9=(e,t,r)=>!!H5(e,t)&&H7(e,t,r),Pe=(e,t)=>{t4.each([H8,H9,H4],r=>!r(e,t,H4))},Pt=(e,t,r)=>{r||!cW(e)?H4(e,t):Pe(e,t)},Pr=(l=0,()=>"mceclip"+l++),Po=e=>{let t=HT();return HR(t,e),Hw(t),t},Pn=(e,t,r,o,n)=>{let a=H2(e,t,r);if(!a.cancelled){let t=a.content,r=()=>Pt(e,t,o);n?LC(e,"insertFromPaste",{dataTransfer:Po(t)}).isDefaultPrevented()||(r(),Ly(e,"insertFromPaste")):r()}},Pa=(e,t,r,o)=>{let n=r||HH(t);Pn(e,HB(t),n,!1,o)},Pl=(e,t,r)=>{let o=HZ(nv(e.dom.encode(t).replace(/\r\n/g,"\n"),cY(e)),dz(e),dZ(e));Pn(e,o,!1,!0,r)},Pi=e=>{let t={};if(e&&e.types)for(let r=0;r<e.types.length;r++){let o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}return t},Ps=(e,t)=>t in e&&e[t].length>0,Pd=e=>Ps(e,"text/html")||Ps(e,"text/plain"),Pc=(e,t)=>{let r=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return $(r)?e.dom.encode(r[1]):void 0},Pm=(e,t,r,o)=>{let n=Pr(),a=dq(e)&&$(r.name),l=a?Pc(e,r.name):n,i=a?r.name:void 0,s=t.create(n,r,o,l,i);return t.add(s),s},Pu=(e,t)=>{xt(t.uri).each(({data:r,type:o,base64Encoded:n})=>{let a=n?r:btoa(r),l=t.file,i=e.editorUpload.blobCache,s=i.getByData(a,o),d=null!=s?s:Pm(e,i,l,a);Pa(e,`<img src="${d.blobUri()}">`,!1,!0)})},Ph=e=>"paste"===e.type,Pf=e=>Promise.all(ef(e,e=>xa(e).then(t=>({file:e,uri:t})))),Pg=e=>{let t=me(e);return e=>tu(e.type,"image/")&&eh(t,t=>HX(t)===e.type)},Pp=(e,t)=>{let r=t.items?ek(eL(t.items),e=>"file"===e.kind?[e.getAsFile()]:[]):[],o=t.files?eL(t.files):[];return eb(r.length>0?r:o,Pg(e))},Pv=(e,t,r)=>{let o=Ph(t)?t.clipboardData:t.dataTransfer;if(cI(e)&&o){let n=Pp(e,o);if(n.length>0)return t.preventDefault(),Pf(n).then(t=>{r&&e.selection.setRng(r),eg(t,t=>{Pu(e,t)})}),!0}return!1},Pb=e=>{var t,r;return tQ.os.isAndroid()&&(null===(r=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===r?void 0:r.length)===0},Pw=e=>fo.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode,Py=(e,t,r,o,n)=>{let a=HG(r),l=Ps(t,HM())||HH(r),i=!l&&HP(a),s=H3(a);(Hq(a)||!a.length||i&&!s)&&(o=!0),(o||s)&&(a=Ps(t,"text/plain")&&i?t["text/plain"]:HY(a)),Hq(a)||(o?Pl(e,a,n):Pa(e,a,l,n))},PC=(e,t,r)=>{let o;let n=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",e=>{Pw(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)}),e.on("paste",a=>{if(a.isDefaultPrevented()||Pb(a))return;let l="text"===r.get()||o;o=!1;let i=Pi(a.clipboardData);!Pd(i)&&Pv(e,a,n())||(Ps(i,"text/html")?(a.preventDefault(),Py(e,i,i["text/html"],l,!0)):Ps(i,"text/plain")&&Ps(i,"text/uri-list")?(a.preventDefault(),Py(e,i,i["text/plain"],l,!0)):(t.create(),gz.setEditorTimeout(e,()=>{let r=t.getHtml();t.remove(),Py(e,i,r,l,!1)},0)))})},Px=e=>{let t=e=>tu(e,"webkit-fake-url"),r=e=>tu(e,"data:"),o=e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.paste)===!0};e.parser.addNodeFilter("img",(n,a,l)=>{if(!cI(e)&&o(l))for(let o of n){let n=o.attr("src");B(n)&&!o.attr("data-mce-object")&&n!==tQ.transparentSrc&&(t(n)?o.remove():!cG(e)&&r(n)&&o.remove())}})},PE=(e,t,r)=>{PC(e,t,r),Px(e)},PS=(e,t)=>{"text"===t.get()?(t.set("html"),ft(e,!1)):(t.set("text"),ft(e,!0)),e.focus()},Pk=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{PS(e,t)}),e.addCommand("mceInsertClipboardContent",(t,r)=>{r.html&&Pa(e,r.html,r.internal,!1),r.text&&Pl(e,r.text,!1)})},P_=(e,t,r)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",r),e.setData(HM(),t),!0}catch(e){return!1}},PT=(e,t,r,o)=>{P_(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):r(t.html,o)},PA=e=>(t,r)=>{let{dom:o,selection:n}=e,a=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),l=o.create("div",{contenteditable:"true"},t);o.setStyles(a,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(l),o.add(e.getBody(),a);let i=n.getRng();l.focus();let s=o.createRng();s.selectNodeContents(l),n.setRng(s),gz.setEditorTimeout(e,()=>{n.setRng(i),o.remove(a),r()},0)},PN=e=>({html:HL(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),PR=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),PD=e=>!e.selection.isCollapsed()||PR(e),PM=e=>t=>{!t.isDefaultPrevented()&&PD(e)&&e.selection.isEditable()&&PT(t,PN(e),PA(e),()=>{if(tQ.browser.isChromium()||tQ.browser.isFirefox()){let t=e.selection.getRng();gz.setEditorTimeout(e,()=>{e.selection.setRng(t),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},PO=e=>t=>{!t.isDefaultPrevented()&&PD(e)&&PT(t,PN(e),PA(e),W)},PL=e=>{e.on("cut",PM(e)),e.on("copy",PO(e))},PB=(e,t)=>{var r,o;return fJ.getCaretRangeFromPoint(null!==(r=t.clientX)&&void 0!==r?r:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},PH=e=>{let t=e["text/plain"];return!!t&&0===t.indexOf("file://")},PP=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Pz=e=>eh(e.files,e=>/^image\//.test(e.type)),PZ=(e,t,r,o)=>{let n=e.getParent(r,e=>ay(t,e));return!Z(e.getParent(r,"summary"))||!!(n&&eY(o,"text/html"))&&!Z(new DOMParser().parseFromString(o["text/html"],"text/html").body.querySelector(n.nodeName.toLowerCase()))},PI=e=>{e.on("input",t=>{"deleteByDrag"===t.inputType&&eg(eb(e.dom.select("details"),e=>Z(e.querySelector("summary"))),t=>{nP(t.firstChild)&&t.firstChild.remove();let r=e.dom.create("summary");r.appendChild(iW().dom),t.prepend(r)})})},PF=(e,t)=>{cZ(e)&&e.on("dragend dragover draggesture dragdrop drop drag",e=>{e.preventDefault(),e.stopPropagation()}),cI(e)||e.on("drop",e=>{let t=e.dataTransfer;t&&Pz(t)&&e.preventDefault()}),e.on("drop",r=>{if(r.isDefaultPrevented())return;let o=PB(e,r);if(V(o))return;let n=Pi(r.dataTransfer),a=Ps(n,HM());if((!Pd(n)||PH(n))&&Pv(e,r,o))return;let l=n[HM()],i=l||n["text/html"]||n["text/plain"],s=PZ(e.dom,e.schema,o.startContainer,n),d=t.get();(!d||s)&&i&&(r.preventDefault(),gz.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(l||d&&s)&&e.execCommand("Delete"),PP(e,o);let t=HG(i);n["text/html"]?Pa(e,t,a,!0):Pl(e,t,!0)})}))}),e.on("dragstart",e=>{t.set(!0)}),e.on("dragover dragend",r=>{cI(e)&&!t.get()&&(r.preventDefault(),PP(e,PB(e,r))),"dragend"===r.type&&t.set(!1)}),PI(e)},PV=e=>{let t=t=>r=>{t(e,r)},r=cF(e);j(r)&&e.on("PastePreProcess",t(r));let o=cV(e);j(o)&&e.on("PastePostProcess",t(o))},P$=(e,t)=>{e.on("PastePreProcess",r=>{r.content=t(e,r.content,r.internal)})},Pj=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,PU=e=>t4.trim(e).replace(Pj,l_).toLowerCase(),Pq=(e,t,r)=>{let o=cj(e);if(r||"all"===o||!cU(e))return t;let n=o?o.split(/[, ]/):[];if(n&&"none"!==o){let r=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,a,l)=>{let i=r.parseStyle(r.decode(a)),s={};for(let e=0;e<n.length;e++){let t=i[n[e]],a=t,l=r.getStyle(o,n[e],!0);/color/.test(n[e])&&(a=PU(a),l=PU(l)),l!==a&&(s[n[e]]=t)}let d=r.serializeStyle(s,"span");return d?t+' style="'+d+'"'+l:t+l})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,r,o)=>t+' style="'+r+'"'+o)},PW=e=>{(tQ.browser.isChromium()||tQ.browser.isSafari())&&P$(e,Pq)},PK=e=>{let t=n5(!1),r=n5(cK(e)?"text":"html"),o=HW(e);PW(e),Pk(e,r),PV(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>"text"===r.get()),e.on("PreInit",()=>{PL(e),PF(e,t),PE(e,o,r)})},PY=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},PG=e=>{e.parser.addNodeFilter("details",t=>{let r=mr(e);eg(t,e=>{"expanded"===r?e.attr("open","open"):"collapsed"===r&&e.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{let r=mo(e);eg(t,e=>{"expanded"===r?e.attr("open","open"):"collapsed"===r&&e.attr("open",null)})})},PX=e=>{PY(e),PG(e)},PJ=e=>nI(e.dom),PQ=e=>nZ(e.dom),P1=e=>t=>rW(rF.fromDom(e),t),P0=(e,t,r)=>of(rF.fromDom(e),e=>PQ(e)||r.isBlock(rs(e)),P1(t)).getOr(rF.fromDom(t)).dom,P2=(e,t)=>of(rF.fromDom(e),PJ,P1(t)),P4=(e,t,r)=>{let o=new nd(e,t),n=r?o.next.bind(o):o.prev.bind(o),a=e;for(let t=r?e:n();t&&!nP(t);t=n())sw(t)&&(a=t);return a},P3=(e,t,r)=>{let o=sI.fromRangeStart(e).getNode(),n=P0(o,t,r),a=P4(o,n,!1),l=P4(o,n,!0),i=document.createRange();return P2(a,n).fold(()=>{nD(a)?i.setStart(a,0):i.setStartBefore(a)},e=>i.setStartBefore(e.dom)),P2(l,n).fold(()=>{nD(l)?i.setEnd(l,l.data.length):i.setEndAfter(l)},e=>i.setEndAfter(e.dom)),i},P5=e=>{let t=P3(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(wF(t))},P7=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),P5(e))})};(f=y||(y={})).Before="before",f.After="after";let P6=(e,t)=>Math.abs(e.left-t),P8=(e,t)=>Math.abs(e.right-t),P9=(e,t)=>e>=t.top&&e<=t.bottom,ze=(e,t)=>e.top<t.bottom&&e.bottom>t.top,zt=(e,t)=>{let r=sm(e,t)/Math.min(e.height,t.height);return ze(e,t)&&r>.5},zr=(e,t)=>sd(eb(e,e=>P9(t,e))).fold(()=>[[],e],t=>{let{pass:r,fail:o}=ev(e,e=>zt(e,t));return[r,o]}),zo=(e,t)=>({node:e.node,position:P6(e,t)<P8(e,t)?y.Before:y.After}),zn=(e,t,r)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),za=(e,t,r,o)=>{let n=e=>sw(e.node)?el.some(e):ny(e.node)?za(eL(e.node.childNodes),t,r,!1):el.none(),a=(e,o,a)=>n(o).filter(o=>2>Math.abs(a(e,t,r)-a(o,t,r))&&nD(o.node)),l=(e,l)=>{let i=eR(e,(e,o)=>l(e,t,r)-l(o,t,r));return eB(i,n).map(e=>o&&!nD(e.node)&&i.length>1?a(e,i[1],l).getOr(e):e)},[i,s]=zr(N_(e),r),{pass:d,fail:c}=ev(s,e=>e.top<r);return l(i,zn).orThunk(()=>l(c,sc)).orThunk(()=>l(d,sc))},zl=(e,t,r,o)=>{let n=(t,a)=>{let l=eb(t.dom.childNodes,ee(e=>ny(e)&&e.classList.contains("mce-drag-container")));return a.fold(()=>za(l,r,o,!0),e=>za(eb(l,t=>t!==e.dom),r,o,!0)).orThunk(()=>(rW(t,e)?el.none():r1(t)).bind(e=>n(e,el.some(t))))};return n(t,el.none())},zi=(e,t,r)=>{let o=rF.fromDom(e),n=rG(o),a=rF.fromPoint(n,t,r).filter(e=>rK(o,e)).getOr(o);return zl(o,a,t,r)},zs=(e,t,r)=>zi(e,t,r).filter(e=>mS(e.node)).map(e=>zo(e,t)),zd=e=>{var t,r;let o=e.getBoundingClientRect(),n=e.ownerDocument,a=n.documentElement,l=n.defaultView;return{top:o.top+(null!==(t=null==l?void 0:l.scrollY)&&void 0!==t?t:0)-a.clientTop,left:o.left+(null!==(r=null==l?void 0:l.scrollX)&&void 0!==r?r:0)-a.clientLeft}},zc=e=>e.inline?zd(e.getBody()):{left:0,top:0},zm=e=>{let t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},zu=e=>{let t=e.getBody(),r=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},n={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop};return e.inline?o:n},zh=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){let r=zd(e.getContentAreaContainer()),o=zu(e);return{left:t.pageX-r.left+o.left,top:t.pageY-r.top+o.top}}return{left:t.pageX,top:t.pageY}},zf=(e,t,r)=>({pageX:r.left-e.left+t.left,pageY:r.top-e.top+t.top}),zg=(e,t)=>zf(zc(e),zm(e),zh(e,t)),zp=e=>({target:e,srcElement:e}),zv=(e,t,r,o)=>({...t,dataTransfer:o,type:e,...zp(r)}),zb=(e,t,r)=>{let o=et("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:W,stopImmediatePropagation:W,stopPropagation:W,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:r,...zp(t)}},zw=(e,t)=>{let r=HA(e);return"dragstart"===t?(Hd(r),Hb(r)):"drop"===t?(Hc(r),Hw(r)):(Hm(r),Hy(r)),r},zy=(e,t,r,o)=>{let n=zw(r,e);return F(o)?zb(e,t,n):zv(e,o,t,n)},zC=((...e)=>t=>{for(let r=0;r<e.length;r++)if(e[r](t))return!0;return!1})(nI,nZ),zx=(e,t,r)=>nI(r)&&r!==t&&e.isEditable(r.parentElement),zE=(e,t,r)=>!V(t)&&!(t===r||e.dom.isChildOf(t,r))&&e.dom.isEditable(t),zS=(e,t,r,o)=>{let n=e.dom,a=t.cloneNode(!0);n.setStyles(a,{width:r,height:o}),n.setAttrib(a,"data-mce-selected",null);let l=n.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return n.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:o}),n.setStyles(a,{margin:0,boxSizing:"border-box"}),l.appendChild(a),l},zk=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},z_=(e,t)=>r=>()=>{let o="left"===e?r.scrollX:r.scrollY;r.scroll({[e]:o+t,behavior:"smooth"})},zT=z_("left",-32),zA=z_("left",32),zN=z_("top",-32),zR=z_("top",32),zD=(e,t,r,o,n,a,l,i,s,d,c,m)=>{let u=0,h=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+r>n&&(u=t.pageX+r-n),t.pageY+o>a&&(h=t.pageY+o-a),e.style.width=r-u+"px",e.style.height=o-h+"px";let f=s.clientHeight,g=s.clientWidth,p=l+s.getBoundingClientRect().top,v=i+s.getBoundingClientRect().left;c.on(e=>{e.intervalId.clear(),e.dragging&&m&&(l+8>=f?e.intervalId.set(zR(d)):l-8<=0?e.intervalId.set(zN(d)):i+8>=g?e.intervalId.set(zA(d)):i-8<=0?e.intervalId.set(zT(d)):p+16>=window.innerHeight?e.intervalId.set(zR(window)):p-16<=0?e.intervalId.set(zN(window)):v+16>=window.innerWidth?e.intervalId.set(zA(window)):v-16<=0&&e.intervalId.set(zT(window)))})},zM=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},zO=(e,t)=>{let r=e.getParent(t.parentNode,e.isBlock);zM(t),r&&r!==e.getRoot()&&e.isEmpty(r)&&iK(rF.fromDom(r))},zL=e=>0===e.button,zB=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),zH=(e,t)=>r=>{if(zL(r)){let o=ex(t.dom.getParents(r.target),zC).getOr(null);if($(o)&&zx(t.dom,t.getBody(),o)){let n=t.dom.getPos(o),a=t.getBody(),l=t.getDoc().documentElement;e.set({element:o,dataTransfer:HT(),dragging:!1,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?a.scrollWidth:l.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:l.offsetHeight)-2,relX:r.pageX-n.x,relY:r.pageY-n.y,width:o.offsetWidth,height:o.offsetHeight,ghost:zS(t,o,o.offsetWidth,o.offsetHeight),intervalId:n6(100)})}}},zP=(e,t,r)=>{e._selectionOverrides.hideFakeCaret(),zs(e.getBody(),t,r).fold(()=>e.selection.placeCaretAt(t,r),o=>{let n=e._selectionOverrides.showCaret(1,o.node,o.position===y.Before,!1);n?e.selection.setRng(n):e.selection.placeCaretAt(t,r)})},zz=(e,t,r,o,n)=>{"dragstart"===t&&HR(o,e.dom.getOuterHTML(r));let a=zy(t,r,o,n);return e.dispatch(t,a)},zZ=(e,t)=>{let r=l9((e,r)=>zP(t,e,r),0);return t.on("remove",r.cancel),o=>e.on(n=>{let a=Math.max(Math.abs(o.screenX-n.screenX),Math.abs(o.screenY-n.screenY));if(!n.dragging&&a>10){let e=zz(t,"dragstart",n.element,n.dataTransfer,o);if($(e.dataTransfer)&&(n.dataTransfer=e.dataTransfer),e.isDefaultPrevented())return;n.dragging=!0,t.focus()}if(n.dragging){let a=o.currentTarget===t.getDoc().documentElement,l=zB(n,zg(t,o));zk(n.ghost,t.getBody()),zD(n.ghost,l,n.width,n.height,n.maxX,n.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),e,a),r.throttle(o.clientX,o.clientY)}})},zI=e=>{let t=e.getSel();if(!$(t))return null;{let e=t.getRangeAt(0).startContainer;return nD(e)?e.parentNode:e}},zF=(e,t)=>r=>{e.on(e=>{var o;if(e.intervalId.clear(),e.dragging){if(zE(t,zI(t.selection),e.element)){let n=null!==(o=t.getDoc().elementFromPoint(r.clientX,r.clientY))&&void 0!==o?o:t.getBody();zz(t,"drop",n,e.dataTransfer,r).isDefaultPrevented()||t.undoManager.transact(()=>{zO(t.dom,e.element),HN(e.dataTransfer).each(e=>t.insertContent(e)),t._selectionOverrides.hideFakeCaret()})}zz(t,"dragend",t.getBody(),e.dataTransfer,r)}}),zj(e)},zV=(e,t,r)=>{e.on(e=>{e.intervalId.clear(),e.dragging&&r.fold(()=>zz(t,"dragend",e.element,e.dataTransfer),r=>zz(t,"dragend",e.element,e.dataTransfer,r))}),zj(e)},z$=(e,t)=>r=>zV(e,t,el.some(r)),zj=e=>{e.on(e=>{e.intervalId.clear(),zM(e.ghost)}),e.clear()},zU=e=>{let t=n8(),r=lJ.DOM,o=document,n=zH(t,e),a=zZ(t,e),l=zF(t,e),i=z$(t,e);e.on("mousedown",n),e.on("mousemove",a),e.on("mouseup",l),r.bind(o,"mousemove",a),r.bind(o,"mouseup",i),e.on("remove",()=>{r.unbind(o,"mousemove",a),r.unbind(o,"mouseup",i)}),e.on("keydown",r=>{r.keyCode===fo.ESC&&zV(t,e,el.none())})},zq=e=>{let t=t=>{if(!t.isDefaultPrevented()){let r=t.dataTransfer;r&&(eu(r.types,"Files")||r.files.length>0)&&(t.preventDefault(),"drop"===t.type&&_O(e,"Dropped file type is not supported"))}},r=r=>{gW(e,r.target)&&t(r)},o=()=>{let o=lJ.DOM,n=e.dom,a=document,l=e.inline?e.getBody():e.getDoc(),i=["drop","dragover"];eg(i,e=>{o.bind(a,e,r),n.bind(l,e,t)}),e.on("remove",()=>{eg(i,e=>{o.unbind(a,e,r),n.unbind(l,e,t)})})};e.on("init",()=>{gz.setEditorTimeout(e,o,0)})},zW=e=>{zU(e),cA(e)&&zq(e)},zK=e=>{let t=l9(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){let t=e.selection.getRng();if(t.collapsed){let r=T8(e,t,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},zY=e=>{e.on("init",()=>{e.on("focusin",t=>{let r=t.target;if(n$(r)){let t=wv(e.getBody(),r),o=nI(t)?t:r;e.selection.getNode()!==o&&T7(e,o).each(t=>e.selection.setRng(t))}})})},zG=(e,t)=>wv(e.getBody(),t),zX=e=>{let t;let r=e.selection,o=e.dom,n=e.getBody(),a=mC(e,n,o.isBlock,()=>g8(e)),l="sel-"+o.uniqueId(),i="data-mce-selected",s=e=>$(e)&&o.hasClass(e,"mce-offscreen-selection"),d=e=>e!==n&&(nI(e)||n$(e))&&o.isChildOf(e,n)&&o.isEditable(e.parentNode),c=e=>{e&&r.setRng(e)},m=(t,o,n,l=!0)=>e.dispatch("ShowCaret",{target:o,direction:t,before:n}).isDefaultPrevented()?null:(l&&r.scrollIntoView(o,-1===t),a.show(n,o)),u=e=>i1(e)||i7(e)||i6(e),h=e=>u(e.startContainer)||u(e.endContainer),f=t=>{let r=e.schema.getVoidElements(),n=o.createRng(),a=t.startContainer,l=t.startOffset,i=t.endContainer,s=t.endOffset;return eY(r,a.nodeName.toLowerCase())?0===l?n.setStartBefore(a):n.setStartAfter(a):n.setStart(a,l),eY(r,i.nodeName.toLowerCase())?0===s?n.setEndBefore(i):n.setEndAfter(i):n.setEnd(i,s),n},g=(t,n)=>{let a=rF.fromDom(e.getBody()),i=e.getDoc(),s=ow(a,"#"+l).getOrThunk(()=>{let e=rF.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',i);return rw(e,"id",l),oz(a,e),e}),d=o.createRng();oV(s),oF(s,[rF.fromText("",i),rF.fromDom(n),rF.fromText("",i)]),d.setStart(s.dom.firstChild,1),d.setEnd(s.dom.lastChild,0),oA(s,{top:o.getPos(t,e.getBody()).y+"px"}),gb(s);let c=r.getSel();return c&&(c.removeAllRanges(),c.addRange(d)),d},p=r=>{let n=r.cloneNode(!0),a=e.dispatch("ObjectSelected",{target:r,targetClone:n});if(a.isDefaultPrevented())return null;let l=g(r,a.targetClone),s=rF.fromDom(r);return eg(na(rF.fromDom(e.getBody()),`*[${i}]`),e=>{rW(s,e)||rS(e,i)}),o.getAttrib(r,i)||r.setAttribute(i,"1"),t=r,w(),l},v=(e,t)=>{if(!e)return null;if(e.collapsed){if(!h(e)){let r=t?1:-1,a=mF(r,n,e),l=a.getNode(!t);if($(l)){if(mS(l))return m(r,l,!!t&&!a.isAtEnd(),!1);if(iQ(l)&&nI(l.nextSibling)){let e=o.createRng();return e.setStart(l,0),e.setEnd(l,0),e}}let i=a.getNode(t);if($(i)){if(mS(i))return m(r,i,!t&&!a.isAtEnd(),!1);if(iQ(i)&&nI(i.previousSibling)){let e=o.createRng();return e.setStart(i,1),e.setEnd(i,1),e}}}return null}let r=e.startContainer,a=e.startOffset,l=e.endOffset;if(nD(r)&&0===a&&nI(r.parentNode)&&(r=r.parentNode,a=o.nodeIndex(r),r=r.parentNode),!ny(r))return null;if(l===a+1&&r===e.endContainer){let e=r.childNodes[a];if(d(e))return p(e)}return null},b=()=>{t&&t.removeAttribute(i),ow(rF.fromDom(e.getBody()),"#"+l).each(o$),t=null},w=()=>{a.hide()};return S0(e)||(()=>{e.on("click",t=>{o.isEditable(t.target)||(t.preventDefault(),e.focus())}),e.on("blur NewBlock",b),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",t=>{let r=t.target,o=zG(e,r);nI(o)?(t.preventDefault(),T7(e,o).each(v)):d(r)&&T7(e,r).each(v)},!0),e.on("mousedown",t=>{let r=t.target;if(r!==n&&"HTML"!==r.nodeName&&!o.isChildOf(r,n)||!_E(e,t.clientX,t.clientY))return;b(),w();let a=zG(e,r);nI(a)?(t.preventDefault(),T7(e,a).each(v)):zs(n,t.clientX,t.clientY).each(r=>{t.preventDefault(),c(m(1,r.node,r.position===y.Before,!1)),nC(a)?a.focus():e.getBody().focus()})}),e.on("keypress",e=>{!fo.modifierPressed(e)&&nI(r.getNode())&&e.preventDefault()}),e.on("GetSelectionRange",e=>{let r=e.range;if(t){if(!t.parentNode){t=null;return}(r=r.cloneRange()).selectNode(t),e.range=r}}),e.on("SetSelectionRange",e=>{e.range=f(e.range);let t=v(e.range,e.forward);t&&(e.range=t)});let l=e=>ny(e)&&"mcepastebin"===e.id;e.on("AfterSetSelectionRange",e=>{let t=e.range,r=t.startContainer.parentElement;h(t)||l(r)||w(),s(r)||b()}),zW(e),zK(e),zY(e)})(),{showCaret:m,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(i9(e),r.scrollIntoView(e))},hideFakeCaret:w,destroy:()=>{a.destroy(),t=null}}},zJ=(e,t)=>{let r=t;for(let t=e.previousSibling;nD(t);t=t.previousSibling)r+=t.data.length;return r},zQ=(e,t,r,o,n)=>{if(nD(r)&&(o<0||o>r.data.length))return[];let a=n&&nD(r)?[zJ(r,o)]:[o],l=r;for(;l!==t&&l.parentNode;)a.push(e.nodeIndex(l,n)),l=l.parentNode;return l===t?a.reverse():[]},z1=(e,t,r,o,n,a,l=!1)=>({start:zQ(e,t,r,o,l),end:zQ(e,t,n,a,l)}),z0=(e,t)=>{let r=t.slice(),o=r.pop();return U(o)?ey(r,(e,t)=>e.bind(e=>el.from(e.childNodes[t])),el.some(e)).bind(e=>nD(e)&&(o<0||o>e.data.length)?el.none():el.some({node:e,offset:o})):el.none()},z2=(e,t)=>z0(e,t.start).bind(({node:r,offset:o})=>z0(e,t.end).map(({node:e,offset:t})=>{let n=document.createRange();return n.setStart(r,o),n.setEnd(e,t),n})),z4=(e,t,r,o=!1)=>z1(e,t,r.startContainer,r.startOffset,r.endContainer,r.endOffset,o),z3=(e,t,r)=>{if(t&&e.isEmpty(t)&&!r(t)){let o=t.parentNode;e.remove(t,nD(t.firstChild)&&nu(t.firstChild.data)),z3(e,o,r)}},z5=(e,t,r,o=!0)=>{let n=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),o&&!r(t.startContainer)&&(nD(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),nD(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),z3(e,n,r),n!==a&&z3(e,a,r))},z7=(e,t)=>el.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),z6=(e,t,r)=>{let o=e.dynamicPatternsLookup({text:r,block:t});return{...e,blockPatterns:dp(o).concat(e.blockPatterns),inlinePatterns:dv(o).concat(e.inlinePatterns)}},z8=(e,t,r,o)=>{let n=e.createRng();return n.setStart(t,0),n.setEnd(r,o),n.toString()},z9=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Ze=(e,t)=>{let r=e.createRng();return r.setStartAfter(t.start),r.setEndBefore(t.end),r},Zt=(e,t,r)=>{let o=z2(e.getRoot(),r).getOrDie("Unable to resolve path range"),n=o.startContainer,a=o.endContainer,l=0===o.endOffset?a:a.splitText(o.endOffset),i=0===o.startOffset?n:n.splitText(o.startOffset),s=i.parentNode;return{prefix:t,end:l.parentNode.insertBefore(z9(e,t+"-end"),l),start:s.insertBefore(z9(e,t+"-start"),i)}},Zr=(e,t,r)=>{z3(e,e.get(t.prefix+"-end"),r),z3(e,e.get(t.prefix+"-start"),r)},Zo=e=>0===e.start.length,Zn=e=>(t,r)=>{let o=t.data.substring(0,r),n=o.lastIndexOf(e.charAt(e.length-1)),a=o.lastIndexOf(e);return -1!==a?a+e.length:-1!==n?n+1:-1},Za=(e,t,r,o)=>{let n=t.start;return MR(e,o.container,o.offset,Zn(n),r).bind(o=>{var a,l;let i=null!==(l=null===(a=r.textContent)||void 0===a?void 0:a.indexOf(n))&&void 0!==l?l:-1;if(-1!==i&&o.offset>=i+n.length){let t=e.createRng();return t.setStart(o.container,o.offset-n.length),t.setEnd(o.container,o.offset),el.some(t)}{let a=o.offset-n.length;return MA(o.container,a,r).map(t=>{let r=e.createRng();return r.setStart(t.container,t.offset),r.setEnd(o.container,o.offset),r}).filter(e=>e.toString()===n).orThunk(()=>Za(e,t,r,Mx(o.container,0)))}})},Zl=(e,t,r,o,n,a=!1)=>{if(0===t.start.length&&!a){let t=e.createRng();return t.setStart(r,o),t.setEnd(r,o),el.some(t)}return M_(r,o,n).bind(r=>Za(e,t,n,r).bind(e=>{var t;return a&&(e.endContainer===r.container&&e.endOffset===r.offset||0===r.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)?el.none():el.some(e)}))},Zi=(e,t,r,o)=>{let n=e.dom,a=n.getRoot(),l=r.pattern,i=r.position.container,s=r.position.offset;return MA(i,s-r.pattern.end.length,t).bind(d=>{let c=z1(n,a,d.container,d.offset,i,s,o);if(Zo(l))return el.some({matches:[{pattern:l,startRng:c,endRng:c}],position:d});{let i=Zs(e,r.remainingPatterns,d.container,d.offset,t,o),s=i.getOr({matches:[],position:d}),m=s.position;return Zl(n,l,m.container,m.offset,t,i.isNone()).map(e=>{let t=z4(n,a,e,o);return{matches:s.matches.concat([{pattern:l,startRng:t,endRng:c}]),position:Mx(e.startContainer,e.startOffset)}})}})},Zs=(e,t,r,o,n,a)=>{let l=e.dom;return M_(r,o,l.getRoot()).bind(i=>{let s=z8(l,n,r,o);for(let l=0;l<t.length;l++){let d=t[l];if(!th(s,d.end))continue;let c=t.slice();c.splice(l,1);let m=Zi(e,n,{pattern:d,remainingPatterns:c,position:i},a);if(m.isNone()&&o>0)return Zs(e,t,r,o-1,n,a);if(m.isSome())return m}return el.none()})},Zd=(e,t,r)=>{e.selection.setRng(r),"inline-format"===t.type?eg(t.format,t=>{e.formatter.apply(t)}):e.execCommand(t.cmd,!1,t.value)},Zc=(e,t,r,o)=>{let n=Ze(e.dom,r);z5(e.dom,n,o),Zd(e,t,n)},Zm=(e,t,r,o,n)=>{let a=e.dom,l=Ze(a,o),i=Ze(a,r);z5(a,i,n),z5(a,l,n),Zd(e,t,Ze(a,{prefix:r.prefix,start:r.end,end:o.start}))},Zu=(e,t)=>{let r=ix("mce_textpattern"),o=ew(t,(t,o)=>{let n=Zt(e,r+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:n}])},[]);return ew(o,(t,n)=>{let a=o.length-t.length-1,l=Zo(n.pattern)?n.endMarker:Zt(e,r+`_start${a}`,n.startRng);return t.concat([{...n,startMarker:l}])},[])},Zh=e=>eR(e,(e,t)=>t.end.length-e.end.length),Zf=(e,t)=>{let r=e_(e,e=>eh(t,t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end));return e.length===t.length?r?e:t:e.length>t.length?e:t},Zg=(e,t,r,o,n,a)=>Zf(Zs(e,n.inlinePatterns,r,o,t,a).fold(()=>[],e=>e.matches),Zs(e,Zh(n.inlinePatterns),r,o,t,a).fold(()=>[],e=>e.matches)),Zp=(e,t)=>{if(0===t.length)return;let r=e.dom,o=e.selection.getBookmark();eg(Zu(r,t),t=>{let o=r.getParent(t.startMarker.start,r.isBlock),n=e=>e===o;Zo(t.pattern)?Zc(e,t.pattern,t.endMarker,n):Zm(e,t.pattern,t.startMarker,t.endMarker,n),Zr(r,t.endMarker,n),Zr(r,t.startMarker,n)}),e.selection.moveToBookmark(o)},Zv=(e,t,r)=>MT(t,0,t).map(o=>{let n=o.container;return MN(n,r.start.length,t).each(r=>{let o=e.createRng();o.setStart(n,0),o.setEnd(r.container,r.offset),z5(e,o,e=>e===t)}),n}),Zb=e=>(t,r)=>{let o=t.dom,n=r.pattern,a=z2(o.getRoot(),r.range).getOrDie("Unable to resolve path range"),l=(e,t)=>{let r=t.get(e);return z(r)&&eM(r).exists(e=>eY(e,"block"))};return z7(t,a).each(r=>{"block-format"===n.type?l(n.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,r,n),t.formatter.apply(n.format)}):"block-command"===n.type&&t.undoManager.transact(()=>{e(t.dom,r,n),t.execCommand(n.cmd,!1,n.value)})}),!0},Zw=e=>eR(e,(e,t)=>t.start.length-e.start.length),Zy=e=>(t,r)=>{let o=Zw(t),n=r.replace(""," ");return ex(o,t=>e(t,r,n))},ZC=(e,t)=>(r,o,n,a,l)=>{var i;void 0===l&&(l=null!==(i=o.textContent)&&void 0!==i?i:"");let s=r.dom,d=dz(r);return s.is(o,d)?e(n.blockPatterns,l).map(e=>t&&t4.trim(l).length===e.start.length?[]:[{pattern:e,range:z1(s,s.getRoot(),o,0,o,0,a)}]).getOr([]):[]},Zx=e=>/^\s[^\s]/.test(e),ZE=Zb((e,t,r)=>{Zv(e,t,r).each(e=>{let t=rF.fromDom(e),r=iO(t);Zx(r)&&iB(t,r.slice(1))})}),ZS=ZC(Zy((e,t,r)=>0===t.indexOf(e.start)||0===r.indexOf(e.start)),!0),Zk=(e,t)=>{let r=e.selection.getRng();return z7(e,r).map(o=>{var n;let a=Math.max(0,r.startOffset),l=z6(t,o,null!==(n=o.textContent)&&void 0!==n?n:"");return{inlineMatches:Zg(e,o,r.startContainer,a,l,!0),blockMatches:ZS(e,o,l,!0)}}).filter(({inlineMatches:e,blockMatches:t})=>t.length>0||e.length>0)},Z_=(e,t)=>{if(0===t.length)return;let r=e.selection.getBookmark();eg(t,t=>ZE(e,t)),e.selection.moveToBookmark(r)},ZT=Zb(Zv),ZA=ZC(Zy((e,t,r)=>t===e.start||r===e.start),!1),ZN=(e,t)=>{let r=e.selection.getRng();return z7(e,r).map(o=>{let n=Math.max(0,r.startOffset),a=z8(e.dom,o,r.startContainer,n),l=z6(t,o,a);return ZA(e,o,l,!1,a)}).filter(e=>e.length>0)},ZR=(e,t)=>{eg(t,t=>ZT(e,t))},ZD=(e,t)=>Zk(e,t).fold(en,({inlineMatches:t,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{iX(e),Zp(e,t),Z_(e,r);let o=e.selection.getRng(),n=M_(o.startContainer,o.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each(t=>{let r=t.container;"\uFEFF"===r.data.charAt(t.offset-1)&&(r.deleteData(t.offset-1,1),z3(e.dom,r.parentNode,t=>t===e.dom.getRoot()))})}),!0)),ZM=(e,t)=>{let r=e.selection.getRng();z7(e,r).map(o=>{let n=Math.max(0,r.startOffset-1),a=z8(e.dom,o,r.startContainer,n),l=z6(t,o,a),i=Zg(e,o,r.startContainer,n,l,!1);i.length>0&&e.undoManager.transact(()=>{Zp(e,i)})})},ZO=(e,t)=>ZN(e,t).fold(en,t=>(e.undoManager.transact(()=>{ZR(e,t)}),!0)),ZL=(e,t,r)=>{for(let o=0;o<e.length;o++)if(r(e[o],t))return!0;return!1},ZB=(e,t)=>ZL(e,t,(e,t)=>e===t.keyCode&&!fo.modifierPressed(t)),ZH=(e,t)=>ZL(e,t,(e,t)=>e.charCodeAt(0)===t.charCode),ZP=e=>{let t=[",",".",";",":","!","?"],r=[32],o=()=>db(cX(e).filter(t=>"inline-command"!==t.type&&"block-command"!==t.type||e.queryCommandSupported(t.cmd)),cJ(e)),n=()=>c7(e);e.on("keydown",t=>{if(13===t.keyCode&&!fo.modifierPressed(t)&&e.selection.isCollapsed()&&e.selection.isEditable()){let r=dw(o(),"enter");(r.inlinePatterns.length>0||r.blockPatterns.length>0||n())&&ZD(e,r)&&t.preventDefault()}},!0),e.on("keydown",t=>{if(32===t.keyCode&&e.selection.isCollapsed()&&e.selection.isEditable()){let r=dw(o(),"space");(r.blockPatterns.length>0||n())&&ZO(e,r)&&t.preventDefault()}},!0);let a=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){let t=dw(o(),"space");(t.inlinePatterns.length>0||n())&&ZM(e,t)}};e.on("keyup",e=>{ZB(r,e)&&a()}),e.on("keypress",r=>{ZH(t,r)&&gz.setEditorTimeout(e,a)})},Zz=e=>{ZP(e)},ZZ=e=>{let t=t4.each,r=fo.BACKSPACE,o=fo.DELETE,n=e.dom,a=e.selection,l=e.parser,i=tQ.browser,s=i.isFirefox(),d=i.isChromium()||i.isSafari(),c=tQ.deviceType.isiPhone()||tQ.deviceType.isiPad(),m=tQ.os.isMacOS()||tQ.os.isiOS(),u=(t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},h=e=>e.isDefaultPrevented(),f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},g=()=>{e.inline||n.bind(e.getDoc(),"mousedown mouseup",t=>{let r;if(t.target===e.getDoc().documentElement){if(r=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(i1(r.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(r)}})},p=()=>{Range.prototype.getClientRects||e.on("mousedown",t=>{if(!h(t)&&"HTML"===t.target.nodeName){let t=e.getBody();t.blur(),gz.setEditorTimeout(e,()=>{t.focus()})}})},v=()=>{let t=cD(e);e.on("click",r=>{let o=r.target;/^(IMG|HR)$/.test(o.nodeName)&&n.isEditable(o)&&(r.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&n.hasClass(o,t)&&0===o.childNodes.length&&n.isEditable(o.parentNode)&&(r.preventDefault(),a.select(o))})},b=()=>{e.on("keydown",e=>{if(!h(e)&&e.keyCode===r&&a.isCollapsed()&&0===a.getRng().startOffset){let t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0})},w=()=>{cE(e)||e.on("BeforeExecCommand mousedown",()=>{u("StyleWithCSS",!1),u("enableInlineTableEditing",!1),ct(e)||u("enableObjectResizing",!1)})},y=e=>{let t=e.getBody(),r=e.selection.getRng();return r.startContainer===r.endContainer&&r.startContainer===t&&0===r.startOffset&&r.endOffset===t.childNodes.length},C=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},E=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",t=>{let r;"HTML"===t.target.nodeName&&(r=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(r),e.selection.normalize(),e.nodeChanged())}))},S=()=>{m&&e.on("keydown",t=>{fo.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)&&(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},k=()=>{e.on("click",e=>{let t=e.target;do if("A"===t.tagName){e.preventDefault();return}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},_=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",e=>{e.preventDefault()})})};return S0(e)?(d&&(g(),v(),_(),f(),c&&(x(),E(),k())),s&&(p(),w(),C(),S())):(e.on("keydown",t=>{if(h(t)||t.keyCode!==fo.BACKSPACE)return;let r=a.getRng(),o=r.startContainer,l=r.startOffset,i=n.getRoot(),s=o;if(r.collapsed&&0===l){for(;s.parentNode&&s.parentNode.firstChild===s&&s.parentNode!==i;)s=s.parentNode;"BLOCKQUOTE"===s.nodeName&&(e.formatter.toggle("blockquote",void 0,s),(r=n.createRng()).setStart(o,0),r.setEnd(o,0),a.setRng(r))}}),(()=>{let t=e=>{let t=n.create("body"),r=e.cloneContents();return t.appendChild(r),a.serializer.serialize(t,{format:"html"})},l=r=>{let o=t(r),a=n.createRng();return a.selectNode(e.getBody()),o===t(a)};e.on("keydown",t=>{let a=t.keyCode;if(!h(t)&&(a===o||a===r)&&e.selection.isEditable()){let r=e.selection.isCollapsed(),o=e.getBody();if(r&&!n2(e.schema,o)||!r&&!l(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),o.firstChild&&n.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}})})(),tQ.windowsPhone||e.on("keyup focusin mouseup",t=>{fo.modifierPressed(t)||y(e)||a.normalize()},!0),d&&(g(),v(),e.on("init",()=>{u("DefaultParagraphSeparator",dz(e))}),_(),b(),l.addNodeFilter("br",e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),c?(x(),E(),k()):f()),s&&(e.on("keydown",t=>{if(!h(t)&&t.keyCode===r&&e.getBody().getElementsByTagName("hr").length&&a.isCollapsed()&&0===a.getRng().startOffset){let e=a.getNode(),r=e.previousSibling;if("HR"===e.nodeName){n.remove(e),t.preventDefault();return}r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(n.remove(r),t.preventDefault())}}),p(),(()=>{let r=()=>{let r=n.getAttribs(a.getStart().cloneNode(!1));return()=>{let o=a.getStart();o!==e.getBody()&&(n.setAttrib(o,"style",null),t(r,e=>{o.setAttributeNode(e.cloneNode(!0))}))}},o=()=>!a.isCollapsed()&&n.getParent(a.getStart(),n.isBlock)!==n.getParent(a.getEnd(),n.isBlock);e.on("keypress",t=>{let n;return!(!h(t)&&(8===t.keyCode||46===t.keyCode)&&o())||(n=r(),e.getDoc().execCommand("delete",!1),n(),t.preventDefault(),!1)}),n.bind(e.getDoc(),"cut",t=>{if(!h(t)&&o()){let t=r();gz.setEditorTimeout(e,()=>{t()})}})})(),w(),(()=>{let r=()=>{t(n.select("a:not([data-mce-block])"),e=>{var t;let r=e.parentNode,o=n.getRoot();if((null==r?void 0:r.lastChild)===e){for(;r&&!n.isBlock(r);){if((null===(t=r.parentNode)||void 0===t?void 0:t.lastChild)!==r||r===o)return;r=r.parentNode}n.add(r,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",e=>{("setcontent"===e.type||"mceInsertLink"===e.command)&&r()})})(),C(),S(),b())),{refreshContentEditable:W,isHidden:()=>{if(!s||e.removed)return!1;let t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},ZI=e=>"gpl"===e.toLowerCase(),ZF=e=>e.length>=64&&e.length<=255,ZV=e=>ZI(e)||ZF(e)?"VALID":"INVALID",Z$=e=>{let t=mi(e);!B(ms(e))&&(F(t)||"INVALID"===ZV(t))&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},Zj=lJ.DOM,ZU=(e,t)=>{let r=oa(on(rF.fromDom(e.getBody()))),o=rF.fromTag("style");rw(o,"type","text/css"),oz(o,rF.fromText(t)),oz(r,o),e.on("remove",()=>{o$(o)})},Zq=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,ZW=e=>eU(e,e=>!1===F(e)),ZK=e=>{let t=e.options.get,r=e.editorUpload.blobCache;return ZW({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Zq(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:ma(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:r,document:e.getDoc()})},ZY=e=>{let t=e.options.get;return ZW({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},ZG=e=>{let t=e.options.get;return{...ZK(e),...ZY(e),...ZW({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},ZX=e=>{let t=Ez(ZK(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(t,r)=>{let o=e.dom,n="data-mce-"+r,a=t.length;for(;a--;){let l=t[a],i=l.attr(r);if(i&&!l.attr(n)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===r?((i=o.serializeStyle(o.parseStyle(i),l.name)).length||(i=null),l.attr(n,i),l.attr(r,i)):"tabindex"===r?(l.attr(n,i),l.attr(r,null)):l.attr(n,e.convertURL(i,r,l.name))}}}),t.addNodeFilter("script",e=>{let t=e.length;for(;t--;){let r=e[t],o=r.attr("type")||"no/type";0!==o.indexOf("mce-")&&r.attr("type","mce-"+o)}}),c2(e)&&t.addNodeFilter("#cdata",t=>{var r;let o=t.length;for(;o--;){let n=t[o];n.type=8,n.name="#comment",n.value="[CDATA["+e.dom.encode(null!==(r=n.value)&&void 0!==r?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",t=>{let r=t.length,o=e.schema.getNonEmptyElements();for(;r--;){let e=t[r];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new pp("br",1))}}),t},ZJ=e=>{let t=cH(e);t&&gz.setEditorTimeout(e,()=>{let r;(r=!0===t?e:e.editorManager.get(t))&&!r.destroyed&&(r.focus(),r.selection.scrollIntoView())},100)},ZQ=e=>{let t=e.dom.getRoot();e.inline||uq(e)&&e.selection.getStart(!0)!==t||ur(t).each(t=>{let r=t.getNode(),o=nA(r)?ur(r).getOr(t):t;e.selection.setRng(o.toRange())})},Z1=e=>{e.bindPendingEventDelegates(),e.initialized=!0,hG(e),e.focus(!0),ZQ(e),e.nodeChanged({initial:!0});let t=cL(e);j(t)&&t.call(e,e),ZJ(e)},Z0=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Z2=(e,t,r)=>{let{pass:o,fail:n}=ev(t,e=>tinymce.Resource.has(_U(e))),a=[...o.map(t=>{let r=tinymce.Resource.get(_U(t));return B(r)?Promise.resolve(Z0(e).loadRawCss(t,r)):Promise.resolve()}),Z0(e).loadAll(n)];return e.inline?a:a.concat([e.ui.styleSheetLoader.loadAll(r)])},Z4=e=>{let t=Z0(e),r=d8(e),o=e.contentCSS,n=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(r)},a=()=>{e.removed?n():e.on("remove",n)};if(e.contentStyles.length>0){let t="";t4.each(e.contentStyles,e=>{t+=e+"\r\n"}),e.dom.addStyle(t)}let l=Promise.all(Z2(e,o,r)).then(a).catch(a),i=d6(e);return i&&ZU(e,i),l},Z3=e=>{let t=e.getDoc(),r=e.getBody();hK(e),cP(e)||(t.body.spellcheck=!1,Zj.setAttrib(r,"spellcheck","false")),e.quirks=ZZ(e),hY(e);let o=d9(e);void 0!==o&&(r.dir=o);let n=cz(e);n&&e.on("BeforeSetContent",e=>{t4.each(n,t=>{e.content=e.content.replace(t,e=>"\x3c!--mce:protected "+escape(e)+"--\x3e")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",t=>{e.composing="compositionstart"===t.type})},Z5=e=>{S0(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Z7=e=>{!0!==e.removed&&(Z5(e),Z1(e))},Z6=e=>{let t=!1,r=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(r),t=!0,e.setProgressState(!1)}},Z8=e=>{let t=e.getElement(),r=e.getDoc();e.inline&&(Zj.addClass(t,"mce-content-body"),e.contentDocument=r=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);let o=e.getBody();o.disabled=!0,e.readonly=cE(e),e._editableRoot=cS(e),e.hasEditableRoot()&&(e.inline&&"static"===Zj.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=_9(e),e.schema=lf(ZY(e)),e.dom=lJ(r,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:d1(e),referrerPolicy:d0(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=ZX(e),e.serializer=kG(ZG(e),e),e.selection=kH(e.dom,e.getWin(),e.serializer,e),e.annotator=hz(e),e.formatter=Th(e),e.undoManager=Tv(e),e._nodeChangeDispatcher=new Ht(e),e._selectionOverrides=zX(e),RX(e),PX(e),De(e),S0(e)||(P7(e),Zz(e));let n=He(e);RK(e,n),R5(e),Tk(e),PK(e);let a=S4(e);Z3(e),Z$(e),a.fold(()=>{let t=Z6(e);Z4(e).then(()=>{Z7(e),t()})},t=>{e.setProgressState(!0),Z4(e).then(()=>{t().then(t=>{e.setProgressState(!1),Z7(e),kC(e)},t=>{e.notificationManager.open({type:"error",text:String(t)}),Z7(e),kC(e)})})})},Z9=(e,t,r)=>o1(e,t,ea,r),Ie=lJ.DOM,It=(e,t,r,o)=>{let n=rF.fromTag("iframe");return o.each(e=>rw(n,"tabindex",e)),ry(n,r),ry(n,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),rB(n,"tox-edit-area__iframe"),n},Ir=e=>{let t=dM(e)+"<html><head>";dO(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';let r=dL(e),o=dB(e),n=e.translate(cM(e));return dH(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+dH(e)+'" />'),t+=`</head><body id="${r}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${n}"><br></body></html>`},Io=(e,t)=>{let r=tQ.browser.isFirefox()?cM(e):"Rich Text Area",o=e.translate(r),n=rx(rF.fromDom(e.getElement()),"tabindex").bind(tC),a=It(e.id,o,dD(e),n).dom;a.onload=()=>{a.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=Ir(e),Ie.add(t.iframeContainer,a)},In=e=>{let t=e.iframeElement,r=()=>{e.contentDocument=t.contentDocument,Z8(e)};if(c5(e)||tQ.browser.isFirefox()){let t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),r()}else{let o=Z9(rF.fromDom(t),"load",()=>{o.unbind(),r()});t.srcdoc=e.iframeHTML}},Ia=(e,t)=>{Io(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=Ie.isHidden(t.editorContainer)),e.getElement().style.display="none",Ie.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,In(e)},Il=lJ.DOM,Ii=(e,t,r)=>{let o=_A.get(r),n=_A.urls[r]||e.documentBaseUrl.replace(/\/$/,"");if(r=t4.trim(r),o&&-1===t4.inArray(t,r)){if(e.plugins[r])return;try{let a=o(e,n)||{};e.plugins[r]=a,j(a.init)&&(a.init(e,n),t.push(r))}catch(t){_V(e,r,t)}}},Is=e=>e.replace(/^\-/,""),Id=e=>{let t=[];eg(c_(e),r=>{Ii(e,t,Is(r))})},Ic=e=>{let t=t4.trim(dK(e)),r=e.ui.registry.getAll().icons;eZ({..._u.get("default").icons,..._u.get(t).icons},(t,o)=>{eY(r,o)||e.ui.registry.addIcon(o,t)})},Im=e=>{let t=cl(e);if(B(t)){let r=_N.get(t);e.theme=r(e,_N.urls[t])||{},j(e.theme.init)&&e.theme.init(e,_N.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Iu=e=>{let t=cs(e),r=_h.get(t);e.model=r(e,_h.urls[t])},Ih=e=>{let t=e.theme.renderUI;return t?t():Iv(e)},If=e=>{let t=e.getElement(),r=cl(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},Ig=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Ip=e=>{let t=Il.create("div");return Il.insertAfter(t,e),Ig(t,t)},Iv=e=>{let t=e.getElement();return e.inline?Ig(null):Ip(t)},Ib=e=>{let t=e.getElement();return(e.orgDisplay=t.style.display,B(cl(e)))?Ih(e):j(cl(e))?If(e):Iv(e)},Iw=(e,t)=>{let r={show:el.from(t.show).getOr(W),hide:el.from(t.hide).getOr(W),isEnabled:el.from(t.isEnabled).getOr(ea),setEnabled:r=>{r&&"readonly"===e.mode.get()||el.from(t.setEnabled).each(e=>e(r))}};e.ui={...e.ui,...r}},Iy=async e=>{e.dispatch("ScriptsLoaded"),Ic(e),Im(e),Iu(e),Id(e);let t=await Ib(e);Iw(e,el.from(t.api).getOr({})),e.editorContainer=t.editorContainer,_G(e),e.inline?Z8(e):Ia(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},IC=lJ.DOM,Ix=e=>"-"===e.charAt(0),IE=(e,t)=>{let r=d2(t),o=d4(t);if(!l6.hasCode(r)&&"en"!==r){let n=tb(o)?o:`${t.editorManager.baseURL}/langs/${r}.js`;e.add(n).catch(()=>{_Z(t,n,r)})}},IS=(e,t)=>{let r=cl(e);if(B(r)&&!Ix(r)&&!eY(_N.urls,r)){let o=ci(e),n=o?e.documentBaseURI.toAbsolute(o):`themes/${r}/theme${t}.js`;_N.load(r,n).catch(()=>{_I(e,n,r)})}},Ik=(e,t)=>{let r=cs(e);if("plugin"!==r&&!eY(_h.urls,r)){let o=cd(e),n=B(o)?e.documentBaseURI.toAbsolute(o):`models/${r}/model${t}.js`;_h.load(r,n).catch(()=>{_F(e,n,r)})}},I_=e=>el.from(dY(e)).filter(tb).map(e=>({url:e,name:el.none()})),IT=(e,t,r)=>el.from(t).filter(e=>tb(e)&&!_u.has(e)).map(t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${r}.js`,name:el.some(t)})),IA=(e,t,r)=>{eg(t7([IT(t,"default",r),I_(t).orThunk(()=>IT(t,dK(t),""))]),r=>{e.add(r.url).catch(()=>{_z(t,r.url,r.name.getOrUndefined())})})},IN=(e,t)=>{let r=(t,r)=>{_A.load(t,r).catch(()=>{_P(e,r,t)})};eZ(cT(e),(t,o)=>{r(o,t),e.options.set("plugins",c_(e).concat(o))}),eg(c_(e),e=>{(e=t4.trim(e))&&!_A.urls[e]&&!Ix(e)&&r(e,`plugins/${e}/plugin${t}.js`)})},IR=e=>{let t=cl(e);return!B(t)||$(_N.get(t))},ID=e=>{let t=cs(e);return $(_h.get(t))},IM=(e,t)=>{let r=l1.ScriptLoader,o=()=>{!e.removed&&IR(e)&&ID(e)&&Iy(e)};IS(e,t),Ik(e,t),IE(r,e),IA(r,e,t),IN(e,t),r.loadQueue().then(o,o)},IO=(e,t)=>aN.forElement(e,{contentCssCors:ck(t),referrerPolicy:d0(t)}),IL=e=>{let t=e.id;l6.setCode(d2(e));let r=()=>{IC.unbind(window,"ready",r),e.render()};if(!lI.Event.domLoaded){IC.bind(window,"ready",r);return}if(!e.getElement())return;let o=rF.fromDom(e.getElement()),n=r_(o);e.on("remove",()=>{ep(o.dom.attributes,e=>rS(o,e.name)),ry(o,n)}),e.ui.styleSheetLoader=IO(o,e),cp(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");let a=e.getElement().form||IC.getParent(t,"form");!a||(e.formElement=a,cv(e)&&!nR(e.getElement())&&(IC.insertAfter(IC.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},IC.bind(a,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),!cb(e)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)))),e.windowManager=_D(e),e.notificationManager=_T(e),c9(e)&&e.on("GetContent",e=>{e.save&&(e.content=IC.encode(e.content))}),cw(e)&&e.on("submit",()=>{e.initialized&&e.save()}),cy(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),IM(e,e.suffix)},IB=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged(),fr(e,t))},IH=e=>e._editableRoot,IP=(e,t)=>({sections:G(e),options:G(t)}),Iz=tq().deviceType,IZ=Iz.isPhone(),II=Iz.isTablet(),IF=e=>V(e)?[]:eb(ef(z(e)?e:e.split(/[ ,]/),tg),tb),IV=(e,t)=>{let r=ej(t,(t,r)=>eu(e,r));return IP(r.t,r.f)},I$=(e,t,r={})=>{let o=eK(e.sections(),t).getOr({});return t4.extend({},r,o)},Ij=(e,t)=>eY(e.sections(),t),IU=(e,t)=>Ij(e,t)?e.sections()[t]:{},Iq=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:eK(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),IW=(e,t)=>{var r;let o=null!==(r=t.external_plugins)&&void 0!==r?r:{};return e&&e.external_plugins?t4.extend({},e.external_plugins,o):o},IK=(e,t)=>[...IF(e),...IF(t)],IY=(e,t,r,o)=>e&&Ij(t,"mobile")?o:r,IG=(e,t,r,o)=>{let n=IF(r.forced_plugins),a=IF(o.plugins),l=IU(t,"mobile"),i=l.plugins?IF(l.plugins):a,s=IK(n,IY(e,t,a,i));return t4.extend(o,{forced_plugins:n,plugins:s})},IX=(e,t)=>e&&Ij(t,"mobile"),IJ=(e,t,r,o,n)=>{var a;let l=IV(["mobile"],M3(e?{mobile:Iq(null!==(a=n.mobile)&&void 0!==a?a:{},t)}:{},n)),i=t4.extend(r,o,l.options(),IX(e,l)?I$(l,"mobile"):{},{external_plugins:IW(o,l.options())});return IG(e,l,o,i)},IQ=(e,t)=>{let r=M5(t);return IJ(IZ||II,IZ,r,e,r)},I1=(e,t)=>ky(e,t),I0=e=>{let t=(t,r)=>{e.formatter.toggle(t,r),e.nodeChanged()},r=r=>()=>{eg("left,center,right,justify".split(","),t=>{r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:r("left"),JustifyCenter:r("center"),JustifyRight:r("right"),JustifyFull:r("justify"),JustifyNone:r("none")})},I2=e=>{let t=t=>()=>{let r=e.selection;return eh(r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks(),r=>$(e.formatter.matchNode(r,t)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},I4=e=>{I0(e),I2(e)},I3=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{let r;let o=e.getDoc();try{o.execCommand(t)}catch(e){r=!0}if("paste"!==t||o.queryCommandEnabled(t)||(r=!0),r||!o.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(tQ.os.isMacOS()||tQ.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:t,type:"error"})}}})},I5=(e,t,r,o)=>{let n=rF.fromDom(e.getRoot());return r=vB(n,sI.fromRangeStart(t),o)?r.replace(/^ /,"&nbsp;"):r.replace(/^&nbsp;/," "),r=vP(n,sI.fromRangeEnd(t),o)?r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r.replace(/&nbsp;(<br( \/)?>)?$/," ")},I7=e=>{if("string"!=typeof e){let t=t4.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},I6=(e,t)=>{let r=e.selection,o=e.dom;return/^ | $/.test(t)?I5(o,r.getRng(),t,e.schema):t},I8=(e,t)=>{if(e.selection.isEditable()){let{content:r,details:o}=I7(t);Ej(e,{...o,content:I6(e,r),format:"html",set:!1,selection:!0}).each(t=>{let r=kb(e,t.content,o);EU(e,r,t),e.addVisual()})}},I9=e=>{e.editorCommands.addCommands({mceCleanup:()=>{let t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,r,o)=>{I8(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,r,o)=>{I8(e,e.dom.encode(o))},insertHTML:(t,r,o)=>{I8(e,o)},mceInsertContent:(t,r,o)=>{I8(e,o)},mceSetContent:(t,r,o)=>{e.setContent(o)},mceReplaceContent:(t,r,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(c$(e))}})},Fe={"font-size":"size","font-family":"face"},Ft=rv("font"),Fr=(e,t,r)=>{let o=t=>oD(t,e).orThunk(()=>Ft(t)?eK(Fe,e).bind(e=>rx(t,e)):el.none());return yx(rF.fromDom(r),e=>o(e),e=>rW(rF.fromDom(t),e))},Fo=(e,t)=>el.from(lJ.DOM.getStyle(t,e,!0)),Fn=e=>(t,r)=>el.from(r).map(rF.fromDom).filter(rh).bind(r=>Fr(e,t,r.dom).or(Fo(e,r.dom))).getOr(""),Fa=Fn("font-size"),Fl=K(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Fn("font-family")),Fi=e=>ur(e.getBody()).bind(e=>{let t=e.container();return el.from(nD(t)?t.parentNode:t)}),Fs=e=>el.from(e.selection.getRng()).bind(t=>{let r=e.getBody();return t.startContainer===r&&0===t.startOffset?el.none():el.from(e.selection.getStart(!0))}),Fd=(e,t)=>Fs(e).orThunk(Q(Fi,e)).map(rF.fromDom).filter(rh).bind(t),Fc=(e,t)=>Fd(e,Y(el.some,t)),Fm=(e,t)=>{if(!/^[0-9.]+$/.test(t))return t;{let r=parseInt(t,10);if(!(r>=1)||!(r<=7))return t;{let o=c6(e),n=c8(e);return n.length>0?n[r-1]||t:o[r-1]||t}}},Fu=e=>ef(e.split(/\s*,\s*/),e=>-1===e.indexOf(" ")||tu(e,'"')||tu(e,"'")?e:`'${e}'`).join(","),Fh=(e,t)=>{let r=Fm(e,t);e.formatter.toggle("fontname",{value:Fu(r)}),e.nodeChanged()},Ff=e=>Fc(e,t=>Fl(e.getBody(),t.dom)).getOr(""),Fg=(e,t)=>{e.formatter.toggle("fontsize",{value:Fm(e,t)}),e.nodeChanged()},Fp=e=>Fc(e,t=>Fa(e.getBody(),t.dom)).getOr(""),Fv=e=>Fc(e,t=>yx(t,e=>oD(e,"line-height"),Q(rW,rF.fromDom(e.getBody()))).getOrThunk(()=>String(parseFloat(oN(t,"line-height"))/parseFloat(oN(t,"font-size"))))).getOr(""),Fb=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Fw=e=>{let t=(t,r)=>{e.formatter.toggle(t,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,r,o)=>{t(e,{value:o})},BackColor:(e,r,o)=>{t("hilitecolor",{value:o})},FontName:(t,r,o)=>{Fh(e,o)},FontSize:(t,r,o)=>{Fg(e,o)},LineHeight:(t,r,o)=>{Fb(e,o)},Lang:(e,r,o)=>{var n;t(e,{value:o.code,customValue:null!==(n=o.customCode)&&void 0!==n?n:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,r,o)=>{t(B(o)?o:"p")},mceToggleFormat:(e,r,o)=>{t(o)}})},Fy=e=>{let t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Ff(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Fp(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Fv(e))},FC=e=>{Fw(e),Fy(e)},Fx=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},FE=e=>{e.editorCommands.addCommands({Indent:()=>{RV(e)},Outdent:()=>{R$(e)}}),e.editorCommands.addCommands({Outdent:()=>RP(e)},"state")},FS=e=>{let t=(t,r,o)=>{if(e.mode.isReadOnly())return;let n=B(o)?{href:o}:o,a=e.dom.getParent(e.selection.getNode(),"a");H(n)&&B(n.href)&&(n.href=n.href.replace(/ /g,"%20"),a&&n.href||e.formatter.remove("link"),n.href&&e.formatter.apply("link",n,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){let t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},Fk=(e,t,r,o)=>{let n=e.dom,a=e=>n.isBlock(e)&&e.parentElement===r,l=a(t)?t:n.getParent(o,a,r);return el.from(l).map(rF.fromDom)},F_=(e,t)=>{if(e.mode.isReadOnly())return;let r=e.dom,o=e.selection.getRng(),n=t?e.selection.getStart():e.selection.getEnd(),a=t?o.startContainer:o.endContainer,l=LD(r,a);if(!l||!l.isContentEditable)return;let i=t?oB:oH,s=dz(e);Fk(e,n,l,a).each(t=>{let r=Lz(e,a,t.dom,l,!1,s);i(t,rF.fromDom(r)),e.selection.setCursorLocation(r,0),e.dispatch("NewBlock",{newBlock:r}),Ly(e,"insertParagraph")})},FT=e=>F_(e,!0),FA=e=>F_(e,!1),FN=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{FT(e)},InsertNewBlockAfter:()=>{FA(e)}})},FR=e=>{e.editorCommands.addCommands({insertParagraph:()=>{BM(Br,e)},mceInsertNewLine:(t,r,o)=>{BO(e,o)},InsertLineBreak:(t,r,o)=>{BM(Bf,e)}})},FD=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,r,o)=>{let n=0;e.dom.getParent(e.selection.getNode(),t=>!ny(t)||n++!==o||(e.selection.select(t),!1),e.getBody())},mceSelectNode:(t,r,o)=>{e.selection.select(o)},selectAll:()=>{let t=e.dom.getParent(e.selection.getStart(),nZ);if(t){let r=e.dom.createRng();r.selectNodeContents(t),e.selection.setRng(r)}}})},FM=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,r,o)=>{let n=null!=o?o:e.selection.getNode();if(n!==e.getBody()){let t=e.selection.getBookmark();e.dom.remove(n,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,r,o)=>{pr(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},FO=e=>{I4(e),I3(e),Fx(e),FD(e),I9(e),FS(e),FE(e),FN(e),FR(e),FC(e),FM(e)},FL=["toggleview"],FB=e=>eu(FL,e.toLowerCase());class FH{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,r,o){let n=this.editor,a=e.toLowerCase(),l=null==o?void 0:o.skip_focus;if(n.removed||("mcefocus"!==a&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)||l?gL(n):n.focus()),n.dispatch("BeforeExecCommand",{command:e,ui:t,value:r}).isDefaultPrevented()))return!1;let i=this.commands.exec[a];return!!j(i)&&(i(a,t,r),n.dispatch("ExecCommand",{command:e,ui:t,value:r}),!0)}queryCommandState(e){if(!FB(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;let t=e.toLowerCase(),r=this.commands.state[t];return!!j(r)&&r(t)}queryCommandValue(e){if(!FB(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";let t=e.toLowerCase(),r=this.commands.value[t];return j(r)?r(t):""}addCommands(e,t="exec"){let r=this.commands;eZ(e,(e,o)=>{eg(o.toLowerCase().split(","),o=>{r[t][o]=e})})}addCommand(e,t,r){let o=e.toLowerCase();this.commands.exec[o]=(e,o,n)=>t.call(null!=r?r:this.editor,o,n)}queryCommandSupported(e){let t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,r){this.commands.state[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}addQueryValueHandler(e,t,r){this.commands.value[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}}let FP=(e,t,r)=>{rZ(e,t)&&!r?rP(e,t):r&&rB(e,t)},Fz=(e,t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},FZ=(e,t)=>{e.dom.contentEditable=t?"true":"false"},FI=e=>{el.from(e.selection.getNode()).each(e=>{e.removeAttribute("data-mce-selected")})},FF=e=>{e.selection.setRng(e.selection.getRng())},FV=(e,t)=>{Fz(e,"StyleWithCSS",t),Fz(e,"enableInlineTableEditing",t),Fz(e,"enableObjectResizing",t)},F$=e=>{e.readonly=!0,e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),FI(e)},Fj=(e,t)=>{e.readonly=!1,e.hasEditableRoot()&&FZ(t,!0),FV(e,!1),g9(e)&&e.focus(),FF(e),e.nodeChanged()},FU=(e,t)=>{let r=rF.fromDom(e.getBody());FP(r,"mce-content-readonly",t),t?(F$(e),e.hasEditableRoot()&&FZ(r,!0)):Fj(e,r)},Fq=e=>e.readonly,FW=e=>"click"===e.type,FK=["copy"],FY=e=>eu(FK,e.type),FG=(e,t)=>oy(t,"a",t=>rW(t,rF.fromDom(e.getBody()))).bind(e=>rx(e,"href")),FX=(e,t)=>{FW(t)&&!fo.metaKeyPressed(t)?FG(e,rF.fromDom(t.target)).each(r=>{if(t.preventDefault(),/^#/.test(r)){let t=e.dom.select(`${r},[name="${tc(r,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}):FY(t)&&e.dispatch(t.type,t)},FJ=e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",t=>{Fq(e)&&t.preventDefault()}),e.on("BeforeExecCommand",t=>{("Undo"===t.command||"Redo"===t.command)&&Fq(e)&&t.preventDefault()}),e.on("input",t=>{!t.isComposing&&Fq(e)&&$(e.undoManager.add())&&e.undoManager.undo()}),e.on("compositionend",()=>{Fq(e)&&$(e.undoManager.add())&&e.undoManager.undo()})},FQ=t4.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class F1{static isNative(e){return!!FQ[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||en}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){let r=e.toLowerCase(),o=lO(r,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);let n=this.bindings[r];if(n)for(let e=0,t=n.length;e<t;e++){let t=n[e];if(!t.removed){if(t.once&&this.off(r,t.func),o.isImmediatePropagationStopped())return o;if(!1===t.func.call(this.scope,o)){o.preventDefault();break}}}return o}on(e,t,r,o){if(!1===t&&(t=en),t){let n={func:t,removed:!1};o&&t4.extend(n,o);let a=e.toLowerCase().split(" "),l=a.length;for(;l--;){let e=a[l],t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=r?[n,...t]:[...t,n],this.bindings[e]=t}}return this}off(e,t){if(e){let r=e.toLowerCase().split(" "),o=r.length;for(;o--;){let n=r[o],a=this.bindings[n];if(!n){eZ(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]});break}if(a){if(t){let e=ev(a,e=>e.func===t);a=e.fail,this.bindings[n]=a,eg(e.pass,e=>{e.removed=!0})}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[n])}}}else eZ(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,r){return this.on(e,t,r,{once:!0})}has(e){e=e.toLowerCase();let t=this.bindings[e];return!(!t||0===t.length)}}let F0=e=>(e._eventDispatcher||(e._eventDispatcher=new F1({scope:e,toggleEvent:(t,r)=>{F1.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}})),e._eventDispatcher),F2={fire(e,t,r){return this.dispatch(e,t,r)},dispatch(e,t,r){if(this.removed&&"remove"!==e&&"detach"!==e)return lO(e.toLowerCase(),null!=t?t:{},this);let o=F0(this).dispatch(e,t);if(!1!==r&&this.parent){let t=this.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent?t.parent():void 0}return o},on(e,t,r){return F0(this).on(e,t,r)},off(e,t){return F0(this).off(e,t)},once(e,t){return F0(this).once(e,t)},hasEventListeners(e){return F0(this).has(e)}},F4=lJ.DOM,F3=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;let r=cn(e);return r?(e.eventRoot||(e.eventRoot=F4.select(r)[0]),e.eventRoot):e.getBody()},F5=e=>!e.hidden,F7=(e,t,r)=>{F5(e)?e.dispatch(t,r):Fq(e)&&FX(e,r)},F6=(e,r)=>{if(e.delegates||(e.delegates={}),e.delegates[r]||e.removed)return;let o=F3(e,r);if(cn(e)){if(t||(t={},e.editorManager.on("removeEditor",()=>{!e.editorManager.activeEditor&&t&&(eZ(t,(t,r)=>{e.dom.unbind(F3(e,r))}),t=null)})),t[r])return;let n=t=>{let o=t.target,n=e.editorManager.get(),a=n.length;for(;a--;){let e=n[a].getBody();(e===o||F4.isChildOf(o,e))&&F7(n[a],r,t)}};t[r]=n,F4.bind(o,r,n)}else{let t=t=>{F7(e,r,t)};F4.bind(o,r,t),e.delegates[r]=t}},F8={...F2,bindPendingEventDelegates(){let e=this;t4.each(e._pendingNativeEvents,t=>{F6(e,t)})},toggleNativeEvent(e,t){"focus"!==e&&"blur"!==e&&!this.removed&&(t?this.initialized?F6(this,e):this._pendingNativeEvents?this._pendingNativeEvents.push(e):this._pendingNativeEvents=[e]:this.initialized&&this.delegates&&(this.dom.unbind(F3(this,e),e,this.delegates[e]),delete this.delegates[e]))},unbindAllNativeEvents(){let e=this,t=e.getBody(),r=e.dom;e.delegates&&(eZ(e.delegates,(t,r)=>{e.dom.unbind(F3(e,r),r,t)}),delete e.delegates),!e.inline&&t&&r&&(t.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(t),r.unbind(e.getContainer()))}},F9=e=>B(e)?{value:e.split(/[ ,]/),valid:!0}:q(e,B)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Ve=e=>{let t=(()=>{switch(e){case"array":return z;case"boolean":return I;case"function":return j;case"number":return U;case"object":return H;case"string":return B;case"string[]":return F9;case"object[]":return e=>q(e,H);case"regexp":return e=>L(e,RegExp);default:return ea}})();return r=>Vn(r,t,`The value must be a ${e}.`)},Vt=e=>B(e.processor),Vr=(e,t)=>e+(tw(t.message)?"":`. ${t.message}`),Vo=e=>e.valid,Vn=(e,t,r="")=>{let o=t(e);return I(o)?o?{value:e,valid:!0}:{valid:!1,message:r}:o},Va=(e,t,r)=>{if(!F(t)){let o=Vn(t,r);if(Vo(o))return o.value;console.error(Vr(`Invalid default value passed for the "${e}" option`,o))}},Vl=(e,t,r=t)=>{let o={},n={},a=(e,t,r)=>{let o=Vn(t,r);return Vo(o)?(n[e]=o.value,!0):(console.warn(Vr(`Invalid value passed for the ${e} option`,o)),!1)},l=e=>eY(o,e);return{register:(e,r)=>{let l=Vt(r)?Ve(r.processor):r.processor,i=Va(e,r.default,l);o[e]={...r,default:i,processor:l},eK(n,e).orThunk(()=>eK(t,e)).each(t=>a(e,t,l))},isRegistered:l,get:e=>eK(n,e).orThunk(()=>eK(o,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{if(!l(e))return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1;{let r=o[e];return r.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):a(e,t,r.processor)}},unset:e=>{let t=l(e);return t&&delete n[e],t},isSet:e=>eY(n,e),debug:()=>{try{console.log(JSON.parse(JSON.stringify(r,(e,t)=>I(t)||U(t)||B(t)||Z(t)||z(t)||P(t)?t:Object.prototype.toString.call(t))))}catch(e){console.error(e)}}}},Vi=["design","readonly"],Vs=(e,t,r,o)=>{let n=r[t.get()],a=r[o];try{a.activate()}catch(e){console.error(`problem while activating editor mode ${o}:`,e);return}n.deactivate(),n.editorReadOnly!==a.editorReadOnly&&FU(e,a.editorReadOnly),t.set(o),hU(e,o)},Vd=(e,t,r,o)=>{if(o!==r.get()){if(!eY(t,o))throw Error(`Editor mode '${o}' is invalid`);e.initialized?Vs(e,r,t,o):e.on("init",()=>Vs(e,r,t,o))}},Vc=(e,t,r)=>{if(eu(Vi,t))throw Error(`Cannot override default mode ${t}`);return{...e,[t]:{...r,deactivate:()=>{try{r.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}},Vm=e=>{let t=n5("design"),r=n5({design:{activate:W,deactivate:W,editorReadOnly:!1},readonly:{activate:W,deactivate:W,editorReadOnly:!0}});return FJ(e),{isReadOnly:()=>Fq(e),set:o=>Vd(e,r.get(),t,o),get:()=>t.get(),register:(e,t)=>{r.set(Vc(r.get(),e,t))}}},Vu=t4.each,Vh=t4.explode,Vf={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Vg=t4.makeMap("alt,ctrl,shift,meta,access"),Vp=e=>e in Vg,Vv=e=>{let t;let r={},o=tQ.os.isMacOS()||tQ.os.isiOS();Vu(Vh(e.toLowerCase(),"+"),e=>{Vp(e)?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=Vf[e]||e.toUpperCase().charCodeAt(0))});let n=[r.keyCode];for(t in Vg)r[t]?n.push(t):r[t]=!1;return r.id=n.join(","),r.access&&(r.alt=!0,o?r.ctrl=!0:r.shift=!0),r.meta&&(o?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r};class Vb{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;let t=this;e.on("keyup keypress keydown",e=>{(t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()&&(Vu(t.shortcuts,r=>{t.matchShortcut(e,r)&&(t.pendingPatterns=r.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(r))}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}add(e,t,r,o){let n=this,a=n.normalizeCommandFunc(r);return Vu(Vh(t4.trim(e)),e=>{let r=n.createShortcut(e,t,a,o);n.shortcuts[r.id]=r}),!0}remove(e){let t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){let t=this;return"string"==typeof e?()=>{t.editor.execCommand(e,!1,null)}:t4.isArray(e)?()=>{t.editor.execCommand(e[0],e[1],e[2])}:e}createShortcut(e,t,r,o){let n=t4.map(Vh(e,">"),Vv);return n[n.length-1]=t4.extend(n[n.length-1],{func:r,scope:o||this.editor}),t4.extend(n[0],{desc:this.editor.translate(t),subpatterns:n.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&(e.keyCode===t.keyCode||!!e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}let Vw=()=>{let e={},t={},r={},o={},n={},a={},l={},i={},s={},d=(e,t)=>(r,o)=>{e[r.toLowerCase()]={...o,type:t}};return{addButton:d(e,"button"),addGroupToolbarButton:d(e,"grouptoolbarbutton"),addToggleButton:d(e,"togglebutton"),addMenuButton:d(e,"menubutton"),addSplitButton:d(e,"splitbutton"),addMenuItem:d(t,"menuitem"),addNestedMenuItem:d(t,"nestedmenuitem"),addToggleMenuItem:d(t,"togglemenuitem"),addAutocompleter:d(r,"autocompleter"),addContextMenu:d(n,"contextmenu"),addContextToolbar:d(a,"contexttoolbar"),addContextForm:d(a,"contextform"),addSidebar:d(i,"sidebar"),addView:d(s,"views"),addIcon:(e,t)=>o[e.toLowerCase()]=t,addContext:(e,t)=>l[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:r,contextMenus:n,contextToolbars:a,sidebars:i,views:s,contexts:l})}},Vy=()=>{let e=Vw();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},VC=lJ.DOM,Vx=t4.extend,VE=t4.each;class VS{constructor(e,t,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,Vx(this,F8),this.id=e,this.hidden=!1;let o=IQ(r.defaultOptions,t);this.options=Vl(this,o,t),dR(this);let n=this.options.get;n("deprecation_warnings")&&_n(t,o);let a=n("suffix");a&&(r.suffix=a),this.suffix=r.suffix;let l=n("base_url");l&&r._setBaseUrl(l),this.baseUri=r.baseURI;let i=d0(this);i&&(l1.ScriptLoader._setReferrerPolicy(i),lJ.DOM.styleSheetLoader._setReferrerPolicy(i));let s=ck(this);$(s)&&lJ.DOM.styleSheetLoader._setContentCssCors(s),l8.languageLoad=n("language_load"),l8.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Ep(dO(this),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=cp(this),this.hasVisual=cN(this),this.shortcuts=new Vb(this),this.editorCommands=new FH(this),FO(this);let d=n("cache_suffix");d&&(tQ.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:Vy(),styleSheetLoader:void 0,show:W,hide:W,setEnabled:W,isEnabled:ea},this.mode=Vm(this),r.dispatch("SetupEditor",{editor:this});let c=cO(this);j(c)&&c.call(this,this)}render(){IL(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return g8(this)}translate(e){return l6.translate(e)}getParam(e,t,r){let o=this.options;return o.isRegistered(e)||($(r)?o.register(e,{processor:r,default:t}):o.register(e,{processor:ea,default:t})),o.isSet(e)||F(t)?o.get(e):t}hasPlugin(e,t){return!!eu(c_(this),e)&&(!t||void 0!==_A.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,r){this.editorCommands.addCommand(e,t,r)}addQueryStateHandler(e,t,r){this.editorCommands.addQueryStateHandler(e,t,r)}addQueryValueHandler(e,t,r){this.editorCommands.addQueryValueHandler(e,t,r)}addShortcut(e,t,r,o){this.shortcuts.add(e,t,r,o)}execCommand(e,t,r,o){return this.editorCommands.execCommand(e,t,r,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(VC.show(this.getContainer()),VC.hide(this.id)),this.load(),this.dispatch("show"))}hide(){this.hidden||(this.save(),this.inline?(this.getBody().contentEditable="false",this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(VC.hide(this.getContainer()),VC.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){let t=this.getElement();if(this.removed||!t)return"";{let r={...e,load:!0},o=nR(t)?t.value:t.innerHTML,n=this.setContent(o,r);return r.no_events||this.dispatch("LoadContent",{...r,element:t}),n}}save(e={}){let t=this,r=t.getElement();if(!r||!t.initialized||t.removed)return"";let o={...e,save:!0,element:r},n=t.getContent(o),a={...o,content:n};if(a.no_events||t.dispatch("SaveContent",a),"raw"===a.format&&t.dispatch("RawSaveContent",a),n=a.content,nR(r))r.value=n;else{(e.is_removing||!t.inline)&&(r.innerHTML=n);let o=VC.getParent(t.id,"form");o&&VE(o.elements,e=>e.name!==t.id||(e.value=n,!1))}return a.element=o.element=r=null,!1!==a.set_dirty&&t.setDirty(!1),n}setContent(e,t){return k1(this,e,t)}getContent(e){return kJ(this,e)}insertContent(e,t){t&&(e=Vx({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?k1(this,this.startContent,{format:"raw"}):k1(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){let t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){return this.container||(this.container=this.editorContainer||VC.get(this.id+"_parent")),this.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=VC.get(this.id)),this.targetElm}getWin(){if(!this.contentWindow){let e=this.iframeElement;e&&(this.contentWindow=e.contentWindow)}return this.contentWindow}getDoc(){if(!this.contentDocument){let e=this.getWin();e&&(this.contentDocument=e.document)}return this.contentDocument}getBody(){var e,t;let r=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==r?void 0:r.body)&&void 0!==t?t:null}convertURL(e,t,r){let o=this.options.get,n=cB(this);if(j(n))return n.call(this,e,r,!0,t);if(!o("convert_urls")||"link"===r||H(r)&&"LINK"===r.nodeName||0===e.indexOf("file:")||0===e.length)return e;let a=new Ep(e);return"http"!==a.protocol&&"https"!==a.protocol&&""!==a.protocol?e:o("relative_urls")?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){I1(this,e)}setEditableRoot(e){IB(this,e)}hasEditableRoot(){return IH(this)}remove(){_c(this)}destroy(e){_m(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}let Vk=lJ.DOM,V_=t4.each,VT=!1,VA=[],VN=e=>{let t=e.type;V_(VL.get(),r=>{switch(t){case"scroll":r.dispatch("ScrollWindow",e);break;case"resize":r.dispatch("ResizeWindow",e)}})},VR=e=>{if(e!==VT){let t=lJ.DOM;e?(t.bind(window,"resize",VN),t.bind(window,"scroll",VN)):(t.unbind(window,"resize",VN),t.unbind(window,"scroll",VN)),VT=e}},VD=e=>{let t=VA;return VA=eb(VA,t=>e!==t),VL.activeEditor===e&&(VL.activeEditor=VA.length>0?VA[0]:null),VL.focusedEditor===e&&(VL.focusedEditor=null),t.length!==VA.length},VM=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(VD(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},VO="CSS1Compat"!==document.compatMode,VL={...F2,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"5.1",releaseDate:"TBD",i18n:l6,activeEditor:null,focusedEditor:null,setup(){let e="",t="",r=Ep.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));let o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,t=o.suffix;else{let r=document.getElementsByTagName("script");for(let o=0;o<r.length;o++){let n=r[o].src||"";if(""===n)continue;let a=n.substring(n.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(n)){-1!==a.indexOf(".min")&&(t=".min"),e=n.substring(0,n.lastIndexOf("/"));break}}if(!e&&document.currentScript){let r=document.currentScript.src;-1!==r.indexOf(".min")&&(t=".min"),e=r.substring(0,r.lastIndexOf("/"))}}this.baseURL=new Ep(r).toAbsolute(e),this.documentBaseURL=r,this.baseURI=new Ep(this.baseURL),this.suffix=t,gX(this)},overrideDefaults(e){let t=e.base_url;t&&this._setBaseUrl(t);let r=e.suffix;r&&(this.suffix=r),this.defaultOptions=e;let o=e.plugin_base_urls;void 0!==o&&eZ(o,(e,t)=>{l8.PluginManager.urls[t]=e})},init(e){let t;let r=this,o=t4.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),n=(e,t)=>e.inline&&t.tagName.toLowerCase()in o,a=e=>{let t=e.id;return t||(t=eK(e,"name").filter(e=>!Vk.get(e)).getOrThunk(Vk.uniqueId),e.setAttribute("id",t)),t},l=t=>{let o=e[t];if(o)return o.apply(r,[])},i=e=>tQ.browser.isIE()||tQ.browser.isEdge()?(_$("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):VO?(_$("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):B(e.selector)?Vk.select(e.selector):$(e.target)?[e.target]:[],s=e=>{t=e},d=()=>{let t,o=0,c=[],m=(e,n,a)=>{let l=new VS(e,n,r);c.push(l),l.on("init",()=>{++o===t.length&&s(c)}),l.targetElm=l.targetElm||a,l.render()};Vk.unbind(window,"ready",d),l("onpageload"),t=eH(i(e)),t4.each(t,e=>{VM(r.get(e.id))}),0===(t=t4.grep(t,e=>!r.get(e.id))).length?s([]):V_(t,t=>{n(e,t)?_$("Could not initialize inline editor on invalid inline target element",t):m(a(t),e,t)})};return Vk.bind(window,"ready",d),new Promise(e=>{t?e(t):s=t=>{e(t)}})},get(e){return 0==arguments.length?VA.slice(0):B(e)?ex(VA,t=>t.id===e).getOr(null):U(e)&&VA[e]?VA[e]:null},add(e){let t=this,o=t.get(e.id);return o===e||(null===o&&VA.push(e),VR(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),r||(r=e=>{let r=t.dispatch("BeforeUnload");if(r.returnValue)return e.preventDefault(),e.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",r))),e},createEditor(e,t){return this.add(new VS(e,t,this))},remove(e){let t;let o=this;if(!e){for(let e=VA.length-1;e>=0;e--)o.remove(VA[e]);return}if(B(e)){V_(Vk.select(e),e=>{(t=o.get(e.id))&&o.remove(t)});return}return(t=e,Z(o.get(t.id)))?null:(VD(t)&&o.dispatch("RemoveEditor",{editor:t}),0===VA.length&&window.removeEventListener("beforeunload",r),t.remove(),VR(VA.length>0),t)},execCommand(e,t,r){var o;let n=H(r)?null!==(o=r.id)&&void 0!==o?o:r.index:r;switch(e){case"mceAddEditor":return this.get(n)||new VS(n,r.options,this).render(),!0;case"mceRemoveEditor":{let e=this.get(n);return e&&e.remove(),!0}case"mceToggleEditor":{let e=this.get(n);if(!e)return this.execCommand("mceAddEditor",!1,r),!0;return e.isHidden()?e.show():e.hide(),!0}}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,r)},triggerSave:()=>{V_(VA,e=>{e.save()})},addI18n:(e,t)=>{l6.add(e,t)},translate:e=>l6.translate(e),setActive(e){let t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ep(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ep(this.baseURL)}};VL.setup();let VB=(()=>{let e=n8();return{FakeClipboardItem:e=>({items:e,types:eP(e),getType:t=>eK(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),VH=Math.min,VP=Math.max,Vz=Math.round,VZ=(e,t,r)=>{let o=t.x,n=t.y,a=e.w,l=e.h,i=t.w,s=t.h,d=(r||"").split("");return"b"===d[0]&&(n+=s),"r"===d[1]&&(o+=i),"c"===d[0]&&(n+=Vz(s/2)),"c"===d[1]&&(o+=Vz(i/2)),"b"===d[3]&&(n-=l),"r"===d[4]&&(o-=a),"c"===d[3]&&(n-=Vz(l/2)),"c"===d[4]&&(o-=Vz(a/2)),VI(o,n,a,l)},VI=(e,t,r,o)=>({x:e,y:t,w:r,h:o}),VF=(e,t,r=1e3)=>{let o=!1,n=null,a=e=>(...t)=>{o||(o=!0,null!==n&&(clearTimeout(n),n=null),e.apply(null,t))},l=a(e),i=a(t);return{start:(...e)=>{o||null!==n||(n=setTimeout(()=>i.apply(null,e),r))},resolve:l,reject:i}},VV=(()=>{let e={},t={},r={};return{load:(r,o)=>{let n=`Script at URL "${o}" failed to load`,a=`Script at URL "${o}" did not call \`tinymce.Resource.add('${r}', data)\` within 1 second`;if(void 0!==e[r])return e[r];{let l=new Promise((e,l)=>{let i=VF(e,l);t[r]=i.resolve,l1.ScriptLoader.loadScript(o).then(()=>i.start(a),()=>i.reject(n))});return e[r]=l,l}},add:(o,n)=>{void 0!==t[o]&&(t[o](n),delete t[o]),e[o]=Promise.resolve(n),r[o]=n},has:e=>e in r,get:e=>r[e],unload:t=>{delete e[t],delete r[t]}}})();try{let e="__storage_test__";(o=window.localStorage).setItem(e,e),o.removeItem(e)}catch(e){o=(()=>{let e={},t=[],r={getItem:t=>e[t]||null,setItem:(r,o)=>{t.push(r),e[r]=String(o)},key:e=>t[e],removeItem:r=>{t=t.filter(e=>e===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(r,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),r})()}let V$={geom:{Rect:{inflate:(e,t,r)=>VI(e.x-t,e.y-r,e.w+2*t,e.h+2*r),relativePosition:VZ,findBestRelativePosition:(e,t,r,o)=>{for(let n=0;n<o.length;n++){let a=VZ(e,t,o[n]);if(a.x>=r.x&&a.x+a.w<=r.w+r.x&&a.y>=r.y&&a.y+a.h<=r.h+r.y)return o[n]}return null},intersect:(e,t)=>{let r=VP(e.x,t.x),o=VP(e.y,t.y),n=VH(e.x+e.w,t.x+t.w),a=VH(e.y+e.h,t.y+t.h);return n-r<0||a-o<0?null:VI(r,o,n-r,a-o)},clamp:(e,t,r)=>{let o=e.x,n=e.y,a=e.x+e.w,l=e.y+e.h,i=t.x+t.w,s=t.y+t.h,d=VP(0,t.x-o),c=VP(0,t.y-n),m=VP(0,a-i),u=VP(0,l-s);return o+=d,n+=c,r&&(a+=d,l+=c,o-=m,n-=u),VI(o,n,(a-=m)-o,(l-=u)-n)},create:VI,fromClientRect:e=>VI(e.left,e.top,e.width,e.height)}},util:{Delay:gz,Tools:t4,VK:fo,URI:Ep,EventDispatcher:F1,Observable:F2,I18n:l6,LocalStorage:o,ImageUploader:e=>{let t=_7(e,_Q());return{upload:(r,o=!0)=>t.upload(r,o?_5(e):void 0)}}},dom:{EventUtils:lI,TreeWalker:nd,TextSeeker:iD,DOMUtils:lJ,ScriptLoader:l1,RangeUtils:fJ,Serializer:kG,StyleSheetLoader:aA,ControlSelection:fd,BookmarkManager:hZ,Selection:kH,Event:lI.Event},html:{Styles:lT,Entities:aJ,Node:pp,Schema:lf,DomParser:Ez,Writer:pz,Serializer:pZ},Env:tQ,AddOnManager:l8,Annotator:hz,Formatter:Th,UndoManager:Tv,EditorCommands:FH,WindowManager:_D,NotificationManager:_T,EditorObservable:F8,Shortcuts:Vb,Editor:VS,FocusManager:gB,EditorManager:VL,DOM:lJ.DOM,ScriptLoader:l1.ScriptLoader,PluginManager:_A,ThemeManager:_N,ModelManager:_h,IconManager:_u,Resource:VV,FakeClipboard:VB,trim:t4.trim,isArray:t4.isArray,is:t4.is,toArray:t4.toArray,makeMap:t4.makeMap,each:t4.each,map:t4.map,grep:t4.grep,inArray:t4.inArray,extend:t4.extend,walk:t4.walk,resolve:t4.resolve,explode:t4.explode,_addCacheSuffix:t4._addCacheSuffix},Vj=t4.extend(VL,V$);window.tinymce=Vj,window.tinyMCE=Vj,(e=>{try{p=e}catch(e){}})(Vj)}(),tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}}),function(){let e;var t=tinymce.util.Tools.resolve("tinymce.ModelManager");let r=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},o=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&r(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},n=e=>t=>o(t)===e,a=e=>t=>typeof t===e,l=e=>t=>e===t,i=n("string"),s=n("object"),d=n("array"),c=l(null),m=a("boolean"),u=l(void 0),h=e=>null==e,f=e=>!h(e),g=a("function"),p=a("number"),v=()=>{},b=(e,t)=>(...r)=>e(t.apply(null,r)),w=(e,t)=>r=>e(t(r)),y=e=>()=>e,C=e=>e,x=(e,t)=>e===t;function E(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}let S=e=>t=>!e(t),k=e=>()=>{throw Error(e)},_=e=>e(),T=y(!1),A=y(!0);class N{constructor(e,t){this.tag=e,this.value=t}static some(e){return new N(!0,e)}static none(){return N.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?N.some(e(this.value)):N.none()}bind(e){return this.tag?e(this.value):N.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:N.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return f(e)?N.some(e):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);let R=Array.prototype.slice,D=Array.prototype.indexOf,M=Array.prototype.push,O=(e,t)=>D.call(e,t),L=(e,t)=>O(e,t)>-1,B=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},H=(e,t)=>{let r=[];for(let o=0;o<e;o++)r.push(t(o));return r},P=(e,t)=>{let r=e.length,o=Array(r);for(let n=0;n<r;n++){let r=e[n];o[n]=t(r,n)}return o},z=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},Z=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},I=(e,t)=>{let r=[],o=[];for(let n=0,a=e.length;n<a;n++){let a=e[n];(t(a,n)?r:o).push(a)}return{pass:r,fail:o}},F=(e,t)=>{let r=[];for(let o=0,n=e.length;o<n;o++){let n=e[o];t(n,o)&&r.push(n)}return r},V=(e,t,r)=>(Z(e,(e,o)=>{r=t(r,e,o)}),r),$=(e,t,r)=>(z(e,(e,o)=>{r=t(r,e,o)}),r),j=(e,t,r)=>{for(let o=0,n=e.length;o<n;o++){let n=e[o];if(t(n,o))return N.some(n);if(r(n,o))break}return N.none()},U=(e,t)=>j(e,t,T),q=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return N.some(r);return N.none()},W=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!d(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);M.apply(t,e[r])}return t},K=(e,t)=>W(P(e,t)),Y=(e,t)=>{for(let r=0,o=e.length;r<o;++r)if(!0!==t(e[r],r))return!1;return!0},G=e=>{let t=R.call(e,0);return t.reverse(),t},X=(e,t)=>{let r={};for(let o=0,n=e.length;o<n;o++){let n=e[o];r[String(n)]=t(n,o)}return r},J=(e,t)=>{let r=R.call(e,0);return r.sort(t),r},Q=(e,t)=>t>=0&&t<e.length?N.some(e[t]):N.none(),ee=e=>Q(e,0),et=e=>Q(e,e.length-1),er=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return N.none()},eo=Object.keys,en=Object.hasOwnProperty,ea=(e,t)=>{let r=eo(e);for(let o=0,n=r.length;o<n;o++){let n=r[o];t(e[n],n)}},el=(e,t)=>ei(e,(e,r)=>({k:r,v:t(e,r)})),ei=(e,t)=>{let r={};return ea(e,(e,o)=>{let n=t(e,o);r[n.k]=n.v}),r},es=e=>(t,r)=>{e[r]=t},ed=(e,t,r,o)=>{ea(e,(e,n)=>{(t(e,n)?r:o)(e,n)})},ec=(e,t)=>{let r={};return ed(e,t,es(r),v),r},em=(e,t)=>{let r=[];return ea(e,(e,o)=>{r.push(t(e,o))}),r},eu=e=>em(e,C),eh=(e,t)=>ef(e,t)?N.from(e[t]):N.none(),ef=(e,t)=>en.call(e,t),eg=(e,t)=>ef(e,t)&&void 0!==e[t]&&null!==e[t],ep=e=>{for(let t in e)if(en.call(e,t))return!1;return!0},ev="undefined"!=typeof window?window:Function("return this;")(),eb=(e,t)=>{let r=null!=t?t:ev;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},ew=(e,t)=>eb(e.split("."),t),ey=(e,t)=>ew(e,t),eC=(e,t)=>{let r=ey(e,t);if(null==r)throw Error(e+" not available on this browser");return r},ex=Object.getPrototypeOf,eE=e=>eC("HTMLElement",e),eS=e=>{let t=ew("ownerDocument.defaultView",e);return s(e)&&(eE(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ex(e).constructor.name))},ek=e=>e.dom.nodeName.toLowerCase(),e_=e=>e.dom.nodeType,eT=e=>t=>e_(t)===e,eA=e=>8===e_(e)||"#comment"===ek(e),eN=e=>eR(e)&&eS(e.dom),eR=eT(1),eD=eT(3),eM=eT(9),eO=eT(11),eL=e=>t=>eR(t)&&ek(t)===e,eB=(e,t,r)=>{if(i(r)||m(r)||p(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},eH=(e,t,r)=>{eB(e.dom,t,r)},eP=(e,t)=>{let r=e.dom;ea(t,(e,t)=>{eB(r,t,e)})},ez=(e,t)=>{ea(t,(t,r)=>{t.fold(()=>{eF(e,r)},t=>{eB(e.dom,r,t)})})},eZ=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},eI=(e,t)=>N.from(eZ(e,t)),eF=(e,t)=>{e.dom.removeAttribute(t)},eV=e=>$(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),e$=e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}},ej={fromTag:(e,t)=>e$((t||document).createElement(e)),fromText:(e,t)=>e$((t||document).createTextNode(e)),fromDom:e$,fromPoint:(e,t,r)=>N.from(e.dom.elementFromPoint(t,r)).map(e$)},eU=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw Error("Browser lacks native selectors")},eq=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,eW=(e,t)=>{let r=void 0===t?document:t.dom;return eq(r)?[]:P(r.querySelectorAll(e),ej.fromDom)},eK=(e,t)=>{let r=void 0===t?document:t.dom;return eq(r)?N.none():N.from(r.querySelector(e)).map(ej.fromDom)},eY=(e,t)=>e.dom===t.dom,eG=(e,t)=>{let r=e.dom,o=t.dom;return r!==o&&r.contains(o)},eX=e=>ej.fromDom(e.dom.ownerDocument),eJ=e=>eM(e)?e:eX(e),eQ=e=>ej.fromDom(eJ(e).dom.documentElement),e1=e=>N.from(e.dom.parentNode).map(ej.fromDom),e0=e=>N.from(e.dom.parentElement).map(ej.fromDom),e2=(e,t)=>{let r=g(t)?t:T,o=e.dom,n=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){let e=o.parentNode,t=ej.fromDom(e);if(n.push(t),!0===r(t))break;o=e}return n},e4=e=>N.from(e.dom.previousSibling).map(ej.fromDom),e3=e=>N.from(e.dom.nextSibling).map(ej.fromDom),e5=e=>P(e.dom.childNodes,ej.fromDom),e7=(e,t)=>{let r=e.dom.childNodes;return N.from(r[t]).map(ej.fromDom)},e6=e=>e7(e,0),e8=(e,t)=>{e1(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},e9=(e,t)=>{e3(e).fold(()=>{e1(e).each(e=>{tt(e,t)})},e=>{e8(e,t)})},te=(e,t)=>{e6(e).fold(()=>{tt(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},tt=(e,t)=>{e.dom.appendChild(t.dom)},tr=(e,t,r)=>{e7(e,r).fold(()=>{tt(e,t)},e=>{e8(e,t)})},to=(e,t)=>{e8(e,t),tt(t,e)},tn=(e,t)=>{z(t,(r,o)=>{e9(0===o?e:t[o-1],r)})},ta=(e,t)=>{z(t,t=>{tt(e,t)})},tl=e=>{e.dom.textContent="",z(e5(e),e=>{ti(e)})},ti=e=>{let t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ts=e=>{let t=e5(e);t.length>0&&tn(e,t),ti(e)},td=(e,t)=>ej.fromDom(e.dom.cloneNode(t)),tc=e=>td(e,!1),tm=e=>td(e,!0),tu=(e,t)=>{let r=ej.fromTag(t);return eP(r,eV(e)),r},th=(e,t)=>{let r=tu(e,t);return ta(r,e5(tm(e))),r},tf=(e,t)=>{let r=tu(e,t);return e9(e,r),ta(r,e5(e)),ti(e),r},tg=["tfoot","thead","tbody","colgroup"],tp=e=>L(tg,e),tv=(e,t)=>({rows:e,columns:t}),tb=(e,t)=>({row:e,column:t}),tw=(e,t,r)=>({element:e,rowspan:t,colspan:r}),ty=(e,t,r,o)=>({element:e,rowspan:t,colspan:r,isNew:o}),tC=(e,t,r,o,n,a)=>({element:e,rowspan:t,colspan:r,row:o,column:n,isLocked:a}),tx=(e,t,r)=>({element:e,cells:t,section:r}),tE=(e,t,r,o)=>({element:e,cells:t,section:r,isNew:o}),tS=(e,t,r)=>({element:e,isNew:t,isLocked:r}),tk=(e,t,r,o)=>({element:e,cells:t,section:r,isNew:o}),t_=(e,t,r,o)=>({startRow:e,startCol:t,finishRow:r,finishCol:o}),tT=(e,t,r)=>({element:e,colspan:t,column:r}),tA=(e,t)=>({element:e,columns:t}),tN=e=>eO(e)&&f(e.dom.host),tR=e=>ej.fromDom(e.dom.getRootNode()),tD=e=>tN(e)?e:ej.fromDom(eJ(e).dom.body),tM=e=>{let t=tR(e);return tN(t)?N.some(t):N.none()},tO=e=>ej.fromDom(e.dom.host),tL=e=>{if(f(e.target)){let t=ej.fromDom(e.target);if(eR(t)&&tB(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return ee(t)}}return N.from(e.target)},tB=e=>f(e.dom.shadowRoot),tH=e=>{let t=eD(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return tM(ej.fromDom(t)).fold(()=>r.body.contains(t),w(tH,tO))},tP=()=>tz(ej.fromDom(document)),tz=e=>{let t=e.dom.body;if(null==t)throw Error("Body is not available yet");return ej.fromDom(t)},tZ=(e,t,r)=>F(e2(e,r),t),tI=(e,t)=>F(e5(e),t),tF=(e,t)=>{let r=[];return z(e5(e),e=>{t(e)&&(r=r.concat([e])),r=r.concat(tF(e,t))}),r},tV=(e,t,r)=>tZ(e,e=>eU(e,t),r),t$=(e,t)=>tI(e,e=>eU(e,t)),tj=(e,t)=>eW(t,e);var tU=(e,t,r,o,n)=>e(r,o)?N.some(r):g(n)&&n(r)?N.none():t(r,o,n);let tq=(e,t,r)=>{let o=e.dom,n=g(r)?r:T;for(;o.parentNode;){o=o.parentNode;let e=ej.fromDom(o);if(t(e))return N.some(e);if(n(e))break}return N.none()},tW=(e,t,r)=>tU((e,t)=>t(e),tq,e,t,r),tK=(e,t)=>U(e.dom.childNodes,e=>t(ej.fromDom(e))).map(ej.fromDom),tY=(e,t)=>{let r=e=>{for(let o=0;o<e.childNodes.length;o++){let n=ej.fromDom(e.childNodes[o]);if(t(n))return N.some(n);let a=r(e.childNodes[o]);if(a.isSome())return a}return N.none()};return r(e.dom)},tG=(e,t,r)=>tq(e,e=>eU(e,t),r),tX=(e,t)=>tK(e,e=>eU(e,t)),tJ=(e,t)=>eK(t,e),tQ=(e,t,r)=>tU((e,t)=>eU(e,t),tG,e,t,r),t1=(e,t,r=x)=>e.exists(e=>r(e,t)),t0=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},t2=(e,t)=>null!=e?t(e):N.none(),t4=(e,t)=>e?N.some(t):N.none(),t3=(e,t)=>e.substring(t),t5=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,t7=(e,t)=>t8(e,t)?t3(e,t.length):e,t6=(e,t,r=0,o)=>{let n=e.indexOf(t,r);return -1!==n&&(!!u(o)||n+t.length<=o)},t8=(e,t)=>t5(e,t,0),t9=(e,t)=>t5(e,t,e.length-t.length),re=(e=/^\s+|\s+$/g,t=>t.replace(e,"")),rt=e=>e.length>0,rr=e=>{let t=parseFloat(e);return isNaN(t)?N.none():N.some(t)},ro=e=>void 0!==e.style&&g(e.style.getPropertyValue),rn=(e,t,r)=>{if(!i(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);ro(e)&&e.style.setProperty(t,r)},ra=(e,t)=>{ro(e)&&e.style.removeProperty(t)},rl=(e,t,r)=>{rn(e.dom,t,r)},ri=(e,t)=>{let r=e.dom;ea(t,(e,t)=>{rn(r,t,e)})},rs=(e,t)=>{let r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||tH(e)?o:rd(r,t)},rd=(e,t)=>ro(e)?e.style.getPropertyValue(t):"",rc=(e,t)=>{let r=rd(e.dom,t);return N.from(r).filter(e=>e.length>0)},rm=(e,t)=>{ra(e.dom,t),t1(eI(e,"style").map(re),"")&&eF(e,"style")},ru=(e,t)=>{let r=e.dom,o=t.dom;ro(r)&&ro(o)&&(o.style.cssText=r.style.cssText)},rh=(e,t,r=0)=>eI(e,t).map(e=>parseInt(e,10)).getOr(r),rf=(e,t)=>rh(e,t,1),rg=e=>eL("col")(e)?rh(e,"span",1)>1:rf(e,"colspan")>1,rp=e=>rf(e,"rowspan")>1,rv=(e,t)=>parseInt(rs(e,t),10),rb=y(10),rw=y(10),ry=(e,t)=>rC(e,t,A),rC=(e,t,r)=>K(e5(e),e=>eU(e,t)?r(e)?[e]:[]:rC(e,t,r)),rx=(e,t,r=T)=>r(t)?N.none():L(e,ek(t))?N.some(t):tG(t,e.join(","),e=>eU(e,"table")||r(e)),rE=(e,t)=>rx(["td","th"],e,t),rS=e=>ry(e,"th,td"),rk=e=>eU(e,"colgroup")?t$(e,"col"):K(rA(e),e=>t$(e,"col")),r_=(e,t)=>tQ(e,"table",t),rT=e=>ry(e,"tr"),rA=e=>r_(e).fold(y([]),e=>t$(e,"colgroup")),rN=(e,t)=>P(e,e=>{if("colgroup"===ek(e)){let t=P(rk(e),e=>{let t=rh(e,"span",1);return tw(e,1,t)});return tx(e,t,"colgroup")}{let r=P(rS(e),e=>{let t=rh(e,"rowspan",1),r=rh(e,"colspan",1);return tw(e,t,r)});return tx(e,r,t(e))}}),rR=e=>e1(e).map(e=>{let t=ek(e);return tp(t)?t:"tbody"}).getOr("tbody"),rD=e=>{let t=rT(e);return rN([...rA(e),...t],rR)},rM=(e,t)=>rN(e,()=>t),rO=e=>{let t,r=!1;return(...o)=>(r||(r=!0,t=e.apply(null,o)),t)},rL=(e,t,r,o)=>{let n=e.isiOS()&&!0===/ipad/i.test(r),a=e.isiOS()&&!n,l=e.isiOS()||e.isAndroid(),i=l||o("(pointer:coarse)"),s=n||!a&&l&&o("(min-device-width:768px)"),d=a||l&&!s,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r);return{isiPad:y(n),isiPhone:y(a),isTablet:y(s),isPhone:y(d),isTouch:y(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(c),isDesktop:y(!d&&!s&&!c)}},rB=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r];if(o.test(t))return o}},rH=(e,t)=>{let r=rB(e,t);if(!r)return{major:0,minor:0};let o=e=>Number(t.replace(r,"$"+e));return rz(o(1),o(2))},rP=()=>rz(0,0),rz=(e,t)=>({major:e,minor:t}),rZ=(e,t)=>{let r=String(t).toLowerCase();return 0===e.length?rP():rH(e,r)},rI=(e,t)=>er(t.brands,t=>{let r=t.brand.toLowerCase();return U(e,e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:rz(parseInt(t.version,10),0)}))}),rF=(e,t)=>{let r=String(t).toLowerCase();return U(e,e=>e.search(r))},rV=(e,t)=>rF(e,t).map(e=>{let r=rZ(e.versionRegexes,t);return{current:e.name,version:r}}),r$=(e,t)=>rF(e,t).map(e=>{let r=rZ(e.versionRegexes,t);return{current:e.name,version:r}}),rj=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rU=e=>t=>t6(t,e),rq=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>t6(e,"edge/")&&t6(e,"chrome")&&t6(e,"safari")&&t6(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rj],search:e=>t6(e,"chrome")&&!t6(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>t6(e,"msie")||t6(e,"trident")},{name:"Opera",versionRegexes:[rj,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rU("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rU("firefox")},{name:"Safari",versionRegexes:[rj,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(t6(e,"safari")||t6(e,"mobile/"))&&t6(e,"applewebkit")}],rW=[{name:"Windows",search:rU("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>t6(e,"iphone")||t6(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rU("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rU("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rU("linux"),versionRegexes:[]},{name:"Solaris",search:rU("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rU("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rU("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rK={browsers:y(rq),oses:y(rW)},rY="Edge",rG="Chromium",rX="Opera",rJ="Firefox",rQ="Safari",r1=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isEdge:o(rY),isChromium:o(rG),isIE:o("IE"),isOpera:o(rX),isFirefox:o(rJ),isSafari:o(rQ)}},r0={unknown:()=>r1({current:void 0,version:rP()}),nu:r1,edge:y(rY),chromium:y(rG),ie:y("IE"),opera:y(rX),firefox:y(rJ),safari:y(rQ)},r2="Windows",r4="Android",r3="Linux",r5="macOS",r7="Solaris",r6="FreeBSD",r8="ChromeOS",r9=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isWindows:o(r2),isiOS:o("iOS"),isAndroid:o(r4),isMacOS:o(r5),isLinux:o(r3),isSolaris:o(r7),isFreeBSD:o(r6),isChromeOS:o(r8)}},oe={unknown:()=>r9({current:void 0,version:rP()}),nu:r9,windows:y(r2),ios:y("iOS"),android:y(r4),linux:y(r3),macos:y(r5),solaris:y(r7),freebsd:y(r6),chromeos:y(r8)},ot=(e,t,r)=>{let o=rK.browsers(),n=rK.oses(),a=t.bind(e=>rI(o,e)).orThunk(()=>rV(o,e)).fold(r0.unknown,r0.nu),l=r$(n,e).fold(oe.unknown,oe.nu),i=rL(l,a,e,r);return{browser:a,os:l,deviceType:i}},or=e=>window.matchMedia(e).matches,oo=rO(()=>ot(window.navigator.userAgent,N.from(window.navigator.userAgentData),or)),on=()=>oo(),oa=(e,t)=>{let r=r=>{let o=t(r);return o<=0||null===o?parseFloat(rs(r,e))||0:o},o=(e,t)=>$(t,(t,r)=>{let o=rs(e,r),n=void 0===o?0:parseInt(o,10);return isNaN(n)?t:t+n},0);return{set:(t,r)=>{if(!p(r)&&!r.match(/^[0-9]+$/))throw Error(e+".set accepts only positive integer values. Value was "+r);let o=t.dom;ro(o)&&(o.style[e]=r+"px")},get:r,getOuter:r,aggregate:o,max:(e,t,r)=>{let n=o(e,r);return t>n?t-n:0}}},ol=(e,t)=>rr(e).getOr(t),oi=(e,t,r)=>ol(rs(e,t),r),os=(e,t,r,o)=>{let n=oi(e,`padding-${r}`,0);return t-n-oi(e,`padding-${o}`,0)-oi(e,`border-${r}-width`,0)-oi(e,`border-${o}-width`,0)},od=(e,t)=>{let r=e.dom,o=r.getBoundingClientRect().width||r.offsetWidth;return"border-box"===t?o:os(e,o,"left","right")},oc=oa("width",e=>e.dom.offsetWidth),om=e=>oc.get(e),ou=e=>oc.getOuter(e),oh=e=>od(e,"content-box"),of=e=>oi(e,"width",e.dom.offsetWidth),og=(e,t,r)=>{let o=e.cells,n=o.slice(0,t),a=o.slice(t);return ob(e,n.concat(r).concat(a))},op=(e,t,r)=>og(e,t,[r]),ov=(e,t,r)=>{e.cells[t]=r},ob=(e,t)=>tk(e.element,t,e.section,e.isNew),ow=(e,t)=>{let r=P(e.cells,t);return tk(e.element,r,e.section,e.isNew)},oy=(e,t)=>e.cells[t],oC=(e,t)=>oy(e,t).element,ox=e=>e.cells.length,oE=e=>{let t=I(e,e=>"colgroup"===e.section);return{rows:t.fail,cols:t.pass}},oS=(e,t,r)=>{let o=P(e.cells,r);return tk(t(e.element),o,e.section,!0)},ok="data-snooker-locked-cols",o_=e=>eI(e,ok).bind(e=>N.from(e.match(/\d+/g))).map(e=>X(e,A)),oT=e=>J(em($(oE(e).rows,(e,t)=>(z(t.cells,(t,r)=>{t.isLocked&&(e[r]=!0)}),e),{}),(e,t)=>parseInt(t,10))),oA=(e,t)=>e+","+t,oN=(e,t)=>F(K(e.all,e=>e.cells),t),oR=e=>{let t={},r=0;return z(e.cells,e=>{let o=e.colspan;H(o,n=>{let a=r+n;t[a]=tT(e.element,o,a)}),r+=o}),t},oD=e=>{let t={},r=[],o=ee(e).map(e=>e.element).bind(r_).bind(o_).getOr({}),n=0,a=0,l=0,{pass:i,fail:s}=I(e,e=>"colgroup"===e.section);z(s,e=>{let i=[];z(e.cells,e=>{let r=0;for(;void 0!==t[oA(l,r)];)r++;let n=eg(o,r.toString()),s=tC(e.element,e.rowspan,e.colspan,l,r,n);for(let o=0;o<e.colspan;o++)for(let n=0;n<e.rowspan;n++){let e=r+o;t[oA(l+n,e)]=s,a=Math.max(a,e+1)}i.push(s)}),n++,r.push(tx(e.element,i,e.section)),l++});let{columns:d,colgroups:c}=et(i).map(e=>{let t=oR(e);return{colgroups:[tA(e.element,eu(t))],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:tv(n,a),access:t,all:r,columns:d,colgroups:c}},oM={fromTable:e=>oD(rD(e)),generate:oD,getAt:(e,t,r)=>N.from(e.access[oA(t,r)]),findItem:(e,t,r)=>{let o=oN(e,e=>r(t,e.element));return o.length>0?N.some(o[0]):N.none()},filterItems:oN,justCells:e=>K(e.all,e=>e.cells),justColumns:e=>eu(e.columns),hasColumns:e=>eo(e.columns).length>0,getColumnAt:(e,t)=>N.from(e.columns[t])},oO=(e,t=A)=>{let r=e.grid,o=H(r.columns,C),n=H(r.rows,C);return P(o,r=>oL(()=>K(n,t=>oM.getAt(e,t,r).filter(e=>e.column===r).toArray()),e=>1===e.colspan&&t(e.element),()=>oM.getAt(e,0,r)))},oL=(e,t,r)=>{let o=e();return U(o,t).orThunk(()=>N.from(o[0]).orThunk(r)).map(e=>e.element)},oB=e=>{let t=e.grid,r=H(t.rows,C),o=H(t.columns,C);return P(r,t=>oL(()=>K(o,r=>oM.getAt(e,t,r).filter(e=>e.row===t).fold(y([]),e=>[e])),e=>1===e.rowspan,()=>oM.getAt(e,t,0)))},oH=(e,t)=>{if(t<0||t>=e.length-1)return N.none();let r=e[t].fold(()=>er(G(e.slice(0,t)),(e,t)=>e.map(e=>({value:e,delta:t+1}))),e=>N.some({value:e,delta:0})),o=e[t+1].fold(()=>er(e.slice(t+1),(e,t)=>e.map(e=>({value:e,delta:t+1}))),e=>N.some({value:e,delta:1}));return r.bind(e=>o.map(t=>{let r=t.delta+e.delta;return Math.abs(t.value-e.value)/r}))},oP=(e,t)=>r=>"rtl"===oz(r)?t:e,oz=e=>"rtl"===rs(e,"direction")?"rtl":"ltr",oZ=oa("height",e=>{let t=e.dom;return tH(e)?t.getBoundingClientRect().height:t.offsetHeight}),oI=e=>oZ.get(e),oF=e=>oZ.getOuter(e),oV=e=>oi(e,"height",e.dom.offsetHeight),o$=(e,t)=>({left:e,top:t,translate:(r,o)=>o$(e+r,t+o)}),oj=e=>{let t=e.getBoundingClientRect();return o$(t.left,t.top)},oU=(e,t)=>void 0!==e?e:void 0!==t?t:0,oq=e=>{let t=e.dom.ownerDocument,r=t.body,o=t.defaultView,n=t.documentElement;if(r===e.dom)return o$(r.offsetLeft,r.offsetTop);let a=oU(null==o?void 0:o.pageYOffset,n.scrollTop),l=oU(null==o?void 0:o.pageXOffset,n.scrollLeft),i=oU(n.clientTop,r.clientTop),s=oU(n.clientLeft,r.clientLeft);return oW(e).translate(l-s,a-i)},oW=e=>{let t=e.dom,r=t.ownerDocument.body;return r===t?o$(r.offsetLeft,r.offsetTop):tH(e)?oj(t):o$(0,0)},oK=(e,t)=>({row:e,y:t}),oY=(e,t)=>({col:e,x:t}),oG=e=>oq(e).left+ou(e),oX=e=>oq(e).left,oJ=(e,t)=>oY(e,oX(t)),oQ=(e,t)=>oY(e,oG(t)),o1=e=>oq(e).top,o0=(e,t)=>oK(e,o1(t)),o2=(e,t)=>oK(e,o1(t)+oF(t)),o4=(e,t,r)=>{if(0===r.length)return[];let o=P(r.slice(1),(t,r)=>t.map(t=>e(r,t))),n=r[r.length-1].map(e=>t(r.length-1,e));return o.concat([n])},o3={delta:C,positions:e=>o4(o0,o2,e),edge:o1},o5=oP({delta:C,edge:oX,positions:e=>o4(oJ,oQ,e)},{delta:e=>-e,edge:oG,positions:e=>o4(oQ,oJ,e)}),o7={delta:(e,t)=>o5(t).delta(e,t),positions:(e,t)=>o5(t).positions(e,t),edge:e=>o5(e).edge(e)},o6={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},o8=(()=>{let e="[0-9]+",t="[eE][+-]?"+e,r=e=>`(?:${e})?`,o=["Infinity",e+"\\."+r(e)+r(t),"\\."+e+r(t),e+r(t)].join("|"),n=`[+-]?(?:${o})`;return RegExp(`^(${n})(.*)$`)})(),o9=(e,t)=>B(t,t=>B(o6[t],t=>e===t)),ne=(e,t)=>N.from(o8.exec(e)).bind(e=>{let r=Number(e[1]),o=e[2];return o9(o,t)?N.some({value:r,unit:o}):N.none()}),nt=/(\d+(\.\d+)?)%/,nr=/(\d+(\.\d+)?)px|em/,no=eL("col"),nn=eL("tr"),na=(e,t,r)=>{let o=e0(e).getOrThunk(()=>tz(eX(e)));return t(e)/r(o)*100},nl=(e,t)=>{rl(e,"width",t+"px")},ni=(e,t)=>{rl(e,"width",t+"%")},ns=(e,t)=>{rl(e,"height",t+"px")},nd=e=>{rm(e,"height")},nc=e=>oV(e)+"px",nm=(e,t,r,o)=>{let n=r_(e).map(e=>Math.floor(t/100*r(e))).getOr(t);return o(e,n),n},nu=(e,t,r,o)=>{let n=parseFloat(e);return t9(e,"%")&&"table"!==ek(t)?nm(t,n,r,o):n},nh=e=>{let t=nc(e);return t?nu(t,e,oI,ns):oI(e)},nf=(e,t,r)=>r(e)/rf(e,t),ng=(e,t)=>rc(e,t).orThunk(()=>eI(e,t).map(e=>e+"px")),np=e=>ng(e,"width"),nv=e=>ng(e,"height"),nb=e=>na(e,om,oh),nw=e=>no(e)?om(e):of(e),ny=e=>nn(e)?oI(e):nf(e,"rowspan",nh),nC=e=>np(e).bind(e=>ne(e,["fixed","relative","empty"])),nx=(e,t,r)=>{rl(e,"width",t+r)},nE=e=>om(e)+"px",nS=e=>oI(e)+"px",nk=e=>na(e,om,oh)+"%",n_=y(nt),nT=eL("col"),nA=e=>np(e).getOrThunk(()=>nw(e)+"px"),nN=e=>nv(e).getOrThunk(()=>ny(e)+"px"),nR=e=>P(oM.justColumns(e),e=>N.from(e.element)),nD=e=>{let t=on().browser,r=t.isChromium()||t.isFirefox();return!nT(e)||r},nM=(e,t,r,o,n,a)=>e.filter(o).fold(()=>a(oH(r,t)),e=>n(e)),nO=(e,t,r,o)=>{let n=oO(e),a=oM.hasColumns(e)?nR(e):n,l=[N.some(o7.edge(t))].concat(P(o7.positions(n,t),e=>e.map(e=>e.x))),i=S(rg);return P(a,(e,t)=>nM(e,t,l,i,e=>nD(e)?r(e):nM(t2(n[t],C),t,l,i,e=>o(N.some(om(e))),o),o))},nL=e=>e.map(e=>e+"px").getOr(""),nB=(e,t)=>nO(e,t,nA,nL),nH=(e,t,r)=>nO(e,t,nb,e=>e.fold(()=>r.minCellWidth(),e=>e/r.pixelWidth()*100)),nP=(e,t,r)=>nO(e,t,nw,e=>e.getOrThunk(r.minCellWidth)),nz=(e,t,r,o)=>{let n=oB(e),a=P(e.all,e=>N.some(e.element)),l=[N.some(o3.edge(t))].concat(P(o3.positions(n,t),e=>e.map(e=>e.y)));return P(a,(e,t)=>nM(e,t,l,A,r,o))},nZ=(e,t)=>nz(e,t,ny,e=>e.getOrThunk(rw)),nI=(e,t)=>nz(e,t,nN,nL),nF=(e,t)=>()=>tH(e)?t(e):parseFloat(rc(e,"width").getOr("0")),nV=e=>{let t=nF(e,om),r=y(0);return{width:t,pixelWidth:t,getWidths:(t,r)=>nP(t,e,r),getCellDelta:r,singleColumnWidth:y([0]),minCellWidth:r,setElementWidth:v,adjustTableWidth:v,isRelative:!0,label:"none"}},n$=e=>{let t=nF(e,e=>parseFloat(nk(e))),r=nF(e,om);return{width:t,pixelWidth:r,getWidths:(t,r)=>nH(t,e,r),getCellDelta:e=>e/r()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>rb()/r()*100,setElementWidth:ni,adjustTableWidth:r=>{let o=t();ni(e,o+r/100*o)},isRelative:!0,label:"percent"}},nj=e=>{let t=nF(e,om);return{width:t,pixelWidth:t,getWidths:(t,r)=>nP(t,e,r),getCellDelta:C,singleColumnWidth:(e,t)=>[Math.max(rb(),e+t)-e],minCellWidth:rb,setElementWidth:nl,adjustTableWidth:r=>{nl(e,t()+r)},isRelative:!1,label:"pixel"}},nU=(e,t)=>null!==n_().exec(t)?n$(e):nj(e),nq={getTableSize:e=>np(e).fold(()=>nV(e),t=>nU(e,t)),pixelSize:nj,percentageSize:n$},nW=(e,t,r,o,n,a)=>({minRow:e,minCol:t,maxRow:r,maxCol:o,allCells:n,selectedCells:a}),nK=(e,t)=>{let r=e.grid.columns,o=e.grid.rows,n=r,a=0,l=0,i=[],s=[];return ea(e.access,e=>{if(i.push(e),t(e)){s.push(e);let t=e.row,r=t+e.rowspan-1,i=e.column,d=i+e.colspan-1;t<o?o=t:r>a&&(a=r),i<n?n=i:d>l&&(l=d)}}),nW(o,n,a,l,i,s)},nY=(e,t,r)=>{let o=e[r].element,n=ej.fromTag("td");tt(n,ej.fromTag("br")),(t?tt:te)(o,n)},nG=(e,t,r,o)=>{let n=F(e,e=>"colgroup"!==e.section),a=t.grid.columns,l=t.grid.rows;for(let e=0;e<l;e++){let l=!1;for(let i=0;i<a;i++)e<r.minRow||e>r.maxRow||i<r.minCol||i>r.maxCol||(oM.getAt(t,e,i).filter(o).isNone()?nY(n,l,e):l=!0)}},nX=(e,t,r,o)=>{ea(r.columns,e=>{(e.column<t.minCol||e.column>t.maxCol)&&ti(e.element)}),z(F(ry(e,"tr"),e=>0===e.dom.childElementCount),ti),(t.minCol===t.maxCol||t.minRow===t.maxRow)&&z(ry(e,"th,td"),e=>{eF(e,"rowspan"),eF(e,"colspan")}),eF(e,ok),eF(e,"data-snooker-col-series"),nq.getTableSize(e).adjustTableWidth(o)},nJ=(e,t,r,o)=>{if(0===o.minCol&&t.grid.columns===o.maxCol+1)return 0;let n=nP(t,e,r),a=$(n,(e,t)=>e+t,0),l=$(n.slice(o.minCol,o.maxCol+1),(e,t)=>e+t,0)/a*r.pixelWidth()-r.pixelWidth();return r.getCellDelta(l)},nQ=(e,t)=>{let r=e=>eU(e.element,t),o=tm(e),n=rD(o),a=nq.getTableSize(e),l=oM.generate(n),i=nK(l,r),s="th:not("+t+"),td:not("+t+")";z(rC(o,"th,td",e=>eU(e,s)),ti),nG(n,l,i,r);let d=oM.fromTable(e),c=nJ(e,d,a,i);return nX(o,i,l,c),o},n1=((e,t)=>{let r=t=>e(t)?N.from(t.dom.nodeValue):N.none();return{get:o=>{if(!e(o))throw Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},getOption:r,set:(r,o)=>{if(!e(r))throw Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=o}}})(eD,"text"),n0=e=>n1.get(e),n2=e=>n1.getOption(e),n4=(e,t)=>n1.set(e,t),n3=e=>"img"===ek(e)?1:n2(e).fold(()=>e5(e).length,e=>e.length),n5=e=>n2(e).filter(e=>0!==e.trim().length||e.indexOf("")>-1).isSome(),n7=e=>eN(e)&&"false"===eZ(e,"contenteditable"),n6=["img","br"],n8=e=>n5(e)||L(n6,ek(e))||n7(e),n9=e=>tY(e,n8),ae=e=>at(e,n8),at=(e,t)=>{let r=e=>{let o=e5(e);for(let e=o.length-1;e>=0;e--){let n=o[e];if(t(n))return N.some(n);let a=r(n);if(a.isSome())return a}return N.none()};return r(e)},ar={scope:["row","col"]},ao=e=>()=>{let t=ej.fromTag("td",e.dom);return tt(t,ej.fromTag("br",e.dom)),t},an=e=>()=>ej.fromTag("col",e.dom),aa=e=>()=>ej.fromTag("colgroup",e.dom),al=e=>()=>ej.fromTag("tr",e.dom),ai=(e,t,r)=>{let o=th(e,t);return ea(r,(e,t)=>{null===e?eF(o,t):eH(o,t,e)}),o},as=e=>e,ad=(e,t,r)=>n9(e).map(o=>V(tV(o,r.join(","),t=>eY(t,e)),(e,t)=>{let r=tc(t);return tt(e,r),r},t)).getOr(t),ac=(e,t)=>{ea(ar,(r,o)=>eI(e,o).filter(e=>L(r,e)).each(e=>eH(t,o,e)))},am=(e,t,r)=>{let o=(e,t)=>{ru(e.element,t),rm(t,"height"),1!==e.colspan&&rm(t,"width")};return{col:r=>{let n=ej.fromTag(ek(r.element),t.dom);return o(r,n),e(r.element,n),n},colgroup:aa(t),row:al(t),cell:n=>{let a=ej.fromTag(ek(n.element),t.dom),l=r.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]);return tt(l.length>0?ad(n.element,a,l):a,ej.fromTag("br")),o(n,a),ac(n.element,a),e(n.element,a),a},replace:ai,colGap:an(t),gap:ao(t)}},au=e=>({col:an(e),colgroup:aa(e),row:al(e),cell:ao(e),replace:as,colGap:an(e),gap:ao(e)}),ah=(e,t)=>{let r=(t||document).createElement("div");return r.innerHTML=e,e5(ej.fromDom(r))},af=e=>P(e,ej.fromDom),ag=e=>t=>t.options.get(e),ap="100%",av=e=>{var t;let r=e.dom,o=null!==(t=r.getParent(e.selection.getStart(),r.isBlock))&&void 0!==t?t:e.getBody();return oh(ej.fromDom(o))+"px"},ab=(e,t)=>aR(e)||!aM(e)?t:aN(e)?{...t,width:av(e)}:{...t,width:ap},aw=(e,t)=>aR(e)||aM(e)?t:aN(e)?{...t,width:av(e)}:{...t,width:ap},ay=e=>{let t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{let t=L(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{let t=L(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_merge_content_on_paste",{processor:"boolean",default:!0})},aC=e=>N.from(e.options.get("table_clone_elements")),ax=e=>L(e.options.get("object_resizing").split(","),"table"),aE=ag("table_header_type"),aS=ag("table_column_resizing"),ak=e=>"preservetable"===aS(e),a_=e=>"resizetable"===aS(e),aT=ag("table_sizing_mode"),aA=e=>"relative"===aT(e),aN=e=>"fixed"===aT(e),aR=e=>"responsive"===aT(e),aD=ag("table_resize_bars"),aM=ag("table_style_by_css"),aO=ag("table_merge_content_on_paste"),aL=e=>{let t=e.options,r=t.get("table_default_attributes");return t.isSet("table_default_attributes")?r:aw(e,r)},aB=e=>{let t=e.options,r=t.get("table_default_styles");return t.isSet("table_default_styles")?r:ab(e,r)},aH=ag("table_use_colgroups"),aP=e=>tQ(e,"[contenteditable]"),az=(e,t=!1)=>tH(e)?e.dom.isContentEditable:aP(e).fold(y(t),e=>"true"===aZ(e)),aZ=e=>e.dom.contentEditable,aI=e=>ej.fromDom(e.getBody()),aF=e=>t=>eY(t,aI(e)),aV=e=>{eF(e,"data-mce-style");let t=e=>eF(e,"data-mce-style");z(rS(e),t),z(rk(e),t),z(rT(e),t)},a$=e=>ej.fromDom(e.selection.getStart()),aj=e=>e.getBoundingClientRect().width,aU=e=>e.getBoundingClientRect().height,aq=e=>(t,r)=>{let o=t.dom.getStyle(r,e)||t.dom.getAttrib(r,e);return N.from(o).filter(rt)},aW=aq("width"),aK=aq("height"),aY=e=>/^(\d+(\.\d+)?)%$/.test(e),aG=e=>/^(\d+(\.\d+)?)px$/.test(e),aX=e=>tW(e,eL("table")).exists(az),aJ=(e,t)=>{let r=t.column,o=t.column+t.colspan-1,n=t.row,a=t.row+t.rowspan-1;return r<=e.finishCol&&o>=e.startCol&&n<=e.finishRow&&a>=e.startRow},aQ=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,a1=(e,t)=>{let r=!0,o=E(aQ,t);for(let n=t.startRow;n<=t.finishRow;n++)for(let a=t.startCol;a<=t.finishCol;a++)r=r&&oM.getAt(e,n,a).exists(o);return r?N.some(t):N.none()},a0=(e,t)=>t_(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),a2=(e,t,r)=>{let o=oM.findItem(e,t,eY),n=oM.findItem(e,r,eY);return o.bind(e=>n.map(t=>a0(e,t)))},a4=(e,t,r)=>a2(e,t,r).bind(t=>a1(e,t)),a3=(e,t,r,o)=>oM.findItem(e,t,eY).bind(t=>{let n=r>0?t.row+t.rowspan-1:t.row,a=o>0?t.column+t.colspan-1:t.column;return oM.getAt(e,n+r,a+o).map(e=>e.element)}),a5=(e,t,r)=>a2(e,t,r).map(t=>P(oM.filterItems(e,E(aJ,t)),e=>e.element)),a7=(e,t)=>oM.findItem(e,t,(e,t)=>eG(t,e)).map(e=>e.element),a6=(e,t,r)=>r_(e).bind(o=>a3(lt(o),e,t,r)),a8=(e,t,r)=>a5(lt(e),t,r),a9=(e,t,r,o,n)=>{let a=lt(e),l=eY(e,r)?N.some(t):a7(a,t),i=eY(e,n)?N.some(o):a7(a,o);return l.bind(e=>i.bind(t=>a5(a,e,t)))},le=(e,t,r)=>a4(lt(e),t,r),lt=oM.fromTable;var lr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],lo=()=>({up:y({selector:tG,closest:tQ,predicate:tq,all:e2}),down:y({selector:tj,predicate:tF}),styles:y({get:rs,getRaw:rc,set:rl,remove:rm}),attrs:y({get:eZ,set:eH,remove:eF,copyTo:(e,t)=>{eP(t,eV(e))}}),insert:y({before:e8,after:e9,afterAll:tn,append:tt,appendAll:ta,prepend:te,wrap:to}),remove:y({unwrap:ts,remove:ti}),create:y({nu:ej.fromTag,clone:e=>ej.fromDom(e.dom.cloneNode(!1)),text:ej.fromText}),query:y({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e4,nextSibling:e3}),property:y({children:e5,name:ek,parent:e1,document:e=>eJ(e).dom,isText:eD,isComment:eA,isElement:eR,isSpecial:e=>L(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ek(e)),getLanguage:e=>eR(e)?eI(e,"lang"):N.none(),getText:n0,setText:n4,isBoundary:e=>!!eR(e)&&("body"===ek(e)||L(lr,ek(e))),isEmptyTag:e=>!!eR(e)&&L(["br","img","hr","input"],ek(e)),isNonEditable:e=>eR(e)&&"false"===eZ(e,"contenteditable")}),eq:eY,is:eU});let ln=(e,t,r,o)=>o(e,t,r[0],r.slice(1)),la=(e,t,r,o)=>V(o,(r,o)=>{let n=t(e,o);return ll(e,r,n)},t(e,r)),ll=(e,t,r)=>t.bind(t=>r.filter(E(e.eq,t))),li=(e,t)=>E(e.eq,t),ls=(e,t,r)=>r.length>0?ln(e,t,r,la):N.none(),ld=(e,t,r,o=T)=>{let n=[t].concat(e.up().all(t)),a=[r].concat(e.up().all(r)),l=e=>q(e,o).fold(()=>e,t=>e.slice(0,t+1)),i=l(n),s=l(a),d=U(i,t=>B(s,li(e,t)));return{firstpath:i,secondpath:s,shared:d}},lc=lo(),lm=(e,t)=>ls(lc,(t,r)=>e(r),t),lu=(e,t,r)=>ld(lc,e,t,r),lh=e=>tG(e,"table"),lf=(e,t,r)=>{let o=e=>t=>void 0!==r&&r(t)||eY(t,e);return eY(e,t)?N.some({boxes:N.some([e]),start:e,finish:t}):lh(e).bind(n=>lh(t).bind(a=>{if(eY(n,a))return N.some({boxes:a8(n,e,t),start:e,finish:t});if(eG(n,a)){let r=tV(t,"td,th",o(n)),l=r.length>0?r[r.length-1]:t;return N.some({boxes:a9(n,e,n,t,a),start:e,finish:l})}if(!eG(a,n))return lu(e,t).shared.bind(l=>tQ(l,"table",r).bind(r=>{let l=tV(t,"td,th",o(r)),i=l.length>0?l[l.length-1]:t,s=tV(e,"td,th",o(r)),d=s.length>0?s[s.length-1]:e;return N.some({boxes:a9(r,e,n,t,a),start:d,finish:i})}));{let r=tV(e,"td,th",o(a)),l=r.length>0?r[r.length-1]:e;return N.some({boxes:a9(a,e,n,t,a),start:e,finish:l})}}))},lg=(e,t)=>{let r=tj(e,t);return r.length>0?N.some(r):N.none()},lp=(e,t)=>U(e,e=>eU(e,t)),lv=(e,t,r)=>tJ(e,t).bind(t=>tJ(e,r).bind(e=>lm(lh,[t,e]).map(r=>({first:t,last:e,table:r})))),lb=(e,t)=>tG(e,"table").bind(r=>tJ(r,t).bind(t=>lf(t,e).bind(e=>e.boxes.map(t=>({boxes:t,start:e.start,finish:e.finish}))))),lw=(e,t,r,o,n)=>lp(e,n).bind(e=>a6(e,t,r).bind(e=>lb(e,o))),ly=(e,t)=>lg(e,t),lC=(e,t,r)=>lv(e,t,r).bind(t=>{let r=t=>eY(e,t),o="thead,tfoot,tbody,table",n=tG(t.first,o,r),a=tG(t.last,o,r);return n.bind(e=>a.bind(r=>eY(e,r)?le(t.table,t.first,t.last):N.none()))}),lx=e=>{let t=(e,t)=>eI(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&Y(e,e=>t(e,"rowspan")||t(e,"colspan"))?N.some(e):N.none()},lE=(e,t,r)=>t.length<=1?N.none():lC(e,r.firstSelectedSelector,r.lastSelectedSelector).map(e=>({bounds:e,cells:t})),lS="data-mce-selected",lk="data-mce-first-selected",l_="data-mce-last-selected",lT="["+lS+"]",lA={selected:lS,selectedSelector:"td["+lS+"],th["+lS+"]",firstSelected:lk,firstSelectedSelector:"td["+lk+"],th["+lk+"]",lastSelected:l_,lastSelectedSelector:"td["+l_+"],th["+l_+"]"},lN=(e,t,r)=>({element:r,mergable:lE(t,e,lA),unmergable:lx(e),selection:C(e)}),lR=(e,t,r)=>({element:e,clipboard:t,generators:r}),lD=(e,t,r,o)=>({selection:C(e),clipboard:r,generators:o}),lM=e=>r_(e).bind(e=>ly(e,lA.firstSelectedSelector)).fold(y(e),e=>e[0]),lO=e=>(t,r)=>{let o=ek(t);return tQ("col"===o||"colgroup"===o?lM(t):t,e,r)},lL=lO("th,td,caption"),lB=lO("th,td"),lH=e=>af(e.model.table.getSelectedCells()),lP=e=>F(lH(e),e=>eU(e,lA.selectedSelector)),lz=e=>r_(e[0]).map(e=>{let t=nQ(e,lT);return aV(t),[t]}),lZ=(e,t)=>P(t,t=>e.selection.serializer.serialize(t.dom,{})).join(""),lI=(e,t)=>{let r=e.getDoc(),o=tR(ej.fromDom(e.getBody())),n=ej.fromTag("div",r);eH(n,"data-mce-bogus","all"),ri(n,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});let a=tD(o);ta(n,t),tt(a,n);let l=n.dom.innerText;return ti(n),l},lF=(e,t)=>{e.on("BeforeGetContent",t=>{if(!0===t.selection){let r=lP(e);r.length>=1&&(t.preventDefault(),lz(r).each(r=>{let o="text"===t.format?lI(e,r):lZ(e,r);t.content=o}))}}),e.on("BeforeSetContent",r=>{!0===r.selection&&!0===r.paste&&ee(lH(e)).each(o=>{r_(o).each(n=>{let a=F(ah(r.content),e=>"meta"!==ek(e)),l=eL("table");if(aO(e)&&1===a.length&&l(a[0])){r.preventDefault();let l=au(ej.fromDom(e.getDoc())),i=lR(o,a[0],l);t.pasteCells(n,i).each(()=>{e.focus()})}})})})},lV=(e,t)=>({element:e,offset:t}),l$=(e,t,r)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?r(t).bind(t=>l$(e,t,r).orThunk(()=>N.some(t))):N.none(),lj=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,lU=(e,t)=>{let r=l$(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(r))return lV(r,lj(e,r));let o=e.property().children(r);return o.length>0?lU(e,o[o.length-1]):lV(r,lj(e,r))},lq=lo(),lW=e=>lU(lq,e),lK=(e,t)=>{rg(e)||nC(e).each(r=>{let o=r.value/2;nx(e,o,r.unit),nx(t,o,r.unit)})},lY=e=>P(e,y(0)),lG=(e,t,r,o,n)=>n(e.slice(0,t)).concat(o).concat(n(e.slice(r))),lX=e=>(t,r,o,n)=>{if(!e(o))return o;{let e=Math.abs(Math.max(n,t[r]-Math.abs(o))-t[r]);return o>=0?e:-e}},lJ=lX(e=>e<0),lQ=lX(A),l1=()=>{let e=(e,t,r,o,n)=>{let a=lJ(e,t,o,n);return lG(e,t,r+1,[a,0],lY)},t=(e,t,r,o)=>{let n=(100+r)/100,a=Math.max(o,(e[t]+r)/n);return P(e,(e,r)=>(r===t?a:e/n)-e)},r=(r,o,n,a,l,i)=>i?t(r,o,a,l):e(r,o,n,a,l);return{resizeTable:(e,t)=>e(t),clampTableDelta:lJ,calcLeftEdgeDeltas:r,calcMiddleDeltas:(e,t,o,n,a,l,i)=>r(e,o,n,a,l,i),calcRightEdgeDeltas:(e,r,o,n,a,l)=>{if(l)return t(e,o,n,a);{let t=lJ(e,o,n,a);return lY(e.slice(0,o)).concat([t])}},calcRedestributedWidths:(e,t,r,o)=>{if(!o)return{delta:r,newSizes:e};{let o=(t+r)/t,n=P(e,e=>e/o);return{delta:100*o-100,newSizes:n}}}}},l0=()=>{let e=(e,t,r,o,n)=>{let a=lQ(e,o>=0?r:t,o,n);return lG(e,t,r+1,[a,-a],lY)};return{resizeTable:(e,t,r)=>{r&&e(t)},clampTableDelta:(e,t,r,o,n)=>n?r>=0?r:Math.max(-$(e,(e,t)=>e+t-o,0),r):lJ(e,t,r,o),calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,r,o,n,a,l)=>e(t,o,n,a,l),calcRightEdgeDeltas:(e,t,r,o,n,a)=>{if(a)return lY(e);{let t=o/e.length;return P(e,y(t))}},calcRedestributedWidths:(e,t,r,o)=>({delta:0,newSizes:e})}},l2=e=>oM.fromTable(e).grid,l4=eL("th"),l3=e=>Y(e,e=>l4(e.element)),l5=(e,t)=>e&&t?"sectionCells":e?"section":"cells",l7=e=>{let t="thead"===e.section,r=t1(l6(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||r?{type:"header",subType:l5(t,r)}:{type:"body"}},l6=e=>{let t=F(e,e=>l4(e.element));return 0===t.length?N.some("td"):t.length===e.length?N.some("th"):N.none()},l8=e=>{let t=P(e,e=>l7(e).type),r=L(t,"header"),o=L(t,"footer");if(!r&&!o)return N.some("body");{let e=L(t,"body");return!r||e||o?r||e||!o?N.none():N.some("footer"):N.some("header")}},l9=e=>er(e.all,e=>{let t=l7(e);return"header"===t.type?N.from(t.subType):N.none()}),ie=(e,t,r)=>tS(r(e.element,t),!0,e.isLocked),it=(e,t)=>e.section!==t?tk(e.element,e.cells,t,e.isNew):e,ir=()=>({transformRow:it,transformCell:(e,t,r)=>{let o=r(e.element,t);return tS("td"!==ek(o)?tf(o,"td"):o,e.isNew,e.isLocked)}}),io=()=>({transformRow:it,transformCell:ie}),ia=()=>({transformRow:(e,t)=>it(e,"thead"===t?"tbody":t),transformCell:ie}),il={getTableSectionType:(e,t)=>{switch(l9(oM.fromTable(e)).getOr(t)){case"section":return ir();case"sectionCells":return io();case"cells":return ia()}},section:ir,sectionCells:io,cells:ia,fallback:()=>({transformRow:C,transformCell:ie})},ii=(e,t,r,o)=>{r===o?eF(e,t):eH(e,t,r)},is=(e,t,r)=>{et(t$(e,t)).fold(()=>te(e,r),e=>e9(e,r))},id=(e,t)=>{let r=tX(e,t).getOrThunk(()=>{let r=ej.fromTag(t,eX(e).dom);return"thead"===t?is(e,"caption,colgroup",r):"colgroup"===t?is(e,"caption",r):tt(e,r),r});return tl(r),r},ic=(e,t)=>{let r=[],o=[],n=e=>P(e,e=>{e.isNew&&r.push(e.element);let t=e.element;return tl(t),z(e.cells,e=>{e.isNew&&o.push(e.element),ii(e.element,"colspan",e.colspan,1),ii(e.element,"rowspan",e.rowspan,1),tt(t,e.element)}),t}),a=e=>K(e,e=>P(e.cells,e=>(ii(e.element,"span",e.colspan,1),e.element))),l=(t,r)=>{ta(id(e,r),("colgroup"===r?a:n)(t))},i=t=>{tX(e,t).each(ti)},s=(e,t)=>{e.length>0?l(e,t):i(t)},d=[],c=[],m=[],u=[];return z(t,e=>{switch(e.section){case"thead":d.push(e);break;case"tbody":c.push(e);break;case"tfoot":m.push(e);break;case"colgroup":u.push(e)}}),s(u,"colgroup"),s(d,"thead"),s(c,"tbody"),s(m,"tfoot"),{newRows:r,newCells:o}},im=e=>P(e,e=>{let t=tc(e.element);return z(e.cells,e=>{let r=tm(e.element);ii(r,"colspan",e.colspan,1),ii(r,"rowspan",e.rowspan,1),tt(t,r)}),t}),iu=(e,t)=>P(e,e=>oy(e,t)),ih=(e,t)=>e[t],ig=(e,t)=>{if(0===e.length)return 0;let r=e[0];return q(e,e=>!t(r.element,e.element)).getOr(e.length)},ip=(e,t,r,o)=>{let n=ih(e,t),a="colgroup"===n.section;return{colspan:ig(n.cells.slice(r),o),rowspan:a?1:ig(iu(e.slice(t),r),o)}},iv=(e,t)=>{let r=P(e,e=>P(e.cells,T)),o=(e,t,o,n)=>{for(let a=e;a<e+o;a++)for(let e=t;e<t+n;e++)r[a][e]=!0};return P(e,(n,a)=>{let l=K(n.cells,(n,l)=>{if(!1!==r[a][l])return[];{let r=ip(e,a,l,t);return o(a,l,r.rowspan,r.colspan),[ty(n.element,r.rowspan,r.colspan,n.isNew)]}});return tE(n.element,l,n.section,n.isNew)})},ib=(e,t,r)=>{let o=[];z(e.colgroups,n=>{let a=[];for(let o=0;o<e.grid.columns;o++){let n=oM.getColumnAt(e,o).map(e=>tS(e.element,r,!1)).getOrThunk(()=>tS(t.colGap(),!0,!1));a.push(n)}o.push(tk(n.element,a,"colgroup",r))});for(let n=0;n<e.grid.rows;n++){let a=[];for(let o=0;o<e.grid.columns;o++){let l=oM.getAt(e,n,o).map(e=>tS(e.element,r,e.isLocked)).getOrThunk(()=>tS(t.gap(),!0,!1));a.push(l)}let l=e.all[n],i=tk(l.element,a,l.section,r);o.push(i)}return o},iw=(e,t)=>ib(e,t,!1),iy=e=>iv(e,eY),iC=(e,t)=>er(e.all,e=>U(e.cells,e=>eY(t,e.element))),ix=(e,t,r)=>{let o=t0(P(t.selection,t=>rE(t).bind(t=>iC(e,t)).filter(r)));return t4(o.length>0,o)},iE=(e,t,r,o,n)=>(a,l,i,s)=>{let d=oM.fromTable(a),c=N.from(null==s?void 0:s.section).getOrThunk(il.fallback);return t(d,l).map(t=>{let r=e(iw(d,i),t,eY,n(i),c),o=oT(r.grid);return{info:t,grid:iy(r.grid),cursor:r.cursor,lockedColumns:o}}).bind(e=>{let t=ic(a,e.grid),n=N.from(null==s?void 0:s.sizing).getOrThunk(()=>nq.getTableSize(a)),l=N.from(null==s?void 0:s.resize).getOrThunk(l0);return r(a,e.grid,e.info,{sizing:n,resize:l,section:c}),o(a),eF(a,ok),e.lockedColumns.length>0&&eH(a,ok,e.lockedColumns.join(",")),N.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})},iS=(e,t)=>ix(e,t,A).map(e=>({cells:e,generators:t.generators,clipboard:t.clipboard})),ik=(e,t)=>t.mergable,i_=(e,t)=>t.unmergable,iT=(e,t)=>ix(e,t,A),iA=(e,t)=>ix(e,t,e=>!e.isLocked),iN=(e,t)=>iC(e,t).exists(e=>!e.isLocked),iR=(e,t)=>Y(t,t=>iN(e,t)),iD=(e,t,r,o)=>{let n=oE(e).rows;if(0===n.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let r=t.startCol;r<=t.finishCol;r++){let t=n[e],a=oy(t,r).isLocked;ov(t,r,tS(o(),!1,a))}return e},iM=(e,t,r,o)=>{let n=oE(e).rows,a=!0;for(let e=0;e<n.length;e++)for(let l=0;l<ox(n[0]);l++){let i=n[e],s=oy(i,l),d=r(s.element,t);d&&!a?ov(i,l,tS(o(),!0,s.isLocked)):d&&(a=!1)}return e},iO=(e,t)=>$(e,(e,r)=>B(e,e=>t(e.element,r.element))?e:e.concat([r]),[]),iL=(e,t,r,o)=>(t>0&&t<e[0].cells.length&&z(e,e=>{let n=e.cells[t-1],a=0,l=o();for(;e.cells.length>t+a&&r(n.element,e.cells[t+a].element);)ov(e,t+a,tS(l,!0,e.cells[t+a].isLocked)),a++}),e),iB=(e,t,r,o)=>{let n=oE(e).rows;return t>0&&t<n.length&&z(iO(n[t-1].cells,r),e=>{let a=N.none();for(let l=t;l<n.length;l++)for(let t=0;t<ox(n[0]);t++){let i=n[l],s=oy(i,t);r(s.element,e.element)&&(a.isNone()&&(a=N.some(o())),a.each(e=>{ov(i,t,tS(e,!0,s.isLocked))}))}}),e},iH={value:e=>{let t=t=>t(e),r=y(e),o=()=>n,n={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:A,isError:T,map:t=>iH.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:r,or:o,getOrThunk:r,orThunk:o,getOrDie:r,each:t=>{t(e)},toOptional:()=>N.some(e)};return n},error:e=>{let t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:T,isError:A,map:t,mapError:t=>iH.error(t(e)),bind:t,exists:T,forall:A,getOr:C,or:C,getOrThunk:_,orThunk:_,getOrDie:k(String(e)),each:v,toOptional:N.none};return r}},iP=(e,t,r)=>{if(e.row>=t.length||e.column>ox(t[0]))return iH.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);let o=t.slice(e.row),n=o[0].cells.slice(e.column),a=ox(r[0]),l=r.length;return iH.value({rowDelta:o.length-l,colDelta:n.length-a})},iz=(e,t)=>({rowDelta:0,colDelta:ox(e[0])-ox(t[0])}),iZ=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),iI=(e,t,r,o)=>{let n="colgroup"===t.section?r.col:r.cell;return H(e,e=>tS(n(),!0,o(e)))},iF=(e,t,r,o)=>{let n=e[e.length-1];return e.concat(H(t,()=>{let e="colgroup"===n.section?r.colgroup:r.row,t=oS(n,e,C),a=iI(t.cells.length,t,r,e=>ef(o,e.toString()));return ob(t,a)}))},iV=(e,t,r,o)=>P(e,e=>{let n=iI(t,e,r,T);return og(e,o,n)}),i$=(e,t,r)=>P(e,e=>$(r,(r,o)=>op(r,o,iI(1,e,t,A)[0]),e)),ij=(e,t,r)=>{let o=t.colDelta<0?iV:C,n=t.rowDelta<0?iF:C,a=oT(e),l=ox(e[0]),i=B(a,e=>e===l-1),s=o(e,Math.abs(t.colDelta),r,i?l-1:l),d=oT(s);return n(s,Math.abs(t.rowDelta),r,X(d,A))},iU=(e,t,r,o)=>{let n=E(o,oy(e[t],r).element),a=e[t];return e.length>1&&ox(a)>1&&(r>0&&n(oC(a,r-1))||r<a.cells.length-1&&n(oC(a,r+1))||t>0&&n(oC(e[t-1],r))||t<e.length-1&&n(oC(e[t+1],r)))},iq=(e,t,r,o,n,a)=>{let l=e.row,i=e.column,s=r.length,d=ox(r[0]),c=l+s,m=i+d+a.length,u=X(a,A);for(let e=l;e<c;e++){let a=0;for(let s=i;s<m;s++){if(u[s]){a++;continue}iU(t,e,s,n)&&iM(t,oC(t[e],s),n,o.cell);let d=s-i-a,c=oy(r[e-l],d),m=c.element,h=o.replace(m);ov(t[e],s,tS(h,!0,c.isLocked))}}return t},iW=(e,t,r)=>{let o=ox(t[0]);return{row:oE(t).cols.length+e.row,column:U(H(o-e.column,t=>t+e.column),e=>Y(r,t=>t!==e)).getOr(o-1)}},iK=(e,t,r)=>F(r,r=>r>=e.column&&r<=ox(t[0])+e.column),iY=(e,t,r,o,n)=>{let a=oT(t),l=iW(e,t,a),i=oE(r).rows,s=iK(l,i,a);return iP(l,t,i).map(e=>{let r=ij(t,{...e,colDelta:e.colDelta-s.length},o),a=iK(l,i,oT(r));return iq(l,r,i,o,n,a)})},iG=(e,t,r,o,n)=>{iL(t,e,n,o.cell);let a=iZ(r,t),l=ij(r,a,o),i=iZ(t,l);return P(ij(t,i,o),(t,r)=>og(t,e,l[r].cells))},iX=(e,t,r,o,n)=>{iB(t,e,n,o.cell);let a=oT(t),l=iz(t,r),i=ij(t,{...l,colDelta:l.colDelta-a.length},o),{cols:s,rows:d}=oE(i),c=oT(i),m=iz(r,t),u={...m,colDelta:m.colDelta+c.length},h=ij(i$(r,o,c),u,o);return[...s,...d.slice(0,e),...h,...d.slice(e,d.length)]},iJ=(e,t,r,o)=>oS(e,e=>o(e,r),t),iQ=(e,t,r,o,n)=>{let{rows:a,cols:l}=oE(e),i=a.slice(0,t),s=a.slice(t);return[...l,...i,iJ(a[r],(e,r)=>t>0&&t<a.length&&o(oC(a[t-1],r),oC(a[t],r))?oy(a[t],r):tS(n(e.element,o),!0,e.isLocked),o,n),...s]},i1=(e,t,r,o,n,a,l)=>"colgroup"!==r&&o?oy(e,t):tS(l(oy(e,n).element,a),!0,!1),i0=(e,t,r,o,n)=>P(e,e=>{let a=t>0&&t<ox(e)&&o(oC(e,t-1),oC(e,t)),l=i1(e,t,e.section,a,r,o,n);return op(e,t,l)}),i2=(e,t)=>K(e,e=>{let r=V(t,(e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e,e.cells);return r.length>0?[tk(e.element,r,e.section,e.isNew)]:[]}),i4=(e,t,r)=>{let{rows:o,cols:n}=oE(e);return[...n,...o.slice(0,t),...o.slice(r+1)]},i3=(e,t,r,o)=>void 0!==oC(e[t],r)&&t>0&&o(oC(e[t-1],r),oC(e[t],r)),i5=(e,t,r)=>t>0&&r(oC(e,t-1),oC(e,t)),i7=(e,t,r,o)=>i3(e,t,r,o)||i5(e[t],r,o),i6=(e,t)=>Y(t,C)&&l3(e.cells)?A:(e,r,o)=>!("th"===ek(e.element)&&t[o]),i8=(e,t)=>Y(t,C)&&l3(e)?A:(e,r,o)=>!("th"===ek(e.element)&&t[r]),i9=(e,t,r,o)=>{let n=e=>"row"===e?rp(t):rg(t),a=e=>n(e)?`${e}group`:e;return e?l4(t)?a(r):null:o&&l4(t)?a("row"===r?"col":"row"):null},se=(e,t)=>(r,o,n)=>N.some(i9(e,r.element,"col",t[n])),st=(e,t)=>(r,o)=>N.some(i9(e,r.element,"row",t[o])),sr=(e,t,r)=>tS(r(e.element,t),!0,e.isLocked),so=(e,t,r,o,n,a,l)=>{let i=e=>B(t,t=>r(e.element,t.element));return P(e,(e,t)=>ow(e,(e,s)=>{if(!i(e))return e;{let i=l(e,t,s)?n(e,r,o):e;return a(i,t,s).each(e=>{ez(i.element,{scope:N.from(e)})}),i}}))},sn=(e,t,r)=>K(e,(o,n)=>i7(e,n,t,r)?[]:[oy(o,t)]),sa=(e,t,r)=>K(e[t].cells,(o,n)=>i7(e,t,n,r)?[]:[o]),sl=(e,t,r,o,n)=>{let a=oE(e).rows,l=K(t,e=>sn(a,e,o)),i=P(a,e=>l3(e.cells)),s=i8(l,i);return so(e,l,o,n,sr,st(r,i),s)},si=(e,t,r,o,n,a,l)=>{let{cols:i,rows:s}=oE(e),d=s[t[0]],c=K(t,e=>sa(s,e,n)),m=P(d.cells,(e,t)=>l3(sn(s,t,n))),u=[...s];z(t,e=>{u[e]=l.transformRow(s[e],r)});let h=[...i,...u],f=i6(d,m),g=se(o,m);return so(h,c,n,a,l.transformCell,g,f)},ss=(e,t,r,o)=>{let n=oE(e).rows;return so(e,P(t,e=>oy(n[e.row],e.column)),r,o,sr,N.none,A)},sd=e=>{if(!d(e))throw Error("cases must be an array");if(0===e.length)throw Error("there must be at least one case");let t=[],r={};return z(e,(o,n)=>{let a=eo(o);if(1!==a.length)throw Error("one and only one name per case");let l=a[0],i=o[l];if(void 0!==r[l])throw Error("duplicate key detected:"+l);if("cata"===l)throw Error("cannot have a case named cata (sorry)");if(!d(i))throw Error("case arguments must be an array");t.push(l),r[l]=(...r)=>{let o=r.length;if(o!==i.length)throw Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[n].apply(null,r)},match:e=>{let o=eo(e);if(t.length!==o.length)throw Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!Y(t,e=>L(o,e)))throw Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:l,params:r})}}}}),r},sc={...sd([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},sm=(e,t)=>0===e.length?sc.none():1===e.length?sc.only(0):0===t?sc.left(0,1):t===e.length-1?sc.right(t-1,t):t>0&&t<e.length-1?sc.middle(t-1,t,t+1):sc.none(),su=(e,t,r,o,n)=>{let a=e.slice(0),l=sm(e,t),i=y(P(a,y(0)));return l.fold(i,e=>o.singleColumnWidth(a[e],r),(e,t)=>n.calcLeftEdgeDeltas(a,e,t,r,o.minCellWidth(),o.isRelative),(e,t,l)=>n.calcMiddleDeltas(a,e,t,l,r,o.minCellWidth(),o.isRelative),(e,t)=>n.calcRightEdgeDeltas(a,e,t,r,o.minCellWidth(),o.isRelative))},sh=(e,t,r)=>{let o=0;for(let n=e;n<t;n++)o+=void 0!==r[n]?r[n]:0;return o},sf=(e,t)=>P(oM.justCells(e),e=>{let r=sh(e.column,e.column+e.colspan,t);return{element:e.element,width:r,colspan:e.colspan}}),sg=(e,t)=>P(oM.justColumns(e),(e,r)=>({element:e.element,width:t[r],colspan:e.colspan})),sp=(e,t)=>P(e.all,(e,r)=>({element:e.element,height:t[r]})),sv=e=>V(e,(e,t)=>e+t,0),sb=(e,t)=>oM.hasColumns(e)?sg(e,t):sf(e,t),sw=(e,t,r)=>{z(sb(e,t),e=>{r.setElementWidth(e.element,e.width)})},sy=(e,t,r,o,n)=>{let a=oM.fromTable(e),l=n.getCellDelta(t),i=n.getWidths(a,n),s=r===a.grid.columns-1,d=o.clampTableDelta(i,r,l,n.minCellWidth(),s);sw(a,P(su(i,r,d,n,o),(e,t)=>e+i[t]),n),o.resizeTable(n.adjustTableWidth,d,s)},sC=(e,t,r)=>{let o=oM.fromTable(e),n=P(nZ(o,e),(e,o)=>r===o?Math.max(t+e,rw()):e);z(sp(o,n),e=>{ns(e.element,e.height)}),z(oM.justCells(o),e=>{nd(e.element)}),ns(e,sv(n))},sx=(e,t,r,o,n)=>{let a=oM.generate(t),l=o.getWidths(a,o),i=o.pixelWidth(),{newSizes:s,delta:d}=n.calcRedestributedWidths(l,i,r.pixelDelta,o.isRelative);sw(a,s,o),o.adjustTableWidth(d)},sE=(e,t,r,o)=>{let n=oM.generate(t),a=o.getWidths(n,o);sw(n,a,o)},sS=e=>$(e,(e,t)=>B(e,e=>e.column===t.column)?e:e.concat([t]),[]).sort((e,t)=>e.column-t.column),sk=eL("col"),s_=eL("colgroup"),sT=e=>"tr"===ek(e)||s_(e),sA=e=>{let t=rh(e,"colspan",1),r=rh(e,"rowspan",1);return{element:e,colspan:t,rowspan:r}},sN=e=>eI(e,"scope").map(e=>e.substr(0,3)),sR=(e,t=sA)=>{let r=t=>sk(t.element)?e.col(t):e.cell(t),o=t=>s_(t.element)?e.colgroup(t):e.row(t),n=e=>{if(sT(e))return o({element:e});{let o=r(t(e));return a=N.some({item:e,replacement:o}),o}},a=N.none();return{getOrInit:(e,t)=>a.fold(()=>n(e),r=>t(e,r.item)?r.replacement:n(e))}},sD=e=>t=>{let r=[],o=(e,t)=>U(r,r=>t(r.item,e)),n=o=>{let n=t.replace(o,e,"td"===e?{scope:null}:{});return r.push({item:o,sub:n}),n};return{replaceOrInit:(e,t)=>sT(e)||sk(e)?e:o(e,t).fold(()=>n(e),r=>t(e,r.item)?r.sub:n(e))}},sM=e=>({unmerge:t=>{let r=sN(t);return r.each(e=>eH(t,"scope",e)),()=>{let o=e.cell({element:t,colspan:1,rowspan:1});return rm(o,"width"),rm(t,"width"),r.each(e=>eH(o,"scope",e)),o}},merge:e=>(rm(e[0],"width"),(()=>{let t=t0(P(e,sN));if(0===t.length)return N.none();{let e=t[0],r=["row","col"];return B(t,t=>t!==e&&L(r,t))?N.none():N.from(e)}})().fold(()=>eF(e[0],"scope"),t=>eH(e[0],"scope",t+"group")),y(e[0]))}),sO=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],sL=(e,t)=>L(["ol","ul"],e.property().name(t)),sB=(e,t)=>L(sO,e.property().name(t)),sH=(e,t)=>L(["br","img","hr","input"],e.property().name(t)),sP=lo(),sz=e=>sB(sP,e),sZ=e=>sL(sP,e),sI=e=>sH(sP,e),sF=e=>{let t=eL("br"),r=e=>Y(e,e=>t(e)||eD(e)&&0===n0(e).trim().length),o=e=>"li"===ek(e)||tq(e,sZ).isSome(),n=e=>e3(e).map(e=>!!sz(e)||!!sI(e)&&"img"!==ek(e)).getOr(!1),a=e=>ae(e).bind(r=>{let a=n(r);return e1(r).map(n=>!0===a||o(n)||t(r)||sz(n)&&!eY(e,n)?[]:[ej.fromTag("br")])}).getOr([]),l=(()=>{let t=K(e,e=>{let t=e5(e);return r(t)?[]:t.concat(a(e))});return 0===t.length?[ej.fromTag("br")]:t})();tl(e[0]),ta(e[0],l)},sV=e=>az(e,!0),s$=e=>{0===rS(e).length&&ti(e)},sj=(e,t)=>({grid:e,cursor:t}),sU=e=>er(e,e=>er(e.cells,e=>{let t=e.element;return t4(sV(t),t)})),sq=(e,t,r)=>{var o,n;let a=oE(e).rows;return N.from(null===(n=null===(o=a[t])||void 0===o?void 0:o.cells[r])||void 0===n?void 0:n.element).filter(sV).orThunk(()=>sU(a))},sW=(e,t,r)=>{let o=sq(e,t,r);return sj(e,o)},sK=e=>$(e,(e,t)=>B(e,e=>e.row===t.row)?e:e.concat([t]),[]).sort((e,t)=>e.row-t.row),sY=(e,t)=>(r,o,n,a,l)=>sW(si(r,P(sK(o),e=>e.row),e,t,n,a.replaceOrInit,l),o[0].row,o[0].column),sG=sY("thead",!0),sX=sY("tbody",!1),sJ=sY("tfoot",!1),sQ=(e,t,r)=>{let o=rM(e,r.section);return ib(oM.generate(o),t,!0)},s1=(e,t,r,o)=>sE(e,t,r,o.sizing),s0=(e,t,r,o)=>sx(e,t,r,o.sizing,o.resize),s2=(e,t)=>B(t,e=>0===e.column&&e.isLocked),s4=(e,t)=>B(t,t=>t.column+t.colspan>=e.grid.columns&&t.isLocked),s3=(e,t)=>{let r=oO(e);return $(sS(t),(e,t)=>e+r[t.column].map(ou).getOr(0),0)},s5=e=>(t,r)=>iT(t,r).filter(r=>!(e?s2:s4)(t,r)).map(e=>({details:e,pixelDelta:s3(t,e)})),s7=e=>(t,r)=>iS(t,r).filter(r=>!(e?s2:s4)(t,r.cells)),s6=sD("th"),s8=sD("td"),s9=iE((e,t,r,o)=>{let n=t[0].row;return sW(V(sK(t),(e,t)=>({grid:iQ(e.grid,n,t.row+e.delta,r,o.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid,n,t[0].column)},iT,v,v,sR),de=iE((e,t,r,o)=>{let n=sK(t),a=n[n.length-1],l=a.row+a.rowspan;return sW(V(n,(e,t)=>iQ(e,l,t.row,r,o.getOrInit),e),l,t[0].column)},iT,v,v,sR),dt=iE((e,t,r,o)=>{let n=t.details,a=sS(n),l=a[0].column;return sW(V(a,(e,t)=>({grid:i0(e.grid,l,t.column+e.delta,r,o.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid,n[0].row,l)},s5(!0),s0,v,sR),dr=iE((e,t,r,o)=>{let n=t.details,a=n[n.length-1],l=a.column+a.colspan;return sW(V(sS(n),(e,t)=>i0(e,l,t.column,r,o.getOrInit),e),n[0].row,l)},s5(!1),s0,v,sR),dn=iE((e,t,r,o)=>{let n=sS(t.details),a=i2(e,P(n,e=>e.column)),l=a.length>0?a[0].cells.length-1:0;return sW(a,n[0].row,Math.min(n[0].column,l))},(e,t)=>iA(e,t).map(t=>({details:t,pixelDelta:-s3(e,t)})),s0,s$,sR),da=iE((e,t,r,o)=>{let n=sK(t),a=i4(e,n[0].row,n[n.length-1].row),l=Math.max(oE(a).rows.length-1,0);return sW(a,Math.min(t[0].row,l),t[0].column)},iT,v,s$,sR),dl=iE((e,t,r,o)=>sW(sl(e,P(sS(t),e=>e.column),!0,r,o.replaceOrInit),t[0].row,t[0].column),iA,v,v,s6),di=iE((e,t,r,o)=>sW(sl(e,P(sS(t),e=>e.column),!1,r,o.replaceOrInit),t[0].row,t[0].column),iA,v,v,s8),ds=iE(sG,iA,v,v,s6),dd=iE(sX,iA,v,v,s8),dc=iE(sJ,iA,v,v,s8),dm=iE((e,t,r,o)=>sW(ss(e,t,r,o.replaceOrInit),t[0].row,t[0].column),iA,v,v,s6),du=iE((e,t,r,o)=>sW(ss(e,t,r,o.replaceOrInit),t[0].row,t[0].column),iA,v,v,s8),dh=iE((e,t,r,o)=>{let n=t.cells;return sF(n),sj(iD(e,t.bounds,r,o.merge(n)),N.from(n[0]))},(e,t)=>ik(e,t).filter(t=>iR(e,t.cells)),s1,v,sM),df=iE((e,t,r,o)=>sj(V(t,(e,t)=>iM(e,t,r,o.unmerge(t)),e),N.from(t[0])),(e,t)=>i_(e,t).filter(t=>iR(e,t)),s1,v,sM),dg=iE((e,t,r,o)=>{var n,a;let l=(n=t.clipboard,a=t.generators,ib(oM.fromTable(n),a,!0));return iY(tb(t.row,t.column),e,l,t.generators,r).fold(()=>sj(e,N.some(t.element)),e=>sW(e,t.row,t.column))},(e,t)=>rE(t.element).bind(r=>iC(e,r).map(e=>({...e,generators:t.generators,clipboard:t.clipboard}))),s1,v,sR),dp=iE((e,t,r,o)=>{let n=oE(e).rows,a=t.cells[0].column,l=n[t.cells[0].row];return sW(iG(a,e,sQ(t.clipboard,t.generators,l),t.generators,r),t.cells[0].row,t.cells[0].column)},s7(!0),v,v,sR),dv=iE((e,t,r,o)=>{let n=oE(e).rows,a=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,l=n[t.cells[0].row];return sW(iG(a,e,sQ(t.clipboard,t.generators,l),t.generators,r),t.cells[0].row,a)},s7(!1),v,v,sR),db=iE((e,t,r,o)=>{let n=oE(e).rows,a=t.cells[0].row,l=n[a];return sW(iX(a,e,sQ(t.clipboard,t.generators,l),t.generators,r),t.cells[0].row,t.cells[0].column)},iS,v,v,sR),dw=iE((e,t,r,o)=>{let n=oE(e).rows,a=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,l=n[t.cells[0].row];return sW(iX(a,e,sQ(t.clipboard,t.generators,l),t.generators,r),a,t.cells[0].column)},iS,v,v,sR),dy=(e,t)=>{let r=oM.fromTable(e);return iT(r,t).bind(e=>{let t=e[e.length-1],o=e[0].column,n=t.column+t.colspan;return l6(W(P(r.all,e=>F(e.cells,e=>e.column>=o&&e.column<n))))}).getOr("")},dC=(e,t)=>iT(oM.fromTable(e),t).bind(l6).getOr(""),dx=(e,t)=>{let r=oM.fromTable(e);return iT(r,t).bind(e=>{let t=e[e.length-1],o=e[0].row,n=t.row+t.rowspan;return l8(r.all.slice(o,n))}).getOr("")},dE=(e,t)=>e.dispatch("NewRow",{node:t}),dS=(e,t)=>e.dispatch("NewCell",{node:t}),dk=(e,t,r)=>{e.dispatch("TableModified",{...r,table:t})},d_=(e,t,r,o,n)=>{e.dispatch("TableSelectionChange",{cells:t,start:r,finish:o,otherCells:n})},dT=e=>{e.dispatch("TableSelectionClear")},dA=(e,t,r,o,n)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:o,origin:n})},dN=(e,t,r,o,n)=>{e.dispatch("ObjectResized",{target:t,width:r,height:o,origin:n})},dR={structure:!1,style:!0},dD={structure:!0,style:!1},dM={structure:!0,style:!0},dO=(e,t)=>aA(e)?nq.percentageSize(t):aN(e)?nq.pixelSize(t):nq.getTableSize(t),dL=(e,t,r)=>{let o=e=>"table"===ek(aI(e)),n=aC(e),a=a_(e)?v:lK,l=t=>{switch(aE(e)){case"section":return il.section();case"sectionCells":return il.sectionCells();case"cells":return il.cells();default:return il.getTableSectionType(t,"section")}},i=(t,o)=>o.cursor.fold(()=>ee(rS(t)).filter(tH).map(o=>{r.clearSelectedCells(t.dom);let n=e.dom.createRng();return n.selectNode(o.dom),e.selection.setRng(n),eH(o,"data-mce-selected","1"),n}),o=>{let n=lW(o),a=e.dom.createRng();return a.setStart(n.element.dom,n.offset),a.setEnd(n.element.dom,n.offset),e.selection.setRng(a),r.clearSelectedCells(t.dom),N.some(a)}),s=(r,o,a,s)=>(d,c,m=!1)=>{aV(d);let u=am(a,ej.fromDom(e.getDoc()),n),h={sizing:dO(e,d),resize:a_(e)?l1():l0(),section:l(d)};return o(d)?r(d,c,u,h).bind(r=>{t.refresh(d.dom),z(r.newRows,t=>{dE(e,t.dom)}),z(r.newCells,t=>{dS(e,t.dom)});let o=i(d,r);return tH(d)&&(aV(d),m||dk(e,d.dom,s)),o.map(e=>({rng:e,effect:s}))}):N.none()},d=s(da,t=>!o(e)||l2(t).rows>1,v,dD),c=s(dn,t=>!o(e)||l2(t).columns>1,v,dD),m=s(s9,A,v,dD),u=s(de,A,v,dD),h=s(dt,A,a,dD),f=s(dr,A,a,dD),g=s(dh,A,v,dD),p=s(df,A,v,dD),b=s(dp,A,v,dD),w=s(dv,A,v,dD),y=s(db,A,v,dD),C=s(dw,A,v,dD),x=s(dg,A,v,dM),E=s(dm,A,v,dD),S=s(du,A,v,dD),k=s(dl,A,v,dD),_=s(di,A,v,dD),T=s(ds,A,v,dD);return{deleteRow:d,deleteColumn:c,insertRowsBefore:m,insertRowsAfter:u,insertColumnsBefore:h,insertColumnsAfter:f,mergeCells:g,unmergeCells:p,pasteColsBefore:b,pasteColsAfter:w,pasteRowsBefore:y,pasteRowsAfter:C,pasteCells:x,makeCellsHeader:E,unmakeCellsHeader:S,makeColumnsHeader:k,unmakeColumnsHeader:_,makeRowsHeader:T,makeRowsBody:s(dd,A,v,dD),makeRowsFooter:s(dc,A,v,dD),getTableRowType:dx,getTableCellType:dC,getTableColType:dy}},dB=(e,t,r)=>{let o=rh(e,t,1);1===r||o<=1?eF(e,t):eH(e,t,Math.min(r,o))},dH=(e,t)=>r=>{let o=r.column+r.colspan-1,n=r.column;return o>=e&&n<t},dP=(e,t,r)=>{if(!oM.hasColumns(e))return[];{let o=P(F(oM.justColumns(e),dH(t,r)),e=>{let o=tm(e.element);return dB(o,"span",r-t),o}),n=ej.fromTag("colgroup");return ta(n,o),[n]}},dz=(e,t,r)=>P(e.all,e=>{let o=P(F(e.cells,dH(t,r)),e=>{let o=tm(e.element);return dB(o,"colspan",r-t),o}),n=ej.fromTag("tr");return ta(n,o),n}),dZ=(e,t)=>{let r=oM.fromTable(e);return iA(r,t).map(e=>{let t=e[e.length-1],o=e[0].column,n=t.column+t.colspan;return[...dP(r,o,n),...dz(r,o,n)]})},dI=(e,t,r)=>{let o=oM.fromTable(e);return iT(o,t).bind(e=>{let t=iy(K(oE(ib(o,r,!1)).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),e=>{let t=F(e.cells,e=>!e.isLocked);return t.length>0?[{...e,cells:t}]:[]}));return t4(t.length>0,t)}).map(e=>im(e))},dF=sd([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),dV=(e,t,r)=>{let o=r.substring(0,r.length-e.length),n=parseFloat(o);return o===n.toString()?t(n):dF.invalid(r)},d$={...dF,from:e=>t9(e,"%")?dV("%",dF.percent,e):t9(e,"px")?dV("px",dF.pixels,e):dF.invalid(e)},dj=(e,t)=>P(e,e=>d$.from(e).fold(()=>e,e=>e/t*100+"%",e=>e+"%")),dU=(e,t,r)=>{let o=r/t;return P(e,e=>d$.from(e).fold(()=>e,e=>e*o+"px",e=>e/100*r+"px"))},dq=(e,t)=>{let r=e.fold(()=>y(""),e=>y(e/t+"px"),()=>y(100/t+"%"));return H(t,r)},dW=(e,t,r)=>e.fold(()=>t,e=>dU(t,r,e),e=>dj(t,r)),dK=(e,t,r)=>{let o=d$.from(r);return dJ(Y(e,e=>"0px"===e)?dq(o,e.length):dW(o,e,t))},dY=(e,t)=>0===e.length?t:V(e,(e,t)=>d$.from(t).fold(y(0),C,C)+e,0),dG=(e,t)=>{let r=Math.floor(e);return{value:r+t,remainder:e-r}},dX=(e,t)=>d$.from(e).fold(y(e),e=>e+t+"px",e=>e+t+"%"),dJ=e=>{if(0===e.length)return e;let t=V(e,(e,t)=>{let r=d$.from(t).fold(()=>({value:t,remainder:0}),e=>dG(e,"px"),e=>({value:e+"%",remainder:0}));return{output:[r.value].concat(e.output),remainder:e.remainder+r.remainder}},{output:[],remainder:0}),r=t.output;return r.slice(0,r.length-1).concat([dX(r[r.length-1],Math.round(t.remainder))])},dQ=d$.from,d1=(e,t,r)=>{z(t,t=>{let o=dY(e.slice(t.column,t.colspan+t.column),rb());rl(t.element,"width",o+r)})},d0=(e,t,r)=>{z(t,(t,o)=>{let n=dY([e[o]],rb());rl(t.element,"width",n+r)})},d2=(e,t,r)=>{z(r,e=>{rm(e.element,"height")}),z(t,(t,r)=>{rl(t.element,"height",e[r])})},d4=e=>dQ(e).fold(y("px"),y("px"),y("%")),d3=(e,t,r)=>{let o=oM.fromTable(e),n=o.all,a=oM.justCells(o),l=oM.justColumns(o);t.each(t=>{let r=d4(t),n=om(e),i=dK(nB(o,e),n,t);oM.hasColumns(o)?d0(i,l,r):d1(i,a,r),rl(e,"width",t)}),r.each(t=>{let r=oI(e);d2(dK(nI(o,e),r,t),n,a),rl(e,"height",t)})},d5=e=>np(e).exists(e=>nt.test(e)),d7=e=>np(e).exists(e=>nr.test(e)),d6=e=>np(e).isNone(),d8=e=>{eF(e,"width"),eF(e,"height")},d9=e=>{let t=nk(e);d3(e,N.some(t),N.none()),d8(e)},ce=e=>{let t=nE(e);d3(e,N.some(t),N.none()),d8(e)},ct=e=>{let t=nS(e);d3(e,N.none(),N.some(t)),d8(e)},cr=e=>{rm(e,"width");let t=rk(e);z(t.length>0?t:rS(e),e=>{rm(e,"width"),d8(e)}),d8(e)},co={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},cn=()=>ej.fromTag("th"),ca=()=>ej.fromTag("td"),cl=()=>ej.fromTag("col"),ci=(e,t,r,o)=>{let n=ej.fromTag("tr");for(let a=0;a<e;a++){let e=o<t||a<r?cn():ca();a<r&&eH(e,"scope","row"),o<t&&eH(e,"scope","col"),tt(e,ej.fromTag("br")),tt(n,e)}return n},cs=e=>{let t=ej.fromTag("colgroup");return H(e,()=>tt(t,cl())),t},cd=(e,t,r,o)=>H(e,e=>ci(t,r,o,e)),cc=(e,t,r,o,n,a=co)=>{let l=ej.fromTag("table"),i="cells"!==n;ri(l,a.styles),eP(l,a.attributes),a.colGroups&&tt(l,cs(t));let s=Math.min(e,r);if(i&&r>0){let e=ej.fromTag("thead");tt(l,e),ta(e,cd(r,t,"sectionCells"===n?s:0,o))}let d=ej.fromTag("tbody");tt(l,d);let c=i?0:r;return ta(d,cd(i?e-s:e,t,c,o)),l},cm=e=>e.dom.innerHTML,cu=e=>{let t=ej.fromTag("div");return tt(t,ej.fromDom(e.dom.cloneNode(!0))),cm(t)},ch=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},cf=(e,t)=>{tJ(t,"td,th").each(E(ch,e))},cg=(e,t)=>{z(tj(t,"tr"),t=>{dE(e,t.dom),z(tj(t,"th,td"),t=>{dS(e,t.dom)})})},cp=e=>i(e)&&-1!==e.indexOf("%"),cv=(e,t,r,o,n)=>{let a=aB(e),l={styles:a,attributes:aL(e),colGroups:aH(e)};return e.undoManager.ignore(()=>{let a=cc(r,t,n,o,aE(e),l);eH(a,"data-mce-id","__mce");let i=cu(a);e.insertContent(i),e.addVisual()}),tJ(aI(e),'table[data-mce-id="__mce"]').map(t=>(aN(e)?ce(t):aR(e)?cr(t):(aA(e)||cp(a.width))&&d9(t),aV(t),eF(t,"data-mce-id"),cg(e,t),cf(e,t),t.dom)).getOrNull()},cb=(e,t,r,o={})=>{let n=e=>p(e)&&e>0;if(!(n(t)&&n(r)))return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null;{let n=o.headerRows||0;return cv(e,r,t,o.headerColumns||0,n)}};var cw=tinymce.util.Tools.resolve("tinymce.FakeClipboard");let cy="x-tinymce/dom-table-",cC=cy+"rows",cx=cy+"columns",cE=e=>{let t=cw.FakeClipboardItem(e);cw.write([t])},cS=e=>{var t;return er(null!==(t=cw.read())&&void 0!==t?t:[],t=>N.from(t.getType(e)))},ck=e=>{cS(e).isSome()&&cw.clear()},c_=e=>{e.fold(cA,e=>cE({[cC]:e}))},cT=()=>cS(cC),cA=()=>ck(cC),cN=e=>{e.fold(cD,e=>cE({[cx]:e}))},cR=()=>cS(cx),cD=()=>ck(cx),cM=e=>lL(a$(e),aF(e)).filter(aX),cO=e=>lB(a$(e),aF(e)).filter(aX),cL=(e,t)=>{let r=aF(e),o=t=>cM(e).each(o=>{aR(e)||aN(e)||aA(e)||r_(o,r).each(r=>{"relative"!==t||d5(r)?"fixed"!==t||d7(r)?"responsive"!==t||d6(r)||cr(r):ce(r):d9(r),aV(r),dk(e,r.dom,dD)})}),n=e=>r_(e,r),a=t=>cO(e).bind(e=>n(e).map(r=>t(r,e))),l=t=>{e.focus()},d=(t,r=!1)=>a((o,n)=>{let a=lN(lH(e),o,n);t(o,a,r).each(l)}),c=()=>a((t,r)=>{let o=lN(lH(e),t,r);return dI(t,o,am(v,ej.fromDom(e.getDoc()),N.none()))}),m=()=>a((t,r)=>{let o=lN(lH(e),t,r);return dZ(t,o)}),u=(t,r)=>r().each(r=>{let o=P(r,e=>tm(e));a((r,n)=>{let a=au(ej.fromDom(e.getDoc()));t(r,lD(lH(e),n,o,a)).each(l)})}),h=e=>(t,r)=>eh(r,"type").each(t=>{d(e(t),r.no_events)});ea({mceTableSplitCells:()=>d(t.unmergeCells),mceTableMergeCells:()=>d(t.mergeCells),mceTableInsertRowBefore:()=>d(t.insertRowsBefore),mceTableInsertRowAfter:()=>d(t.insertRowsAfter),mceTableInsertColBefore:()=>d(t.insertColumnsBefore),mceTableInsertColAfter:()=>d(t.insertColumnsAfter),mceTableDeleteCol:()=>d(t.deleteColumn),mceTableDeleteRow:()=>d(t.deleteRow),mceTableCutCol:()=>m().each(e=>{cN(e),d(t.deleteColumn)}),mceTableCutRow:()=>c().each(e=>{c_(e),d(t.deleteRow)}),mceTableCopyCol:()=>m().each(e=>cN(e)),mceTableCopyRow:()=>c().each(e=>c_(e)),mceTablePasteColBefore:()=>u(t.pasteColsBefore,cR),mceTablePasteColAfter:()=>u(t.pasteColsAfter,cR),mceTablePasteRowBefore:()=>u(t.pasteRowsBefore,cT),mceTablePasteRowAfter:()=>u(t.pasteRowsAfter,cT),mceTableDelete:()=>cM(e).each(t=>{r_(t,r).filter(S(r)).each(t=>{let r=ej.fromText("");if(e9(t,r),ti(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{let t=e.dom.createRng();t.setStart(r.dom,0),t.setEnd(r.dom,0),e.selection.setRng(t),e.nodeChanged()}})}),mceTableCellToggleClass:(t,r)=>{a(t=>{let o=lH(e),n=Y(o,t=>e.formatter.match("tablecellclass",{value:r},t.dom))?e.formatter.remove:e.formatter.apply;z(o,e=>n("tablecellclass",{value:r},e.dom)),dk(e,t.dom,dR)})},mceTableToggleClass:(t,r)=>{a(t=>{e.formatter.toggle("tableclass",{value:r},t.dom),dk(e,t.dom,dR)})},mceTableToggleCaption:()=>{cM(e).each(t=>{r_(t,r).each(r=>{tX(r,"caption").fold(()=>{let t=ej.fromTag("caption");tt(t,ej.fromText("Caption")),tr(r,t,0),e.selection.setCursorLocation(t.dom,0)},o=>{eL("caption")(t)&&eK("td",r).each(t=>e.selection.setCursorLocation(t.dom,0)),ti(o)}),dk(e,r.dom,dD)})})},mceTableSizingMode:(e,t)=>o(t),mceTableCellType:h(e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader),mceTableColType:h(e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader),mceTableRowType:h(e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}})},(t,r)=>e.addCommand(r,t)),e.addCommand("mceInsertTable",(t,r)=>{cb(e,r.rows,r.columns,r.options)}),e.addCommand("mceTableApplyCellStyle",(t,r)=>{let o=e=>"tablecell"+e.toLowerCase().replace("-","");if(!s(r))return;let a=F(lH(e),aX);if(0===a.length)return;let l=ec(r,(t,r)=>e.formatter.has(o(r))&&i(t));ep(l)||(ea(l,(t,r)=>{let n=o(r);z(a,r=>{""===t?e.formatter.remove(n,{value:null},r.dom,!0):e.formatter.apply(n,{value:t},r.dom)})}),n(a[0]).each(t=>dk(e,t.dom,dR)))})},cB=(e,t)=>{let r=aF(e),o=t=>lB(a$(e)).bind(o=>r_(o,r).map(r=>{let n=lN(lH(e),r,o);return t(r,n)})).getOr("");ea({mceTableRowType:()=>o(t.getTableRowType),mceTableCellType:()=>o(t.getTableCellType),mceTableColType:()=>o(t.getTableColType)},(t,r)=>e.addQueryValueHandler(r,t))},cH=sd([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cP={before:cH.before,on:cH.on,after:cH.after,getStart:e=>e.fold(C,C,C)},cz={create:(e,t)=>({selection:e,kill:t})},cZ=(e,t)=>{let r=e.document.createRange();return r.selectNode(t.dom),r},cI=(e,t)=>{let r=e.document.createRange();return cF(r,t),r},cF=(e,t)=>e.selectNodeContents(t.dom),cV=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,r)=>{e.setStart(t.dom,r)},t=>{e.setStartAfter(t.dom)})},c$=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,r)=>{e.setEnd(t.dom,r)},t=>{e.setEndAfter(t.dom)})},cj=(e,t,r)=>{let o=e.document.createRange();return cV(o,t),c$(o,r),o},cU=(e,t,r,o,n)=>{let a=e.document.createRange();return a.setStart(t.dom,r),a.setEnd(o.dom,n),a},cq=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),cW=e=>{let t=e.getClientRects(),r=t.length>0?t[0]:e.getBoundingClientRect();return r.width>0||r.height>0?N.some(r).map(cq):N.none()},cK=sd([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),cY=(e,t,r)=>t(ej.fromDom(r.startContainer),r.startOffset,ej.fromDom(r.endContainer),r.endOffset),cG=(e,t)=>t.match({domRange:e=>({ltr:y(e),rtl:N.none}),relative:(t,r)=>({ltr:rO(()=>cj(e,t,r)),rtl:rO(()=>N.some(cj(e,r,t)))}),exact:(t,r,o,n)=>({ltr:rO(()=>cU(e,t,r,o,n)),rtl:rO(()=>N.some(cU(e,o,n,t,r)))})}),cX=(e,t)=>{let r=t.ltr();return r.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>cK.rtl(ej.fromDom(e.endContainer),e.endOffset,ej.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>cY(e,cK.ltr,r)):cY(e,cK.ltr,r)},cJ=(e,t)=>{let r=cG(e,t);return cX(e,r)},cQ=(e,t)=>cJ(e,t).match({ltr:(t,r,o,n)=>{let a=e.document.createRange();return a.setStart(t.dom,r),a.setEnd(o.dom,n),a},rtl:(t,r,o,n)=>{let a=e.document.createRange();return a.setStart(o.dom,n),a.setEnd(t.dom,r),a}});cK.ltr,cK.rtl;let c1={create:(e,t,r,o)=>({start:e,soffset:t,finish:r,foffset:o})},c0=(e,t,r,o)=>({start:cP.on(e,t),finish:cP.on(r,o)}),c2=(e,t)=>{let r=cQ(e,t);return c1.create(ej.fromDom(r.startContainer),r.startOffset,ej.fromDom(r.endContainer),r.endOffset)},c4=(e,t,r,o,n,a,l)=>eY(r,n)&&o===a?N.none():tQ(r,"td,th",t).bind(r=>tQ(n,"td,th",t).bind(o=>c3(e,t,r,o,l))),c3=(e,t,r,o,n)=>eY(r,o)?N.none():lf(r,o,t).bind(t=>{let o=t.boxes.getOr([]);return o.length>1?(n(e,o,t.start,t.finish),N.some(cz.create(N.some(c0(r,0,r,n3(r))),!0))):N.none()}),c5=(e,t,r,o,n)=>lw(o,e,t,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>(n.clearBeforeUpdate(r),n.selectRange(r,e.boxes,e.start,e.finish),e.boxes)),c7=(e,t)=>({item:e,mode:t}),c6=(e,t,r,o=c8)=>e.property().parent(t).map(e=>c7(e,o)),c8=(e,t,r,o=c9)=>r.sibling(e,t).map(e=>c7(e,o)),c9=(e,t,r,o=c9)=>{let n=e.property().children(t);return r.first(n).map(e=>c7(e,o))},me=[{current:c6,next:c8,fallback:N.none()},{current:c8,next:c9,fallback:N.some(c6)},{current:c9,next:c9,fallback:N.some(c8)}],mt=(e,t,r,o,n=me)=>U(n,e=>e.current===r).bind(r=>r.current(e,t,o,r.next).orThunk(()=>r.fallback.bind(r=>mt(e,t,r,o)))),mr=()=>({sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?N.some(e[e.length-1]):N.none()}),mo=()=>({sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?N.some(e[0]):N.none()}),mn=(e,t,r,o,n,a)=>mt(e,t,o,n).bind(t=>a(t.item)?N.none():r(t.item)?N.some(t.item):mn(e,t.item,r,t.mode,n,a)),ma=e=>t=>0===e.property().children(t).length,ml=(e,t,r)=>ms(e,t,ma(e),r),mi=(e,t,r)=>md(e,t,ma(e),r),ms=(e,t,r,o)=>mn(e,t,r,c8,mr(),o),md=(e,t,r,o)=>mn(e,t,r,c8,mo(),o),mc=lo(),mm=(e,t)=>ml(mc,e,t),mu=(e,t)=>mi(mc,e,t),mh=(e,t,r)=>ms(mc,e,t,r),mf=(e,t,r)=>md(mc,e,t,r),mg=(e,t,r)=>tq(e,t,r).isSome(),mp=sd([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),mv=(e,t,r)=>{let o=e.getRect(t),n=e.getRect(r);return n.right>o.left&&n.left<o.right},mb=e=>tQ(e,"tr"),mw={...mp,verify:(e,t,r,o,n,a,l)=>tQ(o,"td,th",l).bind(r=>tQ(t,"td,th",l).map(t=>eY(r,t)?eY(o,r)&&n3(r)===n?a(t):mp.none("in same cell"):lm(mb,[r,t]).fold(()=>mv(e,t,r)?mp.success():a(t),e=>a(t)))).getOr(mp.none("default")),cata:(e,t,r,o,n)=>e.fold(t,r,o,n)},my=(e,t,r,o)=>({parent:e,children:t,element:r,index:o}),mC=e=>e1(e).bind(t=>{let r=e5(t);return mx(r,e).map(o=>my(t,r,e,o))}),mx=(e,t)=>q(e,E(eY,t)),mE=eL("br"),mS=(e,t,r)=>t(e,r).bind(e=>eD(e)&&0===n0(e).trim().length?mS(e,t,r):N.some(e)),mk=(e,t,r)=>r.traverse(t).orThunk(()=>mS(t,r.gather,e)).map(r.relative),m_=(e,t)=>e7(e,t).filter(mE).orThunk(()=>e7(e,t-1).filter(mE)),mT=(e,t,r,o)=>m_(t,r).bind(t=>o.traverse(t).fold(()=>mS(t,o.gather,e).map(o.relative),e=>mC(e).map(e=>cP.on(e.parent,e.index)))),mA=(e,t,r,o)=>(mE(t)?mk(e,t,o):mT(e,t,r,o)).map(e=>({start:e,finish:e})),mN=e=>mw.cata(e,e=>N.none(),()=>N.none(),e=>N.some(lV(e,0)),e=>N.some(lV(e,n3(e)))),mR=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),mD=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),mM=(e,t,r)=>({left:e.left+t,top:e.top+r,right:e.right+t,bottom:e.bottom+r}),mO=(e,t,r)=>r>=0&&r<n3(t)?e.getRangedRect(t,r,t,r+1):r>0?e.getRangedRect(t,r-1,t,r):N.none(),mL=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),mB=(e,t)=>N.some(e.getRect(t)),mH=(e,t,r)=>eR(t)?mB(e,t).map(mL):eD(t)?mO(e,t,r).map(mL):N.none(),mP=(e,t)=>eR(t)?mB(e,t).map(mL):eD(t)?e.getRangedRect(t,0,t,n3(t)).map(mL):N.none(),mz=sd([{none:[]},{retry:["caret"]}]),mZ=(e,t)=>e.left<t.left||1>Math.abs(t.right-e.left)||e.left>t.right,mI=(e,t,r)=>tW(t,sz).fold(T,t=>mP(e,t).exists(e=>mZ(r,e))),mF=(e,t,r)=>e.elementFromPoint(t,r).filter(e=>"table"===ek(e)).isSome(),mV=(e,t,r,o,n)=>m$(e,t,r,t.move(o,5),n),m$=(e,t,r,o,n)=>0===n?N.some(o):mF(e,o.left,t.point(o))?mV(e,t,r,o,n-1):e.situsFromPoint(o.left,t.point(o)).bind(a=>a.start.fold(N.none,a=>mP(e,a).bind(l=>t.adjuster(e,a,l,r,o).fold(N.none,o=>m$(e,t,r,o,n-1))).orThunk(()=>N.some(o)),N.none)),mj=(e,t,r)=>e.point(t)>r.getInnerHeight()?N.some(e.point(t)-r.getInnerHeight()):0>e.point(t)?N.some(-e.point(t)):N.none(),mU=(e,t,r)=>{let o=e.move(r,5),n=m$(t,e,r,o,100).getOr(o);return mj(e,n,t).fold(()=>t.situsFromPoint(n.left,e.point(n)),r=>(t.scrollBy(0,r),t.situsFromPoint(n.left,e.point(n)-r)))},mq={tryUp:E(mU,{point:e=>e.top,adjuster:(e,t,r,o,n)=>{let a=mD(n,5);return 1>Math.abs(r.top-o.top)||r.bottom<n.top?mz.retry(a):r.bottom===n.top?mz.retry(mD(n,1)):mI(e,t,n)?mz.retry(mM(a,5,0)):mz.none()},move:mD,gather:mm}),tryDown:E(mU,{point:e=>e.bottom,adjuster:(e,t,r,o,n)=>{let a=mR(n,5);return 1>Math.abs(r.bottom-o.bottom)||r.top>n.bottom?mz.retry(a):r.top===n.bottom?mz.retry(mR(n,1)):mI(e,t,n)?mz.retry(mM(a,5,0)):mz.none()},move:mR,gather:mu}),getJumpSize:y(5)},mW=(e,t,r)=>e.getSelection().bind(o=>mA(t,o.finish,o.foffset,r).fold(()=>N.some(lV(o.finish,o.foffset)),n=>{let a=e.fromSitus(n);return mN(mw.verify(e,o.finish,o.foffset,a.finish,a.foffset,r.failure,t))})),mK=(e,t,r,o,n,a)=>0===a?N.none():mX(e,t,r,o,n).bind(l=>{let i=e.fromSitus(l),s=mw.verify(e,r,o,i.finish,i.foffset,n.failure,t);return mw.cata(s,()=>N.none(),()=>N.some(l),l=>eY(r,l)&&0===o?mY(e,r,o,mD,n):mK(e,t,l,0,n,a-1),l=>eY(r,l)&&o===n3(l)?mY(e,r,o,mR,n):mK(e,t,l,n3(l),n,a-1))}),mY=(e,t,r,o,n)=>mH(e,t,r).bind(t=>mG(e,n,o(t,mq.getJumpSize()))),mG=(e,t,r)=>{let o=on().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,r):N.none()},mX=(e,t,r,o,n)=>mH(e,r,o).bind(t=>mG(e,n,t)),mJ=(e,t,r)=>mW(e,t,r).bind(o=>mK(e,t,o.element,o.offset,r,20).map(e.fromSitus)),mQ=(e,t)=>mg(e,e=>e1(e).exists(e=>eY(e,t))),m1=(e,t,r,o,n)=>tQ(o,"td,th",t).bind(o=>tQ(o,"table",t).bind(a=>mQ(n,a)?mJ(e,t,r).bind(e=>tQ(e.finish,"td,th",t).map(t=>({start:o,finish:t,range:e}))):N.none())),m0=(e,t,r,o,n,a)=>a(o,t).orThunk(()=>m1(e,t,r,o,n).map(e=>{let t=e.range;return cz.create(N.some(c0(t.start,t.soffset,t.finish,t.foffset)),!0)})),m2=(e,t)=>tQ(e,"tr",t).bind(e=>tQ(e,"table",t).bind(r=>eY(e,tj(r,"tr")[0])?mh(r,e=>ae(e).isSome(),t).map(e=>{let t=n3(e);return cz.create(N.some(c0(e,t,e,t)),!0)}):N.none())),m4=(e,t)=>tQ(e,"tr",t).bind(e=>tQ(e,"table",t).bind(r=>{let o=tj(r,"tr");return eY(e,o[o.length-1])?mf(r,e=>n9(e).isSome(),t).map(e=>cz.create(N.some(c0(e,0,e,0)),!0)):N.none()})),m3=(e,t,r,o,n,a,l)=>m1(e,r,o,n,a).bind(e=>c3(t,r,e.start,e.finish,l)),m5=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},m7=e=>{let t=m5(N.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(N.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(N.some(e))}}},m6=()=>{let e=m7(v);return{...e,on:t=>e.get().each(t)}},m8=(e,t)=>tQ(e,"td,th",t),m9=e=>e0(e).exists(az),ue=(e,t,r,o)=>{let n=m6(),a=n.clear,l=a=>{n.on(n=>{o.clearBeforeUpdate(t),m8(a.target,r).each(l=>{lf(n,l,r).each(r=>{let n=r.boxes.getOr([]);if(1===n.length){let e=n[0],r="false"===aZ(e),l=t1(aP(a.target),e,eY);r&&l&&o.selectRange(t,n,e,e)}else n.length>1&&(o.selectRange(t,n,r.start,r.finish),e.selectContents(l))})})})};return{clearstate:a,mousedown:e=>{o.clear(t),m8(e.target,r).filter(m9).each(n.set)},mouseover:e=>{l(e)},mouseup:e=>{l(e),a()}}},ut={traverse:e3,gather:mu,relative:cP.before,retry:mq.tryDown,failure:mw.failedDown},ur={traverse:e4,gather:mm,relative:cP.before,retry:mq.tryUp,failure:mw.failedUp},uo=e=>t=>t===e,un=uo(38),ua=uo(40),ul=e=>e>=37&&e<=40,ui={isBackward:uo(37),isForward:uo(39)},us={isBackward:uo(39),isForward:uo(37)},ud=e=>{let t=void 0!==e?e.dom:document;return o$(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},uc=(e,t,r)=>{let o=(void 0!==r?r.dom:document).defaultView;o&&o.scrollBy(e,t)},um=sd([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uu=(um.domRange,um.relative),uh=um.exact,uf=(c1.create,{relative:uu,exact:uh}),ug=(e,t,r)=>{var o;return N.from(null===(o=e.caretPositionFromPoint)||void 0===o?void 0:o.call(e,t,r)).bind(t=>{if(null===t.offsetNode)return N.none();let r=e.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),N.some(r)})},up=(e,t,r)=>{var o;return N.from(null===(o=e.caretRangeFromPoint)||void 0===o?void 0:o.call(e,t,r))},uv=(e,t,r)=>e.caretPositionFromPoint?ug(e,t,r):e.caretRangeFromPoint?up(e,t,r):N.none(),ub=(e,t,r)=>uv(e.document,t,r).map(e=>c1.create(ej.fromDom(e.startContainer),e.startOffset,ej.fromDom(e.endContainer),e.endOffset)),uw=(e,t)=>{let r=ek(e);return"input"===r?cP.after(e):L(["br","img"],r)?0===t?cP.before(e):cP.after(e):cP.on(e,t)},uy=(e,t)=>{let r=e.fold(cP.before,uw,cP.after),o=t.fold(cP.before,uw,cP.after);return uf.relative(r,o)},uC=(e,t,r,o)=>{let n=uw(e,t),a=uw(r,o);return uf.relative(n,a)},ux=(e,t,r,o)=>{let n=eX(e).dom.createRange();return n.setStart(e.dom,t),n.setEnd(r.dom,o),n},uE=(e,t,r,o)=>{let n=ux(e,t,r,o),a=eY(e,r)&&t===o;return n.collapsed&&!a},uS=e=>N.from(e.getSelection()),uk=(e,t)=>{uS(e).each(e=>{e.removeAllRanges(),e.addRange(t)})},u_=(e,t,r,o,n)=>{let a=cU(e,t,r,o,n);uk(e,a)},uT=(e,t,r,o,n,a)=>{t.collapse(r.dom,o),t.extend(n.dom,a)},uA=(e,t)=>cJ(e,t).match({ltr:(t,r,o,n)=>{u_(e,t,r,o,n)},rtl:(t,r,o,n)=>{uS(e).each(a=>{if(a.setBaseAndExtent)a.setBaseAndExtent(t.dom,r,o.dom,n);else if(a.extend)try{uT(e,a,t,r,o,n)}catch(a){u_(e,o,n,t,r)}else u_(e,o,n,t,r)})}}),uN=(e,t,r,o,n)=>{uA(e,uC(t,r,o,n))},uR=(e,t,r)=>{uA(e,uy(t,r))},uD=e=>{if(!(e.rangeCount>0))return N.none();{let t=e.getRangeAt(0),r=e.getRangeAt(e.rangeCount-1);return N.some(c1.create(ej.fromDom(t.startContainer),t.startOffset,ej.fromDom(r.endContainer),r.endOffset))}},uM=e=>{if(null===e.anchorNode||null===e.focusNode)return uD(e);{let t=ej.fromDom(e.anchorNode),r=ej.fromDom(e.focusNode);return uE(t,e.anchorOffset,r,e.focusOffset)?N.some(c1.create(t,e.anchorOffset,r,e.focusOffset)):uD(e)}},uO=(e,t,r=!0)=>{let o=(r?cI:cZ)(e,t);uk(e,o)},uL=e=>uS(e).filter(e=>e.rangeCount>0).bind(uM),uB=e=>uL(e).map(e=>uf.exact(e.start,e.soffset,e.finish,e.foffset)),uH=(e,t)=>cW(cQ(e,t)),uP=(e,t,r)=>ub(e,t,r),uz=e=>{uS(e).each(e=>e.removeAllRanges())},uZ=e=>({elementFromPoint:(t,r)=>ej.fromPoint(ej.fromDom(e.document),t,r),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,r,o,n)=>uH(e,uf.exact(t,r,o,n)),getSelection:()=>uB(e).map(t=>c2(e,t)),fromSitus:t=>c2(e,uf.relative(t.start,t.finish)),situsFromPoint:(t,r)=>uP(e,t,r).map(e=>c0(e.start,e.soffset,e.finish,e.foffset)),clearSelection:()=>{uz(e)},collapseSelection:(t=!1)=>{uB(e).each(r=>r.fold(e=>e.collapse(t),(r,o)=>{let n=t?r:o;uR(e,n,n)},(r,o,n,a)=>{let l=t?r:n,i=t?o:a;uN(e,l,i,l,i)}))},setSelection:t=>{uN(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,r)=>{uR(e,t,r)},selectNode:t=>{uO(e,t,!1)},selectContents:t=>{uO(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>ud(ej.fromDom(e.document)).top,scrollBy:(t,r)=>{uc(t,r,ej.fromDom(e.document))}}),uI=(e,t)=>({rows:e,cols:t}),uF=(e,t,r,o)=>{let n=ue(uZ(e),t,r,o);return{clearstate:n.clearstate,mousedown:n.mousedown,mouseover:n.mouseover,mouseup:n.mouseup}},uV=e=>tW(e,eN).exists(az),u$=(e,t)=>uV(e)||uV(t),uj=(e,t,r,o)=>{let n=uZ(e),a=()=>(o.clear(t),N.none());return{keydown:(e,l,i,s,d,c)=>{let m=e.raw,u=m.which,h=!0===m.shiftKey;return lg(t,o.selectedSelector).fold(()=>(ul(u)&&!h&&o.clearBeforeUpdate(t),ul(u)&&h&&!u$(l,s))?N.none:ua(u)&&h?E(m3,n,t,r,ut,s,l,o.selectRange):un(u)&&h?E(m3,n,t,r,ur,s,l,o.selectRange):ua(u)?E(m0,n,r,ut,s,l,m4):un(u)?E(m0,n,r,ur,s,l,m2):N.none,e=>{let r=r=>()=>er(r,r=>c5(r.rows,r.cols,t,e,o)).fold(()=>lv(t,o.firstSelectedSelector,o.lastSelectedSelector).map(e=>{let r=ua(u)||c.isForward(u)?cP.after:cP.before;return n.setRelativeSelection(cP.on(e.first,0),r(e.table)),o.clear(t),cz.create(N.none(),!0)}),e=>N.some(cz.create(N.none(),!0)));return ul(u)&&h&&!u$(l,s)?N.none:ua(u)&&h?r([uI(1,0)]):un(u)&&h?r([uI(-1,0)]):c.isBackward(u)&&h?r([uI(0,-1),uI(-1,0)]):c.isForward(u)&&h?r([uI(0,1),uI(1,0)]):ul(u)&&!h?a:N.none})()},keyup:(e,n,a,l,i)=>lg(t,o.selectedSelector).fold(()=>{let s=e.raw,d=s.which;return!0!==s.shiftKey?N.none():ul(d)&&u$(n,l)?c4(t,r,n,a,l,i,o.selectRange):N.none()},N.none)}},uU=(e,t,r,o)=>{let n=uZ(e);return(e,a)=>{o.clearBeforeUpdate(t),lf(e,a,r).each(e=>{let r=e.boxes.getOr([]);o.selectRange(t,r,e.start,e.finish),n.selectContents(a),n.collapseSelection()})}},uq=(e,t)=>{let r=eZ(e,t);return void 0===r||""===r?[]:r.split(" ")},uW=(e,t,r)=>{let o=uq(e,t).concat([r]);return eH(e,t,o.join(" ")),!0},uK=(e,t,r)=>{let o=F(uq(e,t),e=>e!==r);return o.length>0?eH(e,t,o.join(" ")):eF(e,t),!1},uY=e=>void 0!==e.dom.classList,uG=e=>uq(e,"class"),uX=(e,t)=>uW(e,"class",t),uJ=(e,t)=>uK(e,"class",t),uQ=(e,t)=>{uY(e)?e.dom.classList.add(t):uX(e,t)},u1=e=>{0===(uY(e)?e.dom.classList:uG(e)).length&&eF(e,"class")},u0=(e,t)=>{uY(e)?e.dom.classList.remove(t):uJ(e,t),u1(e)},u2=(e,t)=>uY(e)&&e.dom.classList.contains(t),u4=(e,t,r)=>{let o=t=>{eF(t,e.selected),eF(t,e.firstSelected),eF(t,e.lastSelected)},n=t=>{eH(t,e.selected,"1")},a=e=>{l(e),r()},l=t=>{z(tj(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`),o)};return{clearBeforeUpdate:l,clear:a,selectRange:(r,o,l,i)=>{a(r),z(o,n),eH(l,e.firstSelected,"1"),eH(i,e.lastSelected,"1"),t(o,l,i)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},u3=(e,t,r,o)=>{switch(e.tag){case"none":return t();case"single":return o(e.element);case"multiple":return r(e.elements)}},u5=()=>({tag:"none"}),u7=e=>({tag:"multiple",elements:e}),u6=e=>({tag:"single",element:e}),u8=(e,t,r)=>({get:()=>ly(e(),r).fold(()=>t().fold(u5,u6),u7)}),u9=(e,t)=>K(iy(e.slice(0,t[t.length-1].row+1)),e=>P(e.cells.slice(0,t[t.length-1].column+1),e=>e.element)),he=(e,t)=>K(iy(e.slice(t[0].row+t[0].rowspan-1,e.length)),e=>P(e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length),e=>e.element)),ht=(e,t,r)=>{let o=oM.fromTable(e);return iT(o,t).map(e=>{let{rows:t}=oE(ib(o,r,!1));return{upOrLeftCells:u9(t,e),downOrRightCells:he(t,e)}})},hr=(e,t,r,o,n,a,l)=>({target:e,x:t,y:r,stop:o,prevent:n,kill:a,raw:l}),ho=e=>{let t=ej.fromDom(tL(e).getOr(e.target)),r=()=>e.stopPropagation(),o=()=>e.preventDefault(),n=b(o,r);return hr(t,e.clientX,e.clientY,r,o,n,e)},hn=(e,t)=>r=>{e(r)&&t(ho(r))},ha=(e,t,r,o,n)=>{let a=hn(r,o);return e.dom.addEventListener(t,a,n),{unbind:E(hi,e,t,a,n)}},hl=(e,t,r,o)=>ha(e,t,r,o,!1),hi=(e,t,r,o)=>{e.dom.removeEventListener(t,r,o)},hs=(e,t,r)=>hl(e,t,A,r),hd=e=>!u2(ej.fromDom(e.target),"ephox-snooker-resizer-bar"),hc=(e,t)=>{let r=u8(()=>ej.fromDom(e.getBody()),()=>lB(a$(e),aF(e)),lA.selectedSelector),o=u4(lA,(t,r,o)=>{r_(r).each(n=>{let a=P(t,e=>e.dom),l=aC(e),i=am(v,ej.fromDom(e.getDoc()),l),s=ht(n,{selection:lH(e)},i).map(e=>el(e,e=>P(e,e=>e.dom))).getOrUndefined();d_(e,a,r.dom,o.dom,s)})},()=>dT(e));return e.on("init",r=>{let n=e.getWin(),a=aI(e),l=aF(e),i=uF(n,a,l,o),s=uj(n,a,l,o),d=uU(n,a,l,o),c=e=>!0===e.raw.shiftKey;e.on("TableSelectorChange",e=>d(e.start,e.finish));let m=(t,r)=>{c(t)&&(r.kill&&t.kill(),r.selection.each(t=>{let r=cQ(n,uf.relative(t.start,t.finish));e.selection.setRng(r)}))},u=e=>0===e.button,h=e=>void 0===e.buttons||(1&e.buttons)!=0,f=(()=>{let e=m5(ej.fromDom(a)),t=m5(0);return{touchEnd:r=>{let o=ej.fromDom(r.target);if(eL("td")(o)||eL("th")(o)){let n=e.get(),a=t.get();eY(n,o)&&r.timeStamp-a<300&&(r.preventDefault(),d(o,o))}e.set(o),t.set(r.timeStamp)}}})();e.on("dragstart",e=>{i.clearstate()}),e.on("mousedown",e=>{u(e)&&hd(e)&&i.mousedown(ho(e))}),e.on("mouseover",e=>{h(e)&&hd(e)&&i.mouseover(ho(e))}),e.on("mouseup",e=>{u(e)&&hd(e)&&i.mouseup(ho(e))}),e.on("touchend",f.touchEnd),e.on("keyup",t=>{let r=ho(t);if(r.raw.shiftKey&&ul(r.raw.which)){let t=e.selection.getRng(),o=ej.fromDom(t.startContainer),n=ej.fromDom(t.endContainer);s.keyup(r,o,t.startOffset,n,t.endOffset).each(e=>{m(r,e)})}}),e.on("keydown",r=>{let o=ho(r);t.hide();let n=e.selection.getRng(),a=ej.fromDom(n.startContainer),l=ej.fromDom(n.endContainer),i=oP(ui,us)(ej.fromDom(e.selection.getStart()));s.keydown(o,a,n.startOffset,l,n.endOffset,i).each(e=>{m(o,e)}),t.show()}),e.on("NodeChange",()=>{let t=e.selection;lm(r_,[ej.fromDom(t.getStart()),ej.fromDom(t.getEnd())]).fold(()=>o.clear(a),v)})}),e.on("PreInit",()=>{e.serializer.addTempAttr(lA.firstSelected),e.serializer.addTempAttr(lA.lastSelected)}),{getSelectedCells:()=>u3(r.get(),y([]),e=>P(e,e=>e.dom),e=>[e.dom]),clearSelectedCells:e=>o.clear(ej.fromDom(e))}},hm=e=>{let t=[];return{bind:e=>{if(void 0===e)throw Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=F(t,t=>t!==e)},trigger:(...r)=>{let o={};z(e,(e,t)=>{o[e]=r[t]}),z(t,e=>{e(o)})}}},hu=e=>({registry:el(e,e=>({bind:e.bind,unbind:e.unbind})),trigger:el(e,e=>e.trigger)}),hh=(e,t)=>{let r=null,o=()=>{c(r)||(clearTimeout(r),r=null)};return{cancel:o,throttle:(...n)=>{o(),r=setTimeout(()=>{r=null,e.apply(null,n)},t)}}},hf=e=>e.slice(0).sort(),hg=(e,t)=>{throw Error("All required keys ("+hf(e).join(", ")+") were not specified. Specified keys were: "+hf(t).join(", ")+".")},hp=e=>{throw Error("Unsupported keys for object: "+hf(e).join(", "))},hv=(e,t)=>{if(!d(t))throw Error("The "+e+" fields must be an array. Was: "+t+".");z(t,t=>{if(!i(t))throw Error("The value "+t+" in the "+e+" fields was not a string.")})},hb=(e,t)=>{throw Error("All values need to be of type: "+t+". Keys ("+hf(e).join(", ")+") were not.")},hw=e=>{let t=hf(e);U(t,(e,r)=>r<t.length-1&&e===t[r+1]).each(e=>{throw Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},hy=(e,t)=>hC(e,t,{validate:g,label:"function"}),hC=(e,t,r)=>{if(0===t.length)throw Error("You must specify at least one required field.");return hv("required",t),hw(t),o=>{let n=eo(o);Y(t,e=>L(n,e))||hg(t,n),e(t,n);let a=F(t,e=>!r.validate(o[e],e));return a.length>0&&hb(a,r.label),o}},hx=(e,t)=>{let r=F(t,t=>!L(e,t));r.length>0&&hp(r)},hE=e=>hy(hx,e),hS=hE(["compare","extract","mutate","sink"]),hk=hE(["element","start","stop","destroy"]),h_=hE(["forceDrop","drop","move","delayDrop"]),hT=()=>{let e=N.none(),t=(t,r)=>{let o=e.map(e=>t.compare(e,r));return e=N.some(r),o},r=hu({move:hm(["info"])});return{onEvent:(e,o)=>{o.extract(e).each(e=>{t(o,e).each(e=>{r.trigger.move(e)})})},reset:()=>{e=N.none()},events:r.registry}},hA=()=>({onEvent:v,reset:v,events:hu({move:hm(["info"])}).registry}),hN=()=>{let e=hA(),t=hT(),r=e;return{on:()=>{r.reset(),r=t},off:()=>{r.reset(),r=e},isOn:()=>r===t,onEvent:(e,t)=>{r.onEvent(e,t)},events:t.events}},hR=(e,t,r)=>{let o=!1,n=hu({start:hm([]),stop:hm([])}),a=hN(),l=()=>{d.stop(),a.isOn()&&(a.off(),n.trigger.stop())},i=hh(l,200);a.events.move.bind(r=>{t.mutate(e,r.info)});let s=e=>(...t)=>{o&&e.apply(null,t)},d=t.sink(h_({forceDrop:l,drop:s(l),move:s(e=>{i.cancel(),a.onEvent(e,t)}),delayDrop:s(i.throttle)}),r);return{element:d.element,go:e=>{d.start(e),a.on(),n.trigger.start()},on:()=>{o=!0},off:()=>{o=!1},isActive:()=>o,destroy:()=>{d.destroy()},events:n.registry}},hD=e=>{let t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},hM=hD("ephox-dragster").resolve,hO=e=>{let t={layerClass:hM("blocker"),...e},r=ej.fromTag("div");return eH(r,"role","presentation"),ri(r,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),uQ(r,hM("blocker")),uQ(r,t.layerClass),{element:y(r),destroy:()=>{ti(r)}}};var hL=hS({compare:(e,t)=>o$(t.left-e.left,t.top-e.top),extract:e=>N.some(o$(e.x,e.y)),sink:(e,t)=>{let r=hO(t),o=hs(r.element(),"mousedown",e.forceDrop),n=hs(r.element(),"mouseup",e.drop),a=hs(r.element(),"mousemove",e.move),l=hs(r.element(),"mouseout",e.delayDrop);return hk({element:r.element,start:e=>{tt(e,r.element())},stop:()=>{ti(r.element())},destroy:()=>{r.destroy(),n.unbind(),a.unbind(),l.unbind(),o.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});let hB=(e,t={})=>{var r;return hR(e,null!==(r=t.mode)&&void 0!==r?r:hL,t)},hH=hD("ephox-snooker").resolve,hP=()=>{let e=hu({drag:hm(["xDelta","yDelta"])});return{mutate:(t,r)=>{e.trigger.drag(t,r)},events:e.registry}},hz=()=>{let e=hu({drag:hm(["xDelta","yDelta","target"])}),t=N.none(),r=hP();return r.events.drag.bind(r=>{t.each(t=>{e.trigger.drag(r.xDelta,r.yDelta,t)})}),{assign:e=>{t=N.some(e)},get:()=>t,mutate:r.mutate,events:e.registry}},hZ=(e,t,r,o,n)=>{let a=ej.fromTag("div");return ri(a,{position:"absolute",left:t-o/2+"px",top:r+"px",height:n+"px",width:o+"px"}),eP(a,{"data-column":e,role:"presentation"}),a},hI=(e,t,r,o,n)=>{let a=ej.fromTag("div");return ri(a,{position:"absolute",left:t+"px",top:r-n/2+"px",height:n+"px",width:o+"px"}),eP(a,{"data-row":e,role:"presentation"}),a},hF=hH("resizer-bar"),hV=hH("resizer-rows"),h$=hH("resizer-cols"),hj=(e,t)=>K(e.all,(e,r)=>t(e.element)?[r]:[]),hU=(e,t)=>{let r=[];return H(e.grid.columns,o=>{oM.getColumnAt(e,o).map(e=>e.element).forall(t)&&r.push(o)}),F(r,r=>Y(oM.filterItems(e,e=>e.column===r),e=>t(e.element)))},hq=e=>{z(tj(e.parent(),"."+hF),ti)},hW=(e,t,r)=>{let o=e.origin();z(t,t=>{t.each(t=>{let n=r(o,t);uQ(n,hF),tt(e.parent(),n)})})},hK=(e,t,r,o)=>{hW(e,t,(e,t)=>{let n=hZ(t.col,t.x-e.left,r.top-e.top,7,o);return uQ(n,h$),n})},hY=(e,t,r,o)=>{hW(e,t,(e,t)=>{let n=hI(t.row,r.left-e.left,t.y-e.top,o,7);return uQ(n,hV),n})},hG=(e,t,r,o,n)=>{let a=oq(r),l=t.isResizable,i=o.length>0?o3.positions(o,r):[],s=i.length>0?hj(e,l):[];hY(t,F(i,(e,t)=>B(s,e=>t===e)),a,ou(r));let d=n.length>0?o7.positions(n,r):[],c=d.length>0?hU(e,l):[];hK(t,F(d,(e,t)=>B(c,e=>t===e)),a,oF(r))},hX=(e,t)=>{if(hq(e),e.isResizable(t)){let r=oM.fromTable(t),o=oB(r),n=oO(r);hG(r,e,t,o,n)}},hJ=(e,t)=>{z(tj(e.parent(),"."+hF),t)},hQ=e=>{hJ(e,e=>{rl(e,"display","none")})},h1=e=>{hJ(e,e=>{rl(e,"display","block")})},h0=e=>u2(e,hV),h2=e=>u2(e,h$),h4=hH("resizer-bar-dragging"),h3=e=>{let t=hz(),r=hB(t,{}),o=N.none(),n=(e,t)=>N.from(eZ(e,t));t.events.drag.bind(e=>{n(e.target,"data-row").each(t=>{let r=rv(e.target,"top");rl(e.target,"top",r+e.yDelta+"px")}),n(e.target,"data-column").each(t=>{let r=rv(e.target,"left");rl(e.target,"left",r+e.xDelta+"px")})});let a=(e,t)=>rv(e,t)-rh(e,"data-initial-"+t,0);r.events.stop.bind(()=>{t.get().each(t=>{o.each(r=>{n(t,"data-row").each(e=>{let o=a(t,"top");eF(t,"data-initial-top"),m.trigger.adjustHeight(r,o,parseInt(e,10))}),n(t,"data-column").each(e=>{let o=a(t,"left");eF(t,"data-initial-left"),m.trigger.adjustWidth(r,o,parseInt(e,10))}),hX(e,r)})})});let l=(o,n)=>{m.trigger.startAdjust(),t.assign(o),eH(o,"data-initial-"+n,rv(o,n)),uQ(o,h4),rl(o,"opacity","0.2"),r.go(e.parent())},i=hs(e.parent(),"mousedown",e=>{h0(e.target)&&l(e.target,"top"),h2(e.target)&&l(e.target,"left")}),s=t=>eY(t,e.view()),d=e=>tQ(e,"table",s).filter(az),c=hs(e.view(),"mouseover",t=>{d(t.target).fold(()=>{tH(t.target)&&hq(e)},t=>{r.isActive()&&(o=N.some(t),hX(e,t))})}),m=hu({adjustHeight:hm(["table","delta","row"]),adjustWidth:hm(["table","delta","column"]),startAdjust:hm([])});return{destroy:()=>{i.unbind(),c.unbind(),r.destroy(),hq(e)},refresh:t=>{hX(e,t)},on:r.on,off:r.off,hideBars:E(hQ,e),showBars:E(h1,e),events:m.registry}},h5={create:(e,t,r)=>{let o=h3(e),n=hu({beforeResize:hm(["table","type"]),afterResize:hm(["table","type"]),startDrag:hm([])});return o.events.adjustHeight.bind(e=>{let t=e.table;n.trigger.beforeResize(t,"row");let r=o3.delta(e.delta,t);sC(t,r,e.row),n.trigger.afterResize(t,"row")}),o.events.startAdjust.bind(e=>{n.trigger.startDrag()}),o.events.adjustWidth.bind(e=>{let o=e.table;n.trigger.beforeResize(o,"col");let a=o7.delta(e.delta,o),l=r(o);sy(o,a,e.column,t,l),n.trigger.afterResize(o,"col")}),{on:o.on,off:o.off,refreshBars:o.refresh,hideBars:o.hideBars,showBars:o.showBars,destroy:o.destroy,events:n.registry}}},h7={only:(e,t)=>({parent:y(eM(e)?eQ(e):e),view:y(e),origin:y(o$(0,0)),isResizable:t}),body:(e,t,r)=>({parent:y(t),view:y(e),origin:y(o$(0,0)),isResizable:r})},h6=()=>{let e=ej.fromTag("div");return ri(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),tt(tP(),e),e},h8=(e,t)=>e.inline?h7.body(ej.fromDom(e.getBody()),h6(),t):h7.only(ej.fromDom(e.getDoc()),t),h9=(e,t)=>{e.inline&&ti(t.parent())},fe=e=>f(e)&&"TABLE"===e.nodeName,ft="bar-",fr=e=>"false"!==eZ(e,"data-mce-resize"),fo=e=>{let t=oM.fromTable(e);oM.hasColumns(t)||z(rS(e),e=>{let t=rs(e,"width");rl(e,"width",t),eF(e,"width")})},fn=e=>t8(e,"corner-"),fa=e=>t7(e,"corner-"),fl=e=>{let t,r,o,n;let a=m6(),l=m6(),i=m6(),s=t=>dO(e,t),d=()=>ak(e)?l0():l1(),c=e=>l2(e).columns,m=e=>l2(e).rows,u=(a,l,i,u)=>{let h=fa(l),f=t9(h,"e"),g=t8(h,"n");if(""===r&&d9(a),""===n&&ct(a),i!==t&&""!==r){rl(a,"width",r);let o=d(),n=s(a),l=ak(e)||f?c(a)-1:0;sy(a,i-t,l,o,n)}else aY(r)&&rl(a,"width",i*parseFloat(r.replace("%",""))/t+"%");if(aG(r)&&fo(a),u!==o&&""!==n){rl(a,"height",n);let e=g?0:m(a)-1;sC(a,u-o,e)}},h=()=>{l.on(e=>{e.destroy()}),i.on(t=>{h9(e,t)})};return e.on("init",()=>{let t=h8(e,fr);if(i.set(t),ax(e)&&aD(e)){let r=d(),o=h5.create(t,r,s);e.mode.isReadOnly()||o.on(),o.events.startDrag.bind(t=>{a.set(e.selection.getRng())}),o.events.beforeResize.bind(t=>{let r=t.table.dom;dA(e,r,aj(r),aU(r),ft+t.type)}),o.events.afterResize.bind(t=>{let r=t.table,o=r.dom;aV(r),a.on(t=>{e.selection.setRng(t),e.focus()}),dN(e,o,aj(o),aU(o),ft+t.type),e.undoManager.add()}),l.set(o)}}),e.on("ObjectResizeStart",a=>{let l=a.target;if(fe(l)&&!e.mode.isReadOnly()){let i=ej.fromDom(l);z(e.dom.select(".mce-clonedresizable"),t=>{e.dom.addClass(t,"mce-"+aS(e)+"-columns")}),!d7(i)&&aN(e)?ce(i):!d5(i)&&aA(e)&&d9(i),d6(i)&&t8(a.origin,ft)&&d9(i),t=a.width,r=aR(e)?"":aW(e,l).getOr(""),o=a.height,n=aK(e,l).getOr("")}}),e.on("ObjectResized",t=>{let r=t.target;if(fe(r)){let o=ej.fromDom(r),n=t.origin;fn(n)&&u(o,n,t.width,t.height),aV(o),dk(e,o.dom,dR)}}),e.on("SwitchMode",()=>{l.on(t=>{e.mode.isReadOnly()?(t.off(),t.hideBars()):(t.on(),t.showBars())})}),e.on("dragstart dragend",e=>{l.on(t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())})}),e.on("remove",()=>{h()}),{refresh:e=>{l.on(t=>t.refreshBars(ej.fromDom(e)))},hide:()=>{l.on(e=>e.hideBars())},show:()=>{l.on(e=>e.showBars())}}},fi=e=>{ay(e);let t=fl(e),r=hc(e,t),o=dL(e,t,r);return cL(e,o),cB(e,o),lF(e,o),{getSelectedCells:r.getSelectedCells,clearSelectedCells:r.clearSelectedCells}};t.add("dom",e=>({table:fi(e)}))}();var D={data:null,searchable:!1,showSelectedItems:!1};function M(e,t){this.el=e,this.config=Object.assign({},D,t||{}),this.data=this.config.data,this.selectedOptions=[],this.placeholder=T(this.el,"placeholder")||this.config.placeholder||"Select an option",this.searchtext=T(this.el,"searchtext")||this.config.searchtext||"Search",this.selectedtext=T(this.el,"selectedtext")||this.config.selectedtext||"selected",this.dropdown=null,this.multiple=T(this.el,"multiple"),this.disabled=T(this.el,"disabled"),this.create()}async function O(t="Select folder"){let r=wizard.current_folder_id,n=(await w([r])).data||[];if(r&&"root"!==r&&n.unshift({id:"root",name:"Root"}),0===n.length)throw Error("No available folders to select from");let a=n.map(e=>`<option value="${e.id}">${e.name}</option>`);return /*@__PURE__*/e(o).fire({title:t,html:`<select id="folder-select" class="swal2-input">${a.join("")}</select>`,confirmButtonText:"Select",showCancelButton:!0,customClass:{container:"swal-with-folder-select"},preConfirm:()=>document.getElementById("folder-select").value,didOpen:()=>{new M(document.getElementById("folder-select"),{searchable:!0})}})}M.prototype.create=function(){this.el.style.opacity="0",this.el.style.width="0",this.el.style.padding="0",this.el.style.height="0",this.data?this.processData(this.data):this.extractData(),this.renderDropdown(),this.bindEvent()},M.prototype.processData=function(e){var t=[];e.forEach(e=>{t.push({data:e,attributes:{selected:!!e.selected,disabled:!!e.disabled,optgroup:"optgroup"==e.value}})}),this.options=t},M.prototype.extractData=function(){var e=this.el.querySelectorAll("option,optgroup"),t=[],r=[],o=[];e.forEach(e=>{if("OPTGROUP"==e.tagName)var o={text:e.label,value:"optgroup"};else{let t=e.innerText;void 0!=e.dataset.display&&(t=e.dataset.display);var o={text:t,value:e.value,selected:null!=e.getAttribute("selected"),disabled:null!=e.getAttribute("disabled")}}var n={selected:null!=e.getAttribute("selected"),disabled:null!=e.getAttribute("disabled"),optgroup:"OPTGROUP"==e.tagName};t.push(o),r.push({data:o,attributes:n})}),this.data=t,this.options=r,this.options.forEach(e=>{e.attributes.selected&&o.push(e)}),this.selectedOptions=o},M.prototype.renderDropdown=function(){var e=["nice-select",T(this.el,"class")||"",this.disabled?"disabled":"",this.multiple?"has-multiple":""];let t='<div class="nice-select-search-box">';t+=`<input type="text" class="nice-select-search" placeholder="${this.searchtext}..." title="search"/></div>`;var r=`<div class="${e.join(" ")}" tabindex="${this.disabled?null:0}">`;r+=`<span class="${this.multiple?"multiple-options":"current"}"></span><div class="nice-select-dropdown">${this.config.searchable?t:""}<ul class="list"></ul></div></div>`,this.el.insertAdjacentHTML("afterend",r),this.dropdown=this.el.nextElementSibling,this._renderSelectedItems(),this._renderItems()},M.prototype._renderSelectedItems=function(){if(this.multiple){var e="";this.config.showSelectedItems||this.config.showSelectedItems||"auto"==window.getComputedStyle(this.dropdown).width||this.selectedOptions.length<2?(this.selectedOptions.forEach(function(t){e+=`<span class="current">${t.data.text}</span>`}),e=""==e?this.placeholder:e):e=this.selectedOptions.length+" "+this.selectedtext,this.dropdown.querySelector(".multiple-options").innerHTML=e}else{var t=this.selectedOptions.length>0?this.selectedOptions[0].data.text:this.placeholder;this.dropdown.querySelector(".current").innerHTML=t}},M.prototype._renderItems=function(){var e=this.dropdown.querySelector("ul");this.options.forEach(t=>{e.appendChild(this._renderItem(t))})},M.prototype._renderItem=function(e){var t=document.createElement("li");if(t.innerHTML=e.data.text,e.attributes.optgroup)N(t,"optgroup");else{t.setAttribute("data-value",e.data.value);var r=["option",e.attributes.selected?"selected":null,e.attributes.disabled?"disabled":null];t.addEventListener("click",this._onItemClicked.bind(this,e)),t.classList.add(...r)}return e.element=t,t},M.prototype.update=function(){if(this.extractData(),this.dropdown){var e=A(this.dropdown,"open");this.dropdown.parentNode.removeChild(this.dropdown),this.create(),e&&C(this.dropdown)}T(this.el,"disabled")?this.disable():this.enable()},M.prototype.disable=function(){this.disabled||(this.disabled=!0,N(this.dropdown,"disabled"))},M.prototype.enable=function(){this.disabled&&(this.disabled=!1,R(this.dropdown,"disabled"))},M.prototype.clear=function(){this.resetSelectValue(),this.selectedOptions=[],this._renderSelectedItems(),this.update(),x(this.el)},M.prototype.destroy=function(){this.dropdown&&(this.dropdown.parentNode.removeChild(this.dropdown),this.el.style.display="")},M.prototype.bindEvent=function(){this.dropdown.addEventListener("click",this._onClicked.bind(this)),this.dropdown.addEventListener("keydown",this._onKeyPressed.bind(this)),this.dropdown.addEventListener("focusin",E.bind(this,this.el)),this.dropdown.addEventListener("focusout",S.bind(this,this.el)),this.el.addEventListener("invalid",_.bind(this,this.el,"invalid")),window.addEventListener("click",this._onClickedOutside.bind(this)),this.config.searchable&&this._bindSearchEvent()},M.prototype._bindSearchEvent=function(){var e=this.dropdown.querySelector(".nice-select-search");e&&e.addEventListener("click",function(e){return e.stopPropagation(),!1}),e.addEventListener("input",this._onSearchChanged.bind(this))},M.prototype._onClicked=function(e){if(e.preventDefault(),A(this.dropdown,"open"))this.multiple?e.target==this.dropdown.querySelector(".multiple-options")&&(R(this.dropdown,"open"),k(this.el)):(R(this.dropdown,"open"),k(this.el));else{var t,r;N(this.dropdown,"open"),t=this.el,(r=document.createEvent("UIEvent")).initEvent("modalopen",!0,!1),t.dispatchEvent(r)}if(A(this.dropdown,"open")){var o=this.dropdown.querySelector(".nice-select-search");o&&(o.value="",o.focus());var n=this.dropdown.querySelector(".focus");R(n,"focus"),N(n=this.dropdown.querySelector(".selected"),"focus"),this.dropdown.querySelectorAll("ul li").forEach(function(e){e.style.display=""})}else this.dropdown.focus()},M.prototype._onItemClicked=function(e,t){var r=t.target;A(r,"disabled")||(this.multiple?A(r,"selected")?(R(r,"selected"),this.selectedOptions.splice(this.selectedOptions.indexOf(e),1),this.el.querySelector(`option[value="${r.dataset.value}"]`).removeAttribute("selected")):(N(r,"selected"),this.selectedOptions.push(e)):(this.options.forEach(function(e){R(e.element,"selected")}),this.selectedOptions.forEach(function(e){R(e.element,"selected")}),N(r,"selected"),this.selectedOptions=[e]),this._renderSelectedItems(),this.updateSelectValue())},M.prototype.updateSelectValue=function(){if(this.multiple){var e=this.el;this.selectedOptions.forEach(function(t){var r=e.querySelector(`option[value="${t.data.value}"]`);r&&r.setAttribute("selected",!0)})}else this.selectedOptions.length>0&&(this.el.value=this.selectedOptions[0].data.value);x(this.el)},M.prototype.resetSelectValue=function(){if(this.multiple){var e=this.el;this.selectedOptions.forEach(function(t){var r=e.querySelector(`option[value="${t.data.value}"]`);r&&r.removeAttribute("selected")})}else this.selectedOptions.length>0&&(this.el.selectedIndex=-1);x(this.el)},M.prototype._onClickedOutside=function(e){this.dropdown.contains(e.target)||(R(this.dropdown,"open"),k(this.el))},M.prototype._onKeyPressed=function(e){var t=this.dropdown.querySelector(".focus"),r=A(this.dropdown,"open");if(13==e.keyCode)r?C(t):C(this.dropdown);else if(40==e.keyCode){if(r){var o=this._findNext(t);if(o){var n=this.dropdown.querySelector(".focus");R(n,"focus"),N(o,"focus")}}else C(this.dropdown);e.preventDefault()}else if(38==e.keyCode){if(r){var a=this._findPrev(t);if(a){var n=this.dropdown.querySelector(".focus");R(n,"focus"),N(a,"focus")}}else C(this.dropdown);e.preventDefault()}else 27==e.keyCode&&r?C(this.dropdown):e.keyCode;return!1},M.prototype._findNext=function(e){for(e=e?e.nextElementSibling:this.dropdown.querySelector(".list .option");e;){if(!A(e,"disabled")&&"none"!=e.style.display)return e;e=e.nextElementSibling}return null},M.prototype._findPrev=function(e){for(e=e?e.previousElementSibling:this.dropdown.querySelector(".list .option:last-child");e;){if(!A(e,"disabled")&&"none"!=e.style.display)return e;e=e.previousElementSibling}return null},M.prototype._onSearchChanged=function(e){var t=A(this.dropdown,"open"),r=e.target.value;if(""==(r=r.toLowerCase()))this.options.forEach(function(e){e.element.style.display=""});else if(t){var o=new RegExp(r);this.options.forEach(function(e){var t=e.data.text.toLowerCase(),r=o.test(t);e.element.style.display=r?"":"none"})}this.dropdown.querySelectorAll(".focus").forEach(function(e){R(e,"focus")}),N(this._findNext(null),"focus")};let L={async fetchTablePart(e,t=null,r={}){try{let o={page:r.page,per_page:r.per_page,orderby:r.orderby,order:r.order,search_term:r.search_term,folder_ids:r.folder_ids,show_row_breadcrumb:r.show_row_breadcrumb};Object.keys(o).forEach(e=>void 0===o[e]&&delete o[e]);let n=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"generate_template_table_part",nonce:wizard.nonce,user_id:wizard.current_user_id,current_folder:wizard.current_folder_id,part:e,...t&&{item_id:t},args:JSON.stringify(o)})}),a=await n.json();if(!a.success)throw Error(a.data||"Failed to fetch table part");return{success:!0,data:a.data}}catch(e){return console.error("Error fetching table part:",e),s(e.message),{success:!1,error:e.message}}},async handleEmptyState(){let e=document.querySelector(".wizard-folders-table tbody.subfolders"),t=document.querySelector(".wizard-folders-table tbody.templates");document.querySelectorAll(".no-results-message").forEach(e=>e.closest("tr")?.remove());let r=!e?.querySelector("tr:not(.no-results-message)"),o=!t?.querySelector("tr:not(.no-results-message)");if(r&&o){let r=t||e;r&&(r.innerHTML='<tr class="no-results-message"><td colspan="5">No items here</td></tr>')}},removeEmptyState(){document.querySelectorAll(".no-results-message").forEach(e=>e.closest("tr")?.remove())},initializeComponents(){em()},highlightElement(e,t=2e3){setTimeout(()=>{let r=document.querySelector(e);r&&(r.classList.add("highlighted"),setTimeout(()=>{r.classList.remove("highlighted")},t))},300)}};async function B(e,t){if(!["move","delete"].includes(e))throw Error('Invalid action type. Must be either "move" or "delete".');if(!t||0===Object.keys(t).length)throw Error("No items provided for the action.");try{let r=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"handle_template_folder_action",nonce:wizard.nonce,action_type:e,items:JSON.stringify(t)})});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let o=await r.json();if(!o.success)throw Error(o.error||"Unknown error occurred");return o}catch(e){throw c(e),e}}async function H(e,t){if(!e.length||!t){console.error("Items or new parent ID is missing.");return}let r={folders:{},templates:{}};e.forEach(e=>{"folder"===e.dataset.type?r.folders[e.value]=t:"template"===e.dataset.type&&(r.templates[e.value]=t)});try{let o=await B("move",r);if(!o.success)throw Error("Server returned an unsuccessful response");let n=o.data,a=n?.templates?.moved||[],l=n?.folders?.moved||[],s=a.length+l.length;if(s>0){e.forEach(e=>{("template"===e.dataset.type&&a.includes(Number(e.value))||"folder"===e.dataset.type&&l.includes(Number(e.value)))&&Z(e.value,e.dataset.type)});let r=`${wizard.site_url}/templates/?folder_id=${t}`;return i(`${s} items moved successfully. <a href='${r}'>Go to folder</a>`,1e4,!0),!0}throw Error("No items were moved")}catch(e){return console.error("Error in moveItems:",e),s(`Error moving items: ${e.message}`),!1}}async function P(e){if(!e.length){console.error("No items to delete.");return}if((await z(e)).isConfirmed){let t={folders:[],templates:[]};e.forEach(e=>{"folder"===e.dataset.type?t.folders.push(e.value):"template"===e.dataset.type&&t.templates.push(e.value)});try{let r=(await B("delete",t)).data,o=r?.templates?.deleted||[],n=r?.folders?.deleted||[],a=o.length+n.length;if(a>0){e.forEach(e=>{("template"===e.dataset.type&&o.includes(Number(e.value))||"folder"===e.dataset.type&&n.includes(Number(e.value)))&&Z(e.value,e.dataset.type)});let t=`Successfully deleted ${a} item(s).`;o.length>0&&!n.length?t=`Successfully deleted ${o.length} template(s). <a href="${wizard.site_url}/templates?folder_id=trash">View trash.</a>`:n.length>0&&!o.length?t=`Successfully deleted ${n.length} folder(s).`:o.length>0&&n.length>0&&(t=`Successfully deleted ${o.length} template(s) and ${n.length} folder(s). <a href="${wizard.site_url}/templates?folder_id=trash">View template trash.</a>`),i(t,1e4,!0)}else throw Error("Failed to delete items")}catch(e){s(`Error deleting items: ${e.message}`)}}}function z(t,r=!1){let n=t.filter(e=>"folder"===e.dataset.type).length,a=t.filter(e=>"template"===e.dataset.type).length,l="";return n>0&&(l+=`${n} folder(s) will be <strong>permanently</strong> deleted. Any templates in these folders will be moved to the folders' parent folders.<br>`),a>0&&(r?l+=`${a} template(s) will be <strong>permanently</strong> deleted. `:l+=`${a} template(s) will be moved to the trash.`),/*@__PURE__*/e(o).fire({title:"Delete Items?",html:l,icon:"warning",showCancelButton:!0,confirmButtonText:"Delete"})}function Z(e,t){let r=document.getElementById(`${t}-${e}`);r&&(!function(e,t="#ffebee"){e&&(e.style.transition="background-color 0.5s, opacity 0.5s",e.style.backgroundColor=t,setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.remove()},500)},1e3))}(r),setTimeout(()=>{L.handleEmptyState()},500))}async function I(e){try{let t=await O("Select destination folder");if(!t.value){console.log("Folder selection was cancelled");return}let r=t.value;await H(e,r)}catch(e){console.error("Error in move operation:",e),s(`Failed to move items: ${e.message}`)}}async function F(e){try{let t=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"create_wizard_template",nonce:wizard.nonce,...e})});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let r=await t.json();if(!r.success)throw Error(r.data||"Failed to create template");return i("Template created successfully"),r.data}catch(e){throw c(e),e}}async function V(e){try{let t=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"duplicate_wizard_template",nonce:wizard.nonce,template_id:e})});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let r=await t.json();if(!r.success)throw Error(r.data||"Failed to duplicate template");return i("Template duplicated successfully"),r.data}catch(e){throw c(e),e}}async function $(e){Array.isArray(e)||(e=[e]);try{let t=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"restore_trashed_templates",nonce:wizard.nonce,template_ids:JSON.stringify(e)})});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let r=await t.json();if(!r.success)throw Error(r.data||"Failed to restore template");return i("Template(s) restored successfully"),r.data}catch(e){throw c(e),e}}async function j(e){Array.isArray(e)||(e=[e]);try{let t=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"delete_templates_forever",nonce:wizard.nonce,template_ids:JSON.stringify(e)})});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let r=await t.json();if(!r.success)throw Error(r.data||"Failed to permanently delete template");return i("Template(s) permanently deleted"),r.data}catch(e){throw c(e),e}}async function U(e){return new URLSearchParams(window.location.search),d(await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"generate_template_table_part",nonce:wizard.nonce,part:"template_row",current_folder:wizard.current_folder_id,user_id:wizard.current_user_id,item_id:e,args:JSON.stringify({})})}))}function q(e){let t=e.target.dataset.templateId;if(!t){console.error("Template ID is missing."),s("Template ID is missing");return}Y([t])}function W(e){let t=e.target.dataset.templateId;if(!t){console.error("Template ID is missing."),s("Template ID is missing");return}G([{value:t,dataset:{type:"template"}}])}function K(e){let t=e.target.dataset.templateId;if(!t){console.error("Template ID is missing.");return}V(t)}async function Y(t){try{(await /*@__PURE__*/e(o).fire({title:"Undelete?",text:"This will restore the selected template(s).",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, restore them!"})).isConfirmed&&(await $(t),t.forEach(e=>{Z(e,"template")}))}catch(e){s(`Error restoring templates: ${e.message}`)}}async function G(e){try{let t=e.map(e=>e.value);(await z(e,!0)).isConfirmed&&(await j(t),t.forEach(e=>{Z(e,"template")}))}catch(e){s(`Error deleting templates: ${e.message}`)}}function X(){return Array.from(document.querySelectorAll(".wizard-table-bulk-check input:checked")).map(e=>({value:e.value,dataset:{type:e.dataset.type}}))}function J(e){let t=document.getElementById("bulk-actions"),r=t.querySelectorAll("button");e?(t.classList.remove("disabled"),r.forEach(e=>e.disabled=!1)):0===document.querySelectorAll(".wizard-table-bulk-check > input:checked").length&&(t.classList.add("disabled"),r.forEach(e=>e.disabled=!0))}function Q(e){J(e.target.checked)}function ee(e){let t=document.querySelectorAll(".wizard-table-bulk-check input:not([hidden])");t.forEach(t=>{t.checked=e.target.checked,t.dispatchEvent(new Event("change",{bubbles:!0}))}),J(e.target.checked&&t.length>0)}function et(){let e=X();e.length>0?I(e):s("No items selected for moving")}function er(){let e=X();e.length>0?P(e):s("No items selected for deletion")}function eo(){let e=X();e.length>0?Y(e.map(e=>e.value)):s("No items selected for restoration")}function en(){let e=X();e.length>0&&G(e)}async function ea(e,t){let r=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"add_wizard_team",nonce:wizard.nonce,user_id:e,team_name:t})}),o=await d(r);if(o.success)return o.data.team_id;throw Error(o.data||"Failed to create team")}async function el(e){let t=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"switch_wizard_team",nonce:wizard.nonce,team_id:e,user_id:wizard.current_user_id})}),r=await d(t);if(r.success)return e;throw Error(r.data||"Failed to switch team")}function ei(e){let t=e.target.dataset.teamId;if(!t){console.error("Team ID is missing");return}el(t).then(()=>{window.location.href=window.location.href.split("?")[0]+"?team_switched="+t}).catch(c)}function es(){/*@__PURE__*/e(o).fire({title:"Create New Team",html:'<input id="swal-input1" class="swal2-input" placeholder="Enter team name">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Create",cancelButtonText:"Cancel",allowEnterKey:!0,allowEscapeKey:!0,preConfirm:()=>{let t=/*@__PURE__*/e(o).getPopup().querySelector("#swal-input1").value;return t||/*@__PURE__*/e(o).showValidationMessage("Please enter a team name"),{teamName:t}}}).then(e=>{if(!e.isConfirmed)throw Error("User cancelled");return ea(wizard.current_user_id,e.value.teamName)}).then(e=>{if(!e)throw Error("No team ID returned");i("Team created successfully"),window.location.reload()}).catch(e=>{"User cancelled"!==e.message&&c(e)})}function ed(){let e=document.querySelector(".wizard-search-form");e&&e.addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector(".wizard-search-input").value.trim(),r=new URLSearchParams(window.location.search);r.delete("page"),t?r.set("s",t):r.delete("s");let o=`${window.location.pathname}?${r.toString()}`;window.location.href=o})}function ec(e){let t=e.target.value,r=new URL(window.location.href);r.searchParams.set("per_page",t),r.searchParams.delete("paged"),window.location.href=r.toString()}function em(){t(".create-folder","click",eg),document.addEventListener("click",eu),t(".edit-folder-title","click",ep),t(".wizard-table-bulk-check > input","change",Q),t(".wizard-table-bulk-check-all","change",ee),t(".new-template","click",t=>{t.preventDefault(),/*@__PURE__*/e(o).fire({title:"Enter Template Name",input:"text",inputPlaceholder:"Template Name",showCancelButton:!0,confirmButtonText:"Create",showLoaderOnConfirm:!0,preConfirm:t=>(t||/*@__PURE__*/e(o).showValidationMessage("Please enter a template name."),t),allowOutsideClick:()=>!/*@__PURE__*/e(o).isLoading()}).then(t=>{t.isConfirmed&&F({template_name:t.value,folder_id:wizard.current_folder_id}).then(t=>{let n=`${wizard.site_url}?p=${t}`;return /*@__PURE__*/e(o).fire({title:"Template Created",text:"What's your next move?",icon:"success",showCancelButton:!0,confirmButtonText:"Go to Template",cancelButtonText:"Stay here",showLoaderOnConfirm:!0,allowOutsideClick:()=>!/*@__PURE__*/e(o).isLoading(),preConfirm:()=>new Promise(e=>{window.location.href=n,e()})}).then(n=>{n.dismiss===/*@__PURE__*/e(o).DismissReason.cancel&&(L.removeEmptyState(),U(t).then(e=>{e.success&&e.data&&function(e){let t=document.querySelector(".wizard-folders-table tbody.templates");if(!t){let e=document.querySelector(".wizard-folders-table");(t=document.createElement("tbody")).classList.add("templates"),e.appendChild(t)}L.removeEmptyState(),t.insertAdjacentHTML("beforeend",e.trim());let o=t.lastElementChild;if(o&&"TR"===o.tagName)em(),setTimeout(()=>{r("#"+o.id,2e3)},300);else throw Error("Unexpected HTML structure returned")}(e.data.html)}).catch(e=>{console.error("Error getting template row:",e),s("Failed to update template list")}))})}).catch(t=>{console.error("Error creating template:",t),/*@__PURE__*/e(o).fire("Error","Failed to create template","error")})})}),ed(),function(){let e=document.querySelector(".wizard-per-page-select");e&&e.addEventListener("change",ec)}()}function eu(e){for(let[t,r]of Object.entries({".move-folder, .move-template":eh,".delete-folder, .delete-template":ef,".restore-template":q,".delete-forever":W,"#move-selected":et,"#delete-selected":er,"#restore-selected":eo,"#delete-selected-forever":en,".duplicate-template":K,".new-team":es}))if(e.target.matches(t)){r(e);break}}function eh(e){let t=e.target.dataset.folderId||e.target.dataset.templateId,r=e.target.dataset.folderId?"folder":"template";if(!t){console.error(`${r} ID is missing.`);return}I([{value:t,dataset:{type:r}}])}function ef(e){let t=e.target.dataset.folderId||e.target.dataset.templateId,r=e.target.dataset.folderId?"folder":"template";if(!t){console.error(`${r} ID is missing.`),s(`Cannot delete ${r}: ID is missing`);return}P([{value:t,dataset:{type:r}}])}function eg(){!function(t="root"){/*@__PURE__*/e(o).fire({title:"Create New Folder",html:'<input id="swal-input1" class="swal2-input" placeholder="Enter folder name">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Create",cancelButtonText:"Cancel",allowEnterKey:!0,allowEscapeKey:!0,preConfirm:()=>{let t=/*@__PURE__*/e(o).getPopup().querySelector("#swal-input1").value;return t||/*@__PURE__*/e(o).showValidationMessage("Please enter a folder name"),{folderName:t}}}).then(e=>{if(!e.isConfirmed)throw Error("User cancelled");return v(e.value.folderName,t)}).then(e=>{if(e&&e.folder_id)return y(t,e.folder_id);throw Error("No folder ID returned")}).then(e=>{if(e.success&&e.data)!function(e){let t=document.querySelector(".wizard-folders-table tbody.subfolders");L.removeEmptyState(),t.insertAdjacentHTML("beforeend",e.trim());let o=t.lastElementChild;if(o&&"TR"===o.tagName)em(),i("Folder created successfully"),setTimeout(()=>{r("#"+o.id,2e3)},300);else throw Error("Unexpected HTML structure returned")}(e.data.html);else throw Error(e.data||"Failed to update folder list")}).catch(e=>{"User cancelled"!==e.message&&c(e)})}(wizard.current_folder_id)}function ep(t){let n=t.target.dataset.editable,a=document.querySelector(`tr[data-id="${n}"] .wizard-table-folder-name-link`).textContent;if(!n){console.error("Folder ID is missing.");return}/*@__PURE__*/e(o).fire({title:"Rename folder",html:`<input id="folder-title" class="swal2-input" placeholder="Enter new folder title" value="${a}">`,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Rename",preConfirm:()=>{let t=/*@__PURE__*/e(o).getPopup().querySelector("#folder-title").value;return t||/*@__PURE__*/e(o).showValidationMessage("Please enter a folder title"),{folderTitle:t}}}).then(e=>{if(e.isConfirmed){let t=e.value.folderTitle;return b(n,t).then(()=>({newTitle:t}))}}).then(e=>{if(e){let t=document.querySelector(`tr[data-id="${n}"] .wizard-table-folder-name-link`);t&&(t.textContent=e.newTitle,r(`tr[data-id="${n}"] .wizard-table-template-name`,2e3))}}).catch(e=>{"User cancelled"!==e.message&&c(e)})}function ev(){!function(t={}){let r={inline:!0,menubar:!1,toolbar:!1,skins:!1,theme:!1,ui_mode:"split",suppressPassiveWarnings:!1,setup:function(e){},...t};r.suppressPassiveWarnings&&function(){let e=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(t,r,o){"touchstart"===t||"touchmove"===t||"wheel"===t?e.call(this,t,r,{passive:!0,...o}):e.call(this,t,r,o)}}(),/*@__PURE__*/e(p).init(r)}({selector:".editable.folder-title",setup:function(e){e.on("change",function(){ep({target:{dataset:{editable:e.getElement().getAttribute("data-folder-id")}}})})},suppressPassiveWarnings:!0})}function eb(e,t){let r={toast:{success:{show:!0,text:"Changes saved successfully"},error:{show:!0,text:"An error occurred. Please try again."},...t.toast},...t};e.addEventListener("submit",async function(t){if(t.preventDefault(),r.beforeSubmit&&!1===r.beforeSubmit())return;let o=e.querySelector('[type="submit"]'),a=document.createElement("div");a.className="wizard-form-loading-overlay";try{e.classList.add("loading"),e.appendChild(a),o&&(o.disabled=!0);let t=new FormData(e);t.append("action",r.action),t.append("nonce",window.wizard?.nonce);let l=await fetch(window.wizard?.ajaxurl||"/api/wiz-ajax/",{method:"POST",body:t}),i=await l.json();if(!i.success)throw Error(i.data?.message||i.data||r.toast.error.text);r.toast.success.show&&n({text:i.data?.message||r.toast.success.text,icon:"success"}),r.onSuccess&&r.onSuccess(i)}catch(e){console.error("Form submission error:",e),r.toast.error.show&&n({text:e.message||r.toast.error.text,icon:"error"}),r.onError&&r.onError(e)}finally{e.classList.remove("loading"),a.remove(),o&&(o.disabled=!1),r.afterSubmit&&r.afterSubmit()}})}document.addEventListener("DOMContentLoaded",()=>{em(),ed()}),/*@__PURE__*/e(p).baseURL="/tinymce",t("document","DOMContentLoaded",()=>{ev()}),document.addEventListener("click",function(e){e.target.matches(".wizard-form-fieldgroup.repeater .add-row:not(.disabled)")&&(e.preventDefault(),function(e){let t=e.querySelector(".repeater-row-template"),r=e.querySelector(".repeater-rows"),o=r.querySelectorAll(".repeater-row").length,n=t.cloneNode(!0);n.classList.remove("repeater-row-template"),n.classList.add("repeater-row"),n.innerHTML=n.innerHTML.replace(/\{\{row\}\}/g,o),r.appendChild(n);let a=e.querySelector(".empty-repeater-message");a&&(a.style.display="none")}(e.target.closest(".wizard-form-fieldgroup.repeater")))}),document.addEventListener("click",function(e){e.target.closest(".wizard-form-fieldgroup.repeater .remove-row:not(.disabled)")&&(e.preventDefault(),function(e,t){t.remove();let r=e.querySelectorAll(".repeater-row:not(.repeater-row-template)");if(r.forEach((e,t)=>{e.querySelectorAll("input, select, textarea").forEach(e=>{let r=e.getAttribute("name");r&&e.setAttribute("name",r.replace(/\[\d+\]/,`[${t}]`))})}),0===r.length){let t=e.querySelector(".empty-repeater-message");t&&(t.style.display="block")}}(e.target.closest(".wizard-form-fieldgroup.repeater"),e.target.closest(".repeater-row")))}),document.addEventListener("click",function(e){e.target.matches(".wizard-form-fieldgroup.repeater .disabled")&&e.preventDefault()});class ew{constructor(e={}){this.options={title:"",content:"",width:"600px",maxHeight:"90vh",showClose:!0,className:"",onClose:null,footer:null,...e},this.element=null,this.isOpen=!1,this.boundHandleEscape=this.handleEscape.bind(this),this._createModal()}_createModal(){this.options.className&&document.querySelectorAll(`.wiz-modal.${this.options.className}`).forEach(e=>{e.remove()}),this.element=document.createElement("div"),this.element.className="wiz-modal"+(this.options.className?` ${this.options.className}`:"");let e=document.createElement("div");if(e.className="wiz-modal-content",e.style.width=this.options.width,e.style.maxHeight=this.options.maxHeight,this.options.title){let t=document.createElement("div");t.className="wiz-modal-header";let r=document.createElement("h2");if(r.className="wiz-modal-title",r.textContent=this.options.title,t.appendChild(r),this.options.showClose){let e=document.createElement("button");e.className="wiz-modal-close wizard-button small button-text",e.innerHTML='<i class="fa-solid fa-xmark"></i>',e.addEventListener("click",()=>this.close()),t.appendChild(e)}e.appendChild(t)}let t=document.createElement("div");if(t.className="wiz-modal-body","string"==typeof this.options.content?t.innerHTML=this.options.content:this.options.content instanceof Node&&t.appendChild(this.options.content),e.appendChild(t),this.options.footer){let t=document.createElement("div");t.className="wiz-modal-footer","string"==typeof this.options.footer?t.innerHTML=this.options.footer:this.options.footer instanceof Node&&t.appendChild(this.options.footer),e.appendChild(t)}this.element.appendChild(e),this.element.addEventListener("click",e=>{e.target===this.element&&this.close()})}handleEscape(e){"Escape"===e.key&&this.isOpen&&this.close()}open(){this.isOpen||(document.body.appendChild(this.element),document.body.style.overflow="hidden",document.addEventListener("keydown",this.boundHandleEscape),this.element.offsetHeight,this.element.style.cssText=`
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        `,requestAnimationFrame(()=>{this.element.classList.add("open")}),this.isOpen=!0)}close(){this.isOpen&&(this.element.classList.remove("open"),document.removeEventListener("keydown",this.boundHandleEscape),setTimeout(()=>{this.element&&this.element.parentNode&&document.body.removeChild(this.element),document.body.style.overflow="",this.options.onClose&&this.options.onClose()},200),this.isOpen=!1)}setContent(e){let t=this.element.querySelector(".wiz-modal-body");t&&(t.innerHTML="","string"==typeof e?t.innerHTML=e:e instanceof Node&&t.appendChild(e))}static async showModal(e){let t=new ew(e);return t.open(),t}}let ey=()=>{document.querySelectorAll(".team-description-input").forEach(e=>{let t=e.closest(".textarea-wrapper").querySelector(".char-count"),r=e.getAttribute("maxlength"),o=()=>{let o=r-e.value.length;t.textContent=`${o}`};o(),e.addEventListener("input",o)})},eC=async t=>{let r=document.querySelector(`.edit-team-trigger[data-team-id="${t}"]`),a="";r&&(a=r.innerHTML,r.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i>&nbsp;&nbsp;Loading...',r.disabled=!0);try{let l=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_team_settings",team_id:t,nonce:wizard.nonce})});if(!l.ok)throw Error("Failed to load team settings");let i=await l.json();if(!i.success)throw Error(i.data?.message||"Failed to load team settings");if(!i.data?.html)throw Error("No HTML content received from server");let s=await ew.showModal({title:"Team Settings",content:i.data.html,width:"800px",className:"team-settings-modal",footer:`<button type="submit" form="team-settings-form" class="wizard-button button-primary">
                <i class="fa-solid fa-save"></i>&nbsp;&nbsp;Save Changes
            </button>`,onClose:()=>{r&&(r.innerHTML=a,r.disabled=!1)}}),d=s.element.querySelector(".team-edit-form");if(d){ey();let r=d.querySelector(".team-avatar-upload"),a=d.querySelector(`#team-avatar-${t}-container`),l=d.querySelector(".delete-team-avatar");r&&r.addEventListener("change",async e=>{let r=e.target.files[0];if(!r)return;let o=new FormData;o.append("action","update_team_avatar"),o.append("team_avatar",r),o.append("team_id",t),o.append("nonce",wizard.nonce);try{let e=await fetch(wizard.ajaxurl,{method:"POST",body:o}),t=await e.json();if(!t.success)throw Error(t.data?.message||"Upload failed");t.data?.avatar_html&&a&&(a.innerHTML=t.data.avatar_html,l&&(l.style.display="inline-flex")),n({text:"Avatar updated successfully",icon:"success"})}catch(e){console.error("Avatar upload failed:",e),n({text:e.message||"Upload failed",icon:"error"})}}),l&&l.addEventListener("click",async r=>{if(r.preventDefault(),(await /*@__PURE__*/e(o).fire({title:"Delete Team Avatar?",text:"Are you sure you want to remove the team profile picture?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel",customClass:{confirmButton:"wizard-button red",cancelButton:"wizard-button button-text"}})).isConfirmed){let e=new FormData;e.append("action","delete_team_avatar"),e.append("team_id",t),e.append("nonce",wizard.nonce);try{let t=await fetch(wizard.ajaxurl,{method:"POST",body:e}),r=await t.json();if(!r.success)throw Error(r.data?.message||"Failed to delete team avatar");r.data?.avatar_html&&a&&(a.innerHTML=r.data.avatar_html,l.style.display="none"),n({text:"Team avatar deleted successfully",icon:"success"})}catch(e){console.error("Team avatar deletion failed:",e),n({text:e.message||"Failed to delete team avatar",icon:"error"})}}}),eb(d,{action:"update_team_settings",toast:{success:{show:!0,text:"Team settings updated successfully",timer:3e3},error:{show:!0,text:"Failed to update team settings"}},beforeSubmit:()=>{let e=d.querySelector('[name="team_name"]');if(!e.value.trim())return n({text:"Team name is required",icon:"error"}),e.focus(),!1;if(d.querySelectorAll(".member-role-select.role-changed").length>0){let e=document.createElement("input");e.type="hidden",e.name="roles_updated",e.value="1",d.appendChild(e)}return!0},onSuccess:e=>{d.querySelectorAll(".member-role-select.role-changed").forEach(e=>{e.classList.remove("role-changed");let t=e.closest(".team-member-item");if(t){let r=e.value;t.querySelector("[data-member-id]")?.dataset.memberId===wizard.current_user_id.toString()&&"admin"!==r&&setTimeout(()=>{window.location.reload()},3e3)}})}}),ex(s.element,t)}r&&(r.innerHTML=a,r.disabled=!1)}catch(e){console.error("Error loading team settings:",e),n({text:e.message||"Failed to load team settings",icon:"error"}),r&&(r.innerHTML=a,r.disabled=!1)}},ex=(t,r)=>{t.querySelectorAll(".member-role-select").forEach(e=>{e.addEventListener("change",t=>{e.classList.add("role-changed")})}),t.querySelectorAll(".remove-member-trigger").forEach(t=>{t.addEventListener("click",async()=>{let a=t.dataset.memberId,l=t.dataset.memberName;if((await /*@__PURE__*/e(o).fire({title:"Remove Team Member?",text:`Are you sure you want to remove ${l} from the team?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove",cancelButtonText:"Cancel",customClass:{confirmButton:"wizard-button red",cancelButton:"wizard-button button-text"}})).isConfirmed)try{let e=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"remove_team_member",team_id:r,member_id:a,nonce:wizard.nonce})}),o=await e.json();if(o.success)t.closest(".team-member-item").remove(),n({text:"Member removed successfully",icon:"success"});else throw Error(o.data?.message||"Failed to remove member")}catch(e){console.error("Error removing member:",e),n({text:e.message||"Failed to remove member",icon:"error"})}})});let a=t.querySelector(".invite-member-section");if(a){let e=a.querySelector(".invite-member-trigger"),t=a.querySelector('[name="member_email"]');e.addEventListener("click",async()=>{let e=t.value.trim();if(!e){n({text:"Please enter an email address",icon:"error"}),t.focus();return}try{let o=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"invite_team_member",team_id:r,email:e,nonce:wizard.nonce})}),a=await o.json();if(a.success)t.value="",n({text:"Invitation sent successfully",icon:"success"}),window.location.reload();else throw Error(a.data?.message||"Failed to send invitation")}catch(e){console.error("Error sending invitation:",e),n({text:e.message||"Failed to send invitation",icon:"error"})}})}t.querySelectorAll(".resend-invite-trigger").forEach(e=>{e.addEventListener("click",async()=>{let t=e.dataset.inviteId;try{let e=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"resend_team_invite",team_id:r,invite_id:t,nonce:wizard.nonce})}),o=await e.json();if(o.success)n({text:"Invitation resent successfully",icon:"success"});else throw Error(o.data?.message||"Failed to resend invitation")}catch(e){console.error("Error resending invitation:",e),n({text:e.message||"Failed to resend invitation",icon:"error"})}})}),t.querySelectorAll(".revoke-invite-trigger").forEach(t=>{t.addEventListener("click",async()=>{let a=t.dataset.inviteId;if((await /*@__PURE__*/e(o).fire({title:"Revoke Invitation?",text:"Are you sure you want to revoke this invitation?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, revoke",cancelButtonText:"Cancel",customClass:{confirmButton:"wizard-button red",cancelButton:"wizard-button button-text"}})).isConfirmed)try{let e=await fetch(wizard.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"revoke_team_invite",team_id:r,invite_id:a,nonce:wizard.nonce})}),o=await e.json();if(o.success)t.closest(".team-member-item").remove(),n({text:"Invitation revoked successfully",icon:"success"});else throw Error(o.data?.message||"Failed to revoke invitation")}catch(e){console.error("Error revoking invitation:",e),n({text:e.message||"Failed to revoke invitation",icon:"error"})}})})};function eE(){document.getElementById("account-page-ui")&&(!function(){let t=document.querySelector(".account-settings-form");if(!t)return;eb(t,{action:"update_account",toast:{success:{show:!0,text:"Account information updated successfully"},error:{show:!0,text:"Failed to update account information"}},beforeSubmit:()=>{let e=t.querySelector("#current_password"),r=t.querySelector("#new_password"),o=t.querySelector("#confirm_password");if(r.value||o.value||e.value){if(!e.value)return n({text:"Please enter your current password",icon:"error"}),e.focus(),!1;if(r.value!==o.value)return n({text:"New passwords do not match",icon:"error"}),r.focus(),!1;if(r.value.length<8)return n({text:"Password must be at least 8 characters long",icon:"error"}),r.focus(),!1}return!0}});let r=document.querySelector("#avatar-upload");r&&function(e,t){e.addEventListener("change",async function(){if(!this.files||!this.files[0])return;let e=this.files[0],r=document.querySelector(t.previewSelector);try{let o=new FormData;o.append("file",e),o.append("action",t.action),o.append("nonce",window.wizard?.nonce);let a=await fetch(window.wizard?.ajaxurl||"/api/wiz-ajax/",{method:"POST",body:o}),l=await a.json();if(!l.success)throw Error(l.data||"Upload failed");l.data?.avatar_html&&r?.parentElement?r.parentElement.innerHTML=l.data.avatar_html:l.data?.avatar_url&&r&&(r.src=l.data.avatar_url),n({text:"File uploaded successfully",icon:"success"}),t.onSuccess&&t.onSuccess(l)}catch(e){console.error("Upload error:",e),n({text:e.message||"Upload failed",icon:"error"}),t.onError&&t.onError(e),r&&(r.src=r.dataset.defaultSrc||"")}})}(r,{action:"update_avatar",previewSelector:"#user-avatar-container img",onSuccess:e=>{let t=document.querySelector("#delete-avatar");t&&(t.disabled=!1)}});let a=document.querySelector("#delete-avatar");a&&a.addEventListener("click",async t=>{if(t.preventDefault(),(await /*@__PURE__*/e(o).fire({title:"Delete Avatar?",text:"Are you sure you want to remove your profile picture?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel",customClass:{confirmButton:"wizard-button red",cancelButton:"wizard-button button-text"}})).isConfirmed){let e=new FormData;e.append("action","delete_avatar"),e.append("nonce",window.wizard?.nonce);try{let t=await fetch(window.wizard?.ajaxurl||"/api/wiz-ajax/",{method:"POST",body:e}),r=await t.json();if(!r.success)throw Error(r.data||"Failed to delete avatar");let o=document.querySelector("#user-avatar-container img");o&&r.data.default_avatar&&(o.src=r.data.default_avatar),a.disabled=!0,n({text:"Avatar deleted successfully",icon:"success"})}catch(e){console.error("Delete avatar error:",e),n({text:e.message||"Failed to delete avatar",icon:"error"})}}});let l=t.querySelector("#user_email");l&&l.addEventListener("change",()=>{l.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(n({text:"Please enter a valid email address",icon:"error"}),l.focus())})}(),document.querySelector(".wizard-teams-container")&&function(){let t=document.querySelector(".new-team");t&&t.addEventListener("click",es),document.querySelectorAll(".switch-team-trigger").forEach(e=>{e.addEventListener("click",ei)}),document.querySelectorAll(".edit-team-trigger").forEach(e=>{e.addEventListener("click",()=>eC(e.dataset.teamId))}),document.querySelectorAll('input[name="team_avatar"]').forEach(e=>{e.addEventListener("change",function(){let e=this.closest("form");e&&e.submit()})}),document.querySelectorAll(".delete-team-avatar").forEach(t=>{t.addEventListener("click",async r=>{if(r.preventDefault(),(await /*@__PURE__*/e(o).fire({title:"Delete Team Avatar?",text:"Are you sure you want to remove the team avatar?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel",customClass:{confirmButton:"wizard-button red",cancelButton:"wizard-button button-text"}})).isConfirmed){let e=t.closest("form");e&&e.submit()}})})}())}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",eE):eE(),document.addEventListener("DOMContentLoaded",()=>{a(),ev(),document.querySelectorAll(".switch-team-trigger").forEach(e=>{e.addEventListener("click",ei)}),t(".new-team","click",es),eE()})})();
//# sourceMappingURL=index.js.map
